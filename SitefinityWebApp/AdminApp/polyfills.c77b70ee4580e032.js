/*! For license information please see polyfills.c77b70ee4580e032.js.LICENSE.txt */
(self.webpackChunkiris=self.webpackChunkiris||[]).push([["polyfills"],{2853:function(){(function(){"use strict";var t=window.Document.prototype.createElement,r=window.Document.prototype.createElementNS,i=window.Document.prototype.importNode,a=window.Document.prototype.prepend,o=window.Document.prototype.append,l=window.DocumentFragment.prototype.prepend,u=window.DocumentFragment.prototype.append,p=window.Node.prototype.cloneNode,h=window.Node.prototype.appendChild,d=window.Node.prototype.insertBefore,v=window.Node.prototype.removeChild,m=window.Node.prototype.replaceChild,y=Object.getOwnPropertyDescriptor(window.Node.prototype,"textContent"),E=window.Element.prototype.attachShadow,k=Object.getOwnPropertyDescriptor(window.Element.prototype,"innerHTML"),x=window.Element.prototype.getAttribute,_=window.Element.prototype.setAttribute,w=window.Element.prototype.removeAttribute,C=window.Element.prototype.getAttributeNS,I=window.Element.prototype.setAttributeNS,A=window.Element.prototype.removeAttributeNS,D=window.Element.prototype.insertAdjacentElement,O=window.Element.prototype.insertAdjacentHTML,B=window.Element.prototype.prepend,q=window.Element.prototype.append,j=window.Element.prototype.before,H=window.Element.prototype.after,z=window.Element.prototype.replaceWith,$=window.Element.prototype.remove,G=window.HTMLElement,ee=Object.getOwnPropertyDescriptor(window.HTMLElement.prototype,"innerHTML"),te=window.HTMLElement.prototype.insertAdjacentElement,ne=window.HTMLElement.prototype.insertAdjacentHTML,re=new Set;function qa(t){var r=re.has(t);return t=/^[a-z][.0-9_a-z]*-[-.0-9_a-z]*$/.test(t),!r&&t}"annotation-xml color-profile font-face font-face-src font-face-uri font-face-format font-face-name missing-glyph".split(" ").forEach((function(t){return re.add(t)}));var ie=document.contains?document.contains.bind(document):document.documentElement.contains.bind(document.documentElement);function J(t){var r=t.isConnected;if(void 0!==r)return r;if(ie(t))return!0;for(;t&&!(t.__CE_isImportDocument||t instanceof Document);)t=t.parentNode||(window.ShadowRoot&&t instanceof ShadowRoot?t.host:void 0);return!(!t||!(t.__CE_isImportDocument||t instanceof Document))}function K(t){var r=t.children;if(r)return Array.prototype.slice.call(r);for(r=[],t=t.firstChild;t;t=t.nextSibling)t.nodeType===Node.ELEMENT_NODE&&r.push(t);return r}function L(t,r){for(;r&&r!==t&&!r.nextSibling;)r=r.parentNode;return r&&r!==t?r.nextSibling:null}function M(t,r,i){for(var a=t;a;){if(a.nodeType===Node.ELEMENT_NODE){var o=a;r(o);var l=o.localName;if("link"===l&&"import"===o.getAttribute("rel")){if(a=o.import,void 0===i&&(i=new Set),a instanceof Node&&!i.has(a))for(i.add(a),a=a.firstChild;a;a=a.nextSibling)M(a,r,i);a=L(t,o);continue}if("template"===l){a=L(t,o);continue}if(o=o.__CE_shadowRoot)for(o=o.firstChild;o;o=o.nextSibling)M(o,r,i)}a=a.firstChild?a.firstChild:L(t,a)}}function N(){var t=!(null==se||!se.noDocumentConstructionObserver),r=!(null==se||!se.shadyDomFastWalk);this.m=[],this.g=[],this.j=!1,this.shadyDomFastWalk=r,this.I=!t}function P(t,r,i,a){var o=window.ShadyDOM;if(t.shadyDomFastWalk&&o&&o.inUse){if(r.nodeType===Node.ELEMENT_NODE&&i(r),r.querySelectorAll)for(t=o.nativeMethods.querySelectorAll.call(r,"*"),r=0;r<t.length;r++)i(t[r])}else M(r,i,a)}function Q(t,r){t.j&&P(t,r,(function(r){return R(t,r)}))}function R(t,r){if(t.j&&!r.__CE_patched){r.__CE_patched=!0;for(var i=0;i<t.m.length;i++)t.m[i](r);for(i=0;i<t.g.length;i++)t.g[i](r)}}function S(t,r){var i=[];for(P(t,r,(function(t){return i.push(t)})),r=0;r<i.length;r++){var a=i[r];1===a.__CE_state?t.connectedCallback(a):T(t,a)}}function U(t,r){var i=[];for(P(t,r,(function(t){return i.push(t)})),r=0;r<i.length;r++){var a=i[r];1===a.__CE_state&&t.disconnectedCallback(a)}}function V(t,r,i){var a=(i=void 0===i?{}:i).J,o=i.upgrade||function(r){return T(t,r)},l=[];for(P(t,r,(function(r){if(t.j&&R(t,r),"link"===r.localName&&"import"===r.getAttribute("rel")){var i=r.import;i instanceof Node&&(i.__CE_isImportDocument=!0,i.__CE_registry=document.__CE_registry),i&&"complete"===i.readyState?i.__CE_documentLoadHandled=!0:r.addEventListener("load",(function(){var i=r.import;if(!i.__CE_documentLoadHandled){i.__CE_documentLoadHandled=!0;var l=new Set;a&&(a.forEach((function(t){return l.add(t)})),l.delete(i)),V(t,i,{J:l,upgrade:o})}}))}else l.push(r)}),a),r=0;r<l.length;r++)o(l[r])}function T(t,r){try{var i=r.ownerDocument,a=i.__CE_registry,o=a&&(i.defaultView||i.__CE_isImportDocument)?W(a,r.localName):void 0;if(o&&void 0===r.__CE_state){o.constructionStack.push(r);try{try{if(new o.constructorFunction!==r)throw Error("The custom element constructor did not produce the element being upgraded.")}finally{o.constructionStack.pop()}}catch(t){throw r.__CE_state=2,t}if(r.__CE_state=1,r.__CE_definition=o,o.attributeChangedCallback&&r.hasAttributes()){var l=o.observedAttributes;for(o=0;o<l.length;o++){var u=l[o],p=r.getAttribute(u);null!==p&&t.attributeChangedCallback(r,u,null,p,null)}}J(r)&&t.connectedCallback(r)}}catch(t){X(t)}}function ua(i,a,o,l){var u=a.__CE_registry;if(u&&(null===l||"http://www.w3.org/1999/xhtml"===l)&&(u=W(u,o)))try{var p=new u.constructorFunction;if(void 0===p.__CE_state||void 0===p.__CE_definition)throw Error("Failed to construct '"+o+"': The returned value was not constructed with the HTMLElement constructor.");if("http://www.w3.org/1999/xhtml"!==p.namespaceURI)throw Error("Failed to construct '"+o+"': The constructed element's namespace must be the HTML namespace.");if(p.hasAttributes())throw Error("Failed to construct '"+o+"': The constructed element must not have any attributes.");if(null!==p.firstChild)throw Error("Failed to construct '"+o+"': The constructed element must not have any children.");if(null!==p.parentNode)throw Error("Failed to construct '"+o+"': The constructed element must not have a parent node.");if(p.ownerDocument!==a)throw Error("Failed to construct '"+o+"': The constructed element's owner document is incorrect.");if(p.localName!==o)throw Error("Failed to construct '"+o+"': The constructed element's local name is incorrect.");return p}catch(u){return X(u),a=null===l?t.call(a,o):r.call(a,l,o),Object.setPrototypeOf(a,HTMLUnknownElement.prototype),a.__CE_state=2,a.__CE_definition=void 0,R(i,a),a}return R(i,a=null===l?t.call(a,o):r.call(a,l,o)),a}function X(t){var r=t.message,i=t.sourceURL||t.fileName||"",a=t.line||t.lineNumber||0,o=t.column||t.columnNumber||0,l=void 0;void 0===ErrorEvent.prototype.initErrorEvent?l=new ErrorEvent("error",{cancelable:!0,message:r,filename:i,lineno:a,colno:o,error:t}):((l=document.createEvent("ErrorEvent")).initErrorEvent("error",!1,!0,r,i,a),l.preventDefault=function(){Object.defineProperty(this,"defaultPrevented",{configurable:!0,get:function get(){return!0}})}),void 0===l.error&&Object.defineProperty(l,"error",{configurable:!0,enumerable:!0,get:function get(){return t}}),window.dispatchEvent(l),l.defaultPrevented||console.error(t)}function va(){var t=this;this.g=void 0,this.F=new Promise((function(r){t.l=r}))}function wa(t){var r=document;this.l=void 0,this.h=t,this.g=r,V(this.h,this.g),"loading"===this.g.readyState&&(this.l=new MutationObserver(this.G.bind(this)),this.l.observe(this.g,{childList:!0,subtree:!0}))}function xa(t){t.l&&t.l.disconnect()}function Y(t){this.s=new Map,this.u=new Map,this.C=new Map,this.A=!1,this.B=new Map,this.o=function(t){return t()},this.i=!1,this.v=[],this.h=t,this.D=t.I?new wa(t):void 0}function ya(t,r){if(!qa(r))throw new SyntaxError("The element name '"+r+"' is not valid.");if(W(t,r))throw Error("A custom element with name '"+r+"' has already been defined.");if(t.A)throw Error("A custom element is already being defined.")}function Aa(t,r,i){var a;t.A=!0;try{var o=i.prototype;if(!(o instanceof Object))throw new TypeError("The custom element constructor's prototype is not an object.");var l=function e(t){var r=o[t];if(void 0!==r&&!(r instanceof Function))throw Error("The '"+t+"' callback must be a function.");return r},u=l("connectedCallback"),p=l("disconnectedCallback"),h=l("adoptedCallback"),d=(a=l("attributeChangedCallback"))&&i.observedAttributes||[]}catch(t){throw t}finally{t.A=!1}return i={localName:r,constructorFunction:i,connectedCallback:u,disconnectedCallback:p,adoptedCallback:h,attributeChangedCallback:a,observedAttributes:d,constructionStack:[]},t.u.set(r,i),t.C.set(i.constructorFunction,i),i}function za(t){if(!1!==t.i){t.i=!1;for(var r=[],i=t.v,a=new Map,o=0;o<i.length;o++)a.set(i[o],[]);for(V(t.h,document,{upgrade:function upgrade(i){if(void 0===i.__CE_state){var o=i.localName,l=a.get(o);l?l.push(i):t.u.has(o)&&r.push(i)}}}),o=0;o<r.length;o++)T(t.h,r[o]);for(o=0;o<i.length;o++){for(var l=i[o],u=a.get(l),p=0;p<u.length;p++)T(t.h,u[p]);(l=t.B.get(l))&&l.resolve(void 0)}i.length=0}}function W(t,r){var i=t.u.get(r);if(i)return i;if(i=t.s.get(r)){t.s.delete(r);try{return Aa(t,r,i())}catch(t){X(t)}}}function Z(t,r,i){function f(r){return function(i){for(var a=[],o=0;o<arguments.length;++o)a[o]=arguments[o];o=[];for(var l=[],u=0;u<a.length;u++){var p=a[u];if(p instanceof Element&&J(p)&&l.push(p),p instanceof DocumentFragment)for(p=p.firstChild;p;p=p.nextSibling)o.push(p);else o.push(p)}for(r.apply(this,a),a=0;a<l.length;a++)U(t,l[a]);if(J(this))for(a=0;a<o.length;a++)(l=o[a])instanceof Element&&S(t,l)}}void 0!==i.prepend&&(r.prepend=f(i.prepend)),void 0!==i.append&&(r.append=f(i.append))}function Da(t){function b(r,i){Object.defineProperty(r,"innerHTML",{enumerable:i.enumerable,configurable:!0,get:i.get,set:function set(r){var a=this,o=void 0;if(J(this)&&(o=[],P(t,this,(function(t){t!==a&&o.push(t)}))),i.set.call(this,r),o)for(var l=0;l<o.length;l++){var u=o[l];1===u.__CE_state&&t.disconnectedCallback(u)}return this.ownerDocument.__CE_registry?V(t,this):Q(t,this),r}})}function c(r,i){r.insertAdjacentElement=function(r,a){var o=J(a);return r=i.call(this,r,a),o&&U(t,a),J(r)&&S(t,a),r}}function f(r,i){function g(r,i){for(var a=[];r!==i;r=r.nextSibling)a.push(r);for(i=0;i<a.length;i++)V(t,a[i])}r.insertAdjacentHTML=function(t,r){if("beforebegin"===(t=t.toLowerCase())){var a=this.previousSibling;i.call(this,t,r),g(a||this.parentNode.firstChild,this)}else if("afterbegin"===t)a=this.firstChild,i.call(this,t,r),g(this.firstChild,a);else if("beforeend"===t)a=this.lastChild,i.call(this,t,r),g(a||this.firstChild,null);else{if("afterend"!==t)throw new SyntaxError("The value provided ("+String(t)+") is not one of 'beforebegin', 'afterbegin', 'beforeend', or 'afterend'.");a=this.nextSibling,i.call(this,t,r),g(this.nextSibling,a)}}}E&&(Element.prototype.attachShadow=function(r){if(r=E.call(this,r),t.j&&!r.__CE_patched){r.__CE_patched=!0;for(var i=0;i<t.m.length;i++)t.m[i](r)}return this.__CE_shadowRoot=r}),k&&k.get?b(Element.prototype,k):ee&&ee.get?b(HTMLElement.prototype,ee):function ta(t,r){t.j=!0,t.g.push(r)}(t,(function(t){b(t,{enumerable:!0,configurable:!0,get:function get(){return p.call(this,!0).innerHTML},set:function set(t){var i="template"===this.localName,a=i?this.content:this,o=r.call(document,this.namespaceURI,this.localName);for(o.innerHTML=t;0<a.childNodes.length;)v.call(a,a.childNodes[0]);for(t=i?o.content:o;0<t.childNodes.length;)h.call(a,t.childNodes[0])}})})),Element.prototype.setAttribute=function(r,i){if(1!==this.__CE_state)return _.call(this,r,i);var a=x.call(this,r);_.call(this,r,i),i=x.call(this,r),t.attributeChangedCallback(this,r,a,i,null)},Element.prototype.setAttributeNS=function(r,i,a){if(1!==this.__CE_state)return I.call(this,r,i,a);var o=C.call(this,r,i);I.call(this,r,i,a),a=C.call(this,r,i),t.attributeChangedCallback(this,i,o,a,r)},Element.prototype.removeAttribute=function(r){if(1!==this.__CE_state)return w.call(this,r);var i=x.call(this,r);w.call(this,r),null!==i&&t.attributeChangedCallback(this,r,i,null,null)},Element.prototype.removeAttributeNS=function(r,i){if(1!==this.__CE_state)return A.call(this,r,i);var a=C.call(this,r,i);A.call(this,r,i);var o=C.call(this,r,i);a!==o&&t.attributeChangedCallback(this,i,a,o,r)},te?c(HTMLElement.prototype,te):D&&c(Element.prototype,D),ne?f(HTMLElement.prototype,ne):O&&f(Element.prototype,O),Z(t,Element.prototype,{prepend:B,append:q}),function Ca(t){function b(r){return function(i){for(var a=[],o=0;o<arguments.length;++o)a[o]=arguments[o];o=[];for(var l=[],u=0;u<a.length;u++){var p=a[u];if(p instanceof Element&&J(p)&&l.push(p),p instanceof DocumentFragment)for(p=p.firstChild;p;p=p.nextSibling)o.push(p);else o.push(p)}for(r.apply(this,a),a=0;a<l.length;a++)U(t,l[a]);if(J(this))for(a=0;a<o.length;a++)(l=o[a])instanceof Element&&S(t,l)}}var r=Element.prototype;void 0!==j&&(r.before=b(j)),void 0!==H&&(r.after=b(H)),void 0!==z&&(r.replaceWith=function(r){for(var i=[],a=0;a<arguments.length;++a)i[a]=arguments[a];a=[];for(var o=[],l=0;l<i.length;l++){var u=i[l];if(u instanceof Element&&J(u)&&o.push(u),u instanceof DocumentFragment)for(u=u.firstChild;u;u=u.nextSibling)a.push(u);else a.push(u)}for(l=J(this),z.apply(this,i),i=0;i<o.length;i++)U(t,o[i]);if(l)for(U(t,this),i=0;i<a.length;i++)(o=a[i])instanceof Element&&S(t,o)}),void 0!==$&&(r.remove=function(){var r=J(this);$.call(this),r&&U(t,this)})}(t)}N.prototype.connectedCallback=function(t){var r=t.__CE_definition;if(r.connectedCallback)try{r.connectedCallback.call(t)}catch(t){X(t)}},N.prototype.disconnectedCallback=function(t){var r=t.__CE_definition;if(r.disconnectedCallback)try{r.disconnectedCallback.call(t)}catch(t){X(t)}},N.prototype.attributeChangedCallback=function(t,r,i,a,o){var l=t.__CE_definition;if(l.attributeChangedCallback&&-1<l.observedAttributes.indexOf(r))try{l.attributeChangedCallback.call(t,r,i,a,o)}catch(t){X(t)}},va.prototype.resolve=function(t){if(this.g)throw Error("Already resolved.");this.g=t,this.l(t)},wa.prototype.G=function(t){var r=this.g.readyState;for("interactive"!==r&&"complete"!==r||xa(this),r=0;r<t.length;r++)for(var i=t[r].addedNodes,a=0;a<i.length;a++)V(this.h,i[a])},Y.prototype.H=function(t,r){var i=this;if(!(r instanceof Function))throw new TypeError("Custom element constructor getters must be functions.");ya(this,t),this.s.set(t,r),this.v.push(t),this.i||(this.i=!0,this.o((function(){return za(i)})))},Y.prototype.define=function(t,r){var i=this;if(!(r instanceof Function))throw new TypeError("Custom element constructors must be functions.");ya(this,t),Aa(this,t,r),this.v.push(t),this.i||(this.i=!0,this.o((function(){return za(i)})))},Y.prototype.upgrade=function(t){V(this.h,t)},Y.prototype.get=function(t){if(t=W(this,t))return t.constructorFunction},Y.prototype.whenDefined=function(t){if(!qa(t))return Promise.reject(new SyntaxError("'"+t+"' is not a valid custom element name."));var r=this.B.get(t);if(r)return r.F;r=new va,this.B.set(t,r);var i=this.u.has(t)||this.s.has(t);return t=-1===this.v.indexOf(t),i&&t&&r.resolve(void 0),r.F},Y.prototype.polyfillWrapFlushCallback=function(t){this.D&&xa(this.D);var r=this.o;this.o=function(i){return t((function(){return r(i)}))}},window.CustomElementRegistry=Y,Y.prototype.define=Y.prototype.define,Y.prototype.upgrade=Y.prototype.upgrade,Y.prototype.get=Y.prototype.get,Y.prototype.whenDefined=Y.prototype.whenDefined,Y.prototype.polyfillDefineLazy=Y.prototype.H,Y.prototype.polyfillWrapFlushCallback=Y.prototype.polyfillWrapFlushCallback;var ae={};var se=window.customElements;function Ha(){var r=new N;!function Fa(r){function b(){var i=this.constructor,a=document.__CE_registry.C.get(i);if(!a)throw Error("Failed to construct a custom element: The constructor was not registered with `customElements`.");var o=a.constructionStack;if(0===o.length)return o=t.call(document,a.localName),Object.setPrototypeOf(o,i.prototype),o.__CE_state=1,o.__CE_definition=a,R(r,o),o;var l=o.length-1,u=o[l];if(u===ae)throw Error("Failed to construct '"+a.localName+"': This element was already constructed.");return o[l]=ae,Object.setPrototypeOf(u,i.prototype),R(r,u),u}b.prototype=G.prototype,Object.defineProperty(HTMLElement.prototype,"constructor",{writable:!0,configurable:!0,enumerable:!1,value:b}),window.HTMLElement=b}(r),function Ba(t){Document.prototype.createElement=function(r){return ua(t,this,r,null)},Document.prototype.importNode=function(r,a){return r=i.call(this,r,!!a),this.__CE_registry?V(t,r):Q(t,r),r},Document.prototype.createElementNS=function(r,i){return ua(t,this,i,r)},Z(t,Document.prototype,{prepend:a,append:o})}(r),Z(r,DocumentFragment.prototype,{prepend:l,append:u}),function Ga(t){function b(r,i){Object.defineProperty(r,"textContent",{enumerable:i.enumerable,configurable:!0,get:i.get,set:function set(r){if(this.nodeType===Node.TEXT_NODE)i.set.call(this,r);else{var a=void 0;if(this.firstChild){var o=this.childNodes,l=o.length;if(0<l&&J(this)){a=Array(l);for(var u=0;u<l;u++)a[u]=o[u]}}if(i.set.call(this,r),a)for(r=0;r<a.length;r++)U(t,a[r])}}})}Node.prototype.insertBefore=function(r,i){if(r instanceof DocumentFragment){var a=K(r);if(r=d.call(this,r,i),J(this))for(i=0;i<a.length;i++)S(t,a[i]);return r}return a=r instanceof Element&&J(r),i=d.call(this,r,i),a&&U(t,r),J(this)&&S(t,r),i},Node.prototype.appendChild=function(r){if(r instanceof DocumentFragment){var i=K(r);if(r=h.call(this,r),J(this))for(var a=0;a<i.length;a++)S(t,i[a]);return r}return i=r instanceof Element&&J(r),a=h.call(this,r),i&&U(t,r),J(this)&&S(t,r),a},Node.prototype.cloneNode=function(r){return r=p.call(this,!!r),this.ownerDocument.__CE_registry?V(t,r):Q(t,r),r},Node.prototype.removeChild=function(r){var i=r instanceof Element&&J(r),a=v.call(this,r);return i&&U(t,r),a},Node.prototype.replaceChild=function(r,i){if(r instanceof DocumentFragment){var a=K(r);if(r=m.call(this,r,i),J(this))for(U(t,i),i=0;i<a.length;i++)S(t,a[i]);return r}a=r instanceof Element&&J(r);var o=m.call(this,r,i),l=J(this);return l&&U(t,i),a&&U(t,r),l&&S(t,r),o},y&&y.get?b(Node.prototype,y):function sa(t,r){t.j=!0,t.m.push(r)}(t,(function(t){b(t,{enumerable:!0,configurable:!0,get:function get(){for(var t=[],r=this.firstChild;r;r=r.nextSibling)r.nodeType!==Node.COMMENT_NODE&&t.push(r.textContent);return t.join("")},set:function set(t){for(;this.firstChild;)v.call(this,this.firstChild);null!=t&&""!==t&&h.call(this,document.createTextNode(t))}})}))}(r),Da(r),r=new Y(r),document.__CE_registry=r,Object.defineProperty(window,"customElements",{configurable:!0,enumerable:!0,value:r})}se&&!se.forcePolyfill&&"function"==typeof se.define&&"function"==typeof se.get||Ha(),window.__CE_installPolyfill=Ha}).call(self)},2852:function(){"use strict";!function(){if(void 0!==window.Reflect&&void 0!==window.customElements&&!window.customElements.polyfillWrapFlushCallback){var t=HTMLElement,r=function HTMLElement(){return Reflect.construct(t,[],this.constructor)};window.HTMLElement=r,HTMLElement.prototype=t.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,t)}}()},2854:function(){!function(){"use strict";var t;if(!((t=document.createEvent("Event")).initEvent("foo",!0,!0),t.preventDefault(),t.defaultPrevented)){var r=Event.prototype.preventDefault;Event.prototype.preventDefault=function(){this.cancelable&&(r.call(this),Object.defineProperty(this,"defaultPrevented",{get:function get(){return!0},configurable:!0}))}}var i=/Trident/.test(navigator.userAgent);if(!window.Event||i&&"function"!=typeof window.Event){var a=window.Event;if(window.Event=function(t,r){r=r||{};var i=document.createEvent("Event");return i.initEvent(t,Boolean(r.bubbles),Boolean(r.cancelable)),i},a){for(var o in a)window.Event[o]=a[o];window.Event.prototype=a.prototype}}if((!window.CustomEvent||i&&"function"!=typeof window.CustomEvent)&&(window.CustomEvent=function(t,r){r=r||{};var i=document.createEvent("CustomEvent");return i.initCustomEvent(t,Boolean(r.bubbles),Boolean(r.cancelable),r.detail),i},window.CustomEvent.prototype=window.Event.prototype),!window.MouseEvent||i&&"function"!=typeof window.MouseEvent){var l=window.MouseEvent;if(window.MouseEvent=function(t,r){r=r||{};var i=document.createEvent("MouseEvent");return i.initMouseEvent(t,Boolean(r.bubbles),Boolean(r.cancelable),r.view||window,r.detail,r.screenX,r.screenY,r.clientX,r.clientY,r.ctrlKey,r.altKey,r.shiftKey,r.metaKey,r.button,r.relatedTarget),i},l)for(var o in l)window.MouseEvent[o]=l[o];window.MouseEvent.prototype=l.prototype}if(Array.from||(Array.from=function(t){return[].slice.call(t)}),!Object.assign){var u=function assign(t,r){for(var i,a=Object.getOwnPropertyNames(r),o=0;o<a.length;o++)t[i=a[o]]=r[i]};Object.assign=function(t,r){for(var i,a=[].slice.call(arguments,1),o=0;o<a.length;o++)(i=a[o])&&u(t,i);return t}}}()},64:function(t){var r=function(t){"use strict";var r,i=Object.prototype,a=i.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},l=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",p=o.toStringTag||"@@toStringTag";function define(t,r,i){return Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{define({},"")}catch(t){define=function define(t,r,i){return t[r]=i}}function wrap(t,r,i,a){var o=r&&r.prototype instanceof Generator?r:Generator,l=Object.create(o.prototype),u=new Context(a||[]);return l._invoke=function makeInvokeMethod(t,r,i){var a=h;return function invoke(o,l){if(a===v)throw new Error("Generator is already running");if(a===m){if("throw"===o)throw l;return doneResult()}for(i.method=o,i.arg=l;;){var u=i.delegate;if(u){var p=maybeInvokeDelegate(u,i);if(p){if(p===y)continue;return p}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(a===h)throw a=m,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);a=v;var E=tryCatch(t,r,i);if("normal"===E.type){if(a=i.done?m:d,E.arg===y)continue;return{value:E.arg,done:i.done}}"throw"===E.type&&(a=m,i.method="throw",i.arg=E.arg)}}}(t,i,u),l}function tryCatch(t,r,i){try{return{type:"normal",arg:t.call(r,i)}}catch(t){return{type:"throw",arg:t}}}t.wrap=wrap;var h="suspendedStart",d="suspendedYield",v="executing",m="completed",y={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var E={};define(E,l,(function(){return this}));var k=Object.getPrototypeOf,x=k&&k(k(values([])));x&&x!==i&&a.call(x,l)&&(E=x);var _=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(E);function defineIteratorMethods(t){["next","throw","return"].forEach((function(r){define(t,r,(function(t){return this._invoke(r,t)}))}))}function AsyncIterator(t,r){function invoke(i,o,l,u){var p=tryCatch(t[i],t,o);if("throw"!==p.type){var h=p.arg,d=h.value;return d&&"object"==typeof d&&a.call(d,"__await")?r.resolve(d.__await).then((function(t){invoke("next",t,l,u)}),(function(t){invoke("throw",t,l,u)})):r.resolve(d).then((function(t){h.value=t,l(h)}),(function(t){return invoke("throw",t,l,u)}))}u(p.arg)}var i;this._invoke=function enqueue(t,a){function callInvokeWithMethodAndArg(){return new r((function(r,i){invoke(t,a,r,i)}))}return i=i?i.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(t,i){var a=t.iterator[i.method];if(a===r){if(i.delegate=null,"throw"===i.method){if(t.iterator.return&&(i.method="return",i.arg=r,maybeInvokeDelegate(t,i),"throw"===i.method))return y;i.method="throw",i.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var o=tryCatch(a,t.iterator,i.arg);if("throw"===o.type)return i.method="throw",i.arg=o.arg,i.delegate=null,y;var l=o.arg;return l?l.done?(i[t.resultName]=l.value,i.next=t.nextLoc,"return"!==i.method&&(i.method="next",i.arg=r),i.delegate=null,y):l:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,y)}function pushTryEntry(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function resetTryEntry(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(t){if(t){var i=t[l];if(i)return i.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,u=function next(){for(;++o<t.length;)if(a.call(t,o))return next.value=t[o],next.done=!1,next;return next.value=r,next.done=!0,next};return u.next=u}}return{next:doneResult}}function doneResult(){return{value:r,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,define(_,"constructor",GeneratorFunctionPrototype),define(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,p,"GeneratorFunction"),t.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===GeneratorFunction||"GeneratorFunction"===(r.displayName||r.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,p,"GeneratorFunction")),t.prototype=Object.create(_),t},t.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,u,(function(){return this})),t.AsyncIterator=AsyncIterator,t.async=function(r,i,a,o,l){void 0===l&&(l=Promise);var u=new AsyncIterator(wrap(r,i,a,o),l);return t.isGeneratorFunction(i)?u:u.next().then((function(t){return t.done?t.value:u.next()}))},defineIteratorMethods(_),define(_,p,"Generator"),define(_,l,(function(){return this})),define(_,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var r=[];for(var i in t)r.push(i);return r.reverse(),function next(){for(;r.length;){var i=r.pop();if(i in t)return next.value=i,next.done=!1,next}return next.done=!0,next}},t.values=values,Context.prototype={constructor:Context,reset:function reset(t){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(resetTryEntry),!t)for(var i in this)"t"===i.charAt(0)&&a.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=r)},stop:function stop(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function dispatchException(t){if(this.done)throw t;var i=this;function handle(a,o){return u.type="throw",u.arg=t,i.next=a,o&&(i.method="next",i.arg=r),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var l=this.tryEntries[o],u=l.completion;if("root"===l.tryLoc)return handle("end");if(l.tryLoc<=this.prev){var p=a.call(l,"catchLoc"),h=a.call(l,"finallyLoc");if(p&&h){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0);if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}else if(p){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}}}},abrupt:function abrupt(t,r){for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i];if(o.tryLoc<=this.prev&&a.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var l=o;break}}l&&("break"===t||"continue"===t)&&l.tryLoc<=r&&r<=l.finallyLoc&&(l=null);var u=l?l.completion:{};return u.type=t,u.arg=r,l?(this.method="next",this.next=l.finallyLoc,y):this.complete(u)},complete:function complete(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),y},finish:function finish(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),resetTryEntry(i),y}},catch:function _catch(t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc===t){var a=i.completion;if("throw"===a.type){var o=a.arg;resetTryEntry(i)}return o}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(t,i,a){return this.delegate={iterator:values(t),resultName:i,nextLoc:a},"next"===this.method&&(this.arg=r),y}},t}(t.exports);try{regeneratorRuntime=r}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},2846:function(t,r,i){"use strict";var a=i(2847).default,o=i(2850).default,l=i(2851).default;!function(t){var r=t.performance;function mark(t){r&&r.mark&&r.mark(t)}function performanceMeasure(t,i){r&&r.measure&&r.measure(t,i)}mark("Zone");var i=t.__Zone_symbol_prefix||"__zone_symbol__";function __symbol__(t){return i+t}var a=!0===t[__symbol__("forceDuplicateZoneCheck")];if(t.Zone){if(a||"function"!=typeof t.Zone.__symbol__)throw new Error("Zone already loaded.");return t.Zone}var u=function(){function Zone(t,r){o(this,Zone),this._parent=t,this._name=r?r.name||"unnamed":"<root>",this._properties=r&&r.properties||{},this._zoneDelegate=new d(this,this._parent&&this._parent._zoneDelegate,r)}return l(Zone,[{key:"parent",get:function get(){return this._parent}},{key:"name",get:function get(){return this._name}},{key:"get",value:function get(t){var r=this.getZoneWith(t);if(r)return r._properties[t]}},{key:"getZoneWith",value:function getZoneWith(t){for(var r=this;r;){if(r._properties.hasOwnProperty(t))return r;r=r._parent}return null}},{key:"fork",value:function fork(t){if(!t)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,t)}},{key:"wrap",value:function wrap(t,r){if("function"!=typeof t)throw new Error("Expecting function got: "+t);var i=this._zoneDelegate.intercept(this,t,r),a=this;return function(){return a.runGuarded(i,this,arguments,r)}}},{key:"run",value:function run(t,r,i,a){$={parent:$,zone:this};try{return this._zoneDelegate.invoke(this,t,r,i,a)}finally{$=$.parent}}},{key:"runGuarded",value:function runGuarded(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0;$={parent:$,zone:this};try{try{return this._zoneDelegate.invoke(this,t,r,i,a)}catch(t){if(this._zoneDelegate.handleError(this,t))throw t}}finally{$=$.parent}}},{key:"runTask",value:function runTask(t,r,i){if(t.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(t.zone||_).name+"; Execution: "+this.name+")");if(t.state!==w||t.type!==j&&t.type!==q){var a=t.state!=A;a&&t._transitionTo(A,I),t.runCount++;var o=G;G=t,$={parent:$,zone:this};try{t.type==q&&t.data&&!t.data.isPeriodic&&(t.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,t,r,i)}catch(t){if(this._zoneDelegate.handleError(this,t))throw t}}finally{t.state!==w&&t.state!==O&&(t.type==j||t.data&&t.data.isPeriodic?a&&t._transitionTo(I,A):(t.runCount=0,this._updateTaskCount(t,-1),a&&t._transitionTo(w,A,w))),$=$.parent,G=o}}}},{key:"scheduleTask",value:function scheduleTask(t){if(t.zone&&t.zone!==this)for(var r=this;r;){if(r===t.zone)throw Error("can not reschedule task to ".concat(this.name," which is descendants of the original zone ").concat(t.zone.name));r=r.parent}t._transitionTo(C,w);var i=[];t._zoneDelegates=i,t._zone=this;try{t=this._zoneDelegate.scheduleTask(this,t)}catch(r){throw t._transitionTo(O,C,w),this._zoneDelegate.handleError(this,r),r}return t._zoneDelegates===i&&this._updateTaskCount(t,1),t.state==C&&t._transitionTo(I,C),t}},{key:"scheduleMicroTask",value:function scheduleMicroTask(t,r,i,a){return this.scheduleTask(new v(B,t,r,i,a,void 0))}},{key:"scheduleMacroTask",value:function scheduleMacroTask(t,r,i,a,o){return this.scheduleTask(new v(q,t,r,i,a,o))}},{key:"scheduleEventTask",value:function scheduleEventTask(t,r,i,a,o){return this.scheduleTask(new v(j,t,r,i,a,o))}},{key:"cancelTask",value:function cancelTask(t){if(t.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(t.zone||_).name+"; Execution: "+this.name+")");t._transitionTo(D,I,A);try{this._zoneDelegate.cancelTask(this,t)}catch(r){throw t._transitionTo(O,D),this._zoneDelegate.handleError(this,r),r}return this._updateTaskCount(t,-1),t._transitionTo(w,D),t.runCount=0,t}},{key:"_updateTaskCount",value:function _updateTaskCount(t,r){var i=t._zoneDelegates;-1==r&&(t._zoneDelegates=null);for(var a=0;a<i.length;a++)i[a]._updateTaskCount(t.type,r)}}],[{key:"assertZonePatched",value:function assertZonePatched(){if(t.Promise!==H.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}},{key:"root",get:function get(){for(var t=Zone.current;t.parent;)t=t.parent;return t}},{key:"current",get:function get(){return $.zone}},{key:"currentTask",get:function get(){return G}},{key:"__load_patch",value:function __load_patch(r,i){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(H.hasOwnProperty(r)){if(!o&&a)throw Error("Already loaded patch: "+r)}else if(!t["__Zone_disable_"+r]){var l="Zone:"+r;mark(l),H[r]=i(t,Zone,z),performanceMeasure(l,l)}}}]),Zone}();u.__symbol__=__symbol__;var p,h={name:"",onHasTask:function onHasTask(t,r,i,a){return t.hasTask(i,a)},onScheduleTask:function onScheduleTask(t,r,i,a){return t.scheduleTask(i,a)},onInvokeTask:function onInvokeTask(t,r,i,a,o,l){return t.invokeTask(i,a,o,l)},onCancelTask:function onCancelTask(t,r,i,a){return t.cancelTask(i,a)}},d=function(){function _ZoneDelegate(t,r,i){o(this,_ZoneDelegate),this._taskCounts={microTask:0,macroTask:0,eventTask:0},this.zone=t,this._parentDelegate=r,this._forkZS=i&&(i&&i.onFork?i:r._forkZS),this._forkDlgt=i&&(i.onFork?r:r._forkDlgt),this._forkCurrZone=i&&(i.onFork?this.zone:r._forkCurrZone),this._interceptZS=i&&(i.onIntercept?i:r._interceptZS),this._interceptDlgt=i&&(i.onIntercept?r:r._interceptDlgt),this._interceptCurrZone=i&&(i.onIntercept?this.zone:r._interceptCurrZone),this._invokeZS=i&&(i.onInvoke?i:r._invokeZS),this._invokeDlgt=i&&(i.onInvoke?r:r._invokeDlgt),this._invokeCurrZone=i&&(i.onInvoke?this.zone:r._invokeCurrZone),this._handleErrorZS=i&&(i.onHandleError?i:r._handleErrorZS),this._handleErrorDlgt=i&&(i.onHandleError?r:r._handleErrorDlgt),this._handleErrorCurrZone=i&&(i.onHandleError?this.zone:r._handleErrorCurrZone),this._scheduleTaskZS=i&&(i.onScheduleTask?i:r._scheduleTaskZS),this._scheduleTaskDlgt=i&&(i.onScheduleTask?r:r._scheduleTaskDlgt),this._scheduleTaskCurrZone=i&&(i.onScheduleTask?this.zone:r._scheduleTaskCurrZone),this._invokeTaskZS=i&&(i.onInvokeTask?i:r._invokeTaskZS),this._invokeTaskDlgt=i&&(i.onInvokeTask?r:r._invokeTaskDlgt),this._invokeTaskCurrZone=i&&(i.onInvokeTask?this.zone:r._invokeTaskCurrZone),this._cancelTaskZS=i&&(i.onCancelTask?i:r._cancelTaskZS),this._cancelTaskDlgt=i&&(i.onCancelTask?r:r._cancelTaskDlgt),this._cancelTaskCurrZone=i&&(i.onCancelTask?this.zone:r._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;var a=i&&i.onHasTask,l=r&&r._hasTaskZS;(a||l)&&(this._hasTaskZS=a?i:h,this._hasTaskDlgt=r,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=t,i.onScheduleTask||(this._scheduleTaskZS=h,this._scheduleTaskDlgt=r,this._scheduleTaskCurrZone=this.zone),i.onInvokeTask||(this._invokeTaskZS=h,this._invokeTaskDlgt=r,this._invokeTaskCurrZone=this.zone),i.onCancelTask||(this._cancelTaskZS=h,this._cancelTaskDlgt=r,this._cancelTaskCurrZone=this.zone))}return l(_ZoneDelegate,[{key:"fork",value:function fork(t,r){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,t,r):new u(t,r)}},{key:"intercept",value:function intercept(t,r,i){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,t,r,i):r}},{key:"invoke",value:function invoke(t,r,i,a,o){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,t,r,i,a,o):r.apply(i,a)}},{key:"handleError",value:function handleError(t,r){return!this._handleErrorZS||this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,t,r)}},{key:"scheduleTask",value:function scheduleTask(t,r){var i=r;if(this._scheduleTaskZS)this._hasTaskZS&&i._zoneDelegates.push(this._hasTaskDlgtOwner),(i=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,t,r))||(i=r);else if(r.scheduleFn)r.scheduleFn(r);else{if(r.type!=B)throw new Error("Task is missing scheduleFn.");scheduleMicroTask(r)}return i}},{key:"invokeTask",value:function invokeTask(t,r,i,a){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,t,r,i,a):r.callback.apply(i,a)}},{key:"cancelTask",value:function cancelTask(t,r){var i;if(this._cancelTaskZS)i=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,t,r);else{if(!r.cancelFn)throw Error("Task is not cancelable");i=r.cancelFn(r)}return i}},{key:"hasTask",value:function hasTask(t,r){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,t,r)}catch(r){this.handleError(t,r)}}},{key:"_updateTaskCount",value:function _updateTaskCount(t,r){var i=this._taskCounts,a=i[t],o=i[t]=a+r;if(o<0)throw new Error("More tasks executed then were scheduled.");if(0==a||0==o){var l={microTask:i.microTask>0,macroTask:i.macroTask>0,eventTask:i.eventTask>0,change:t};this.hasTask(this.zone,l)}}}]),_ZoneDelegate}(),v=function(){function ZoneTask(r,i,a,l,u,p){if(o(this,ZoneTask),this._zone=null,this.runCount=0,this._zoneDelegates=null,this._state="notScheduled",this.type=r,this.source=i,this.data=l,this.scheduleFn=u,this.cancelFn=p,!a)throw new Error("callback is not defined");this.callback=a;var h=this;r===j&&l&&l.useG?this.invoke=ZoneTask.invokeTask:this.invoke=function(){return ZoneTask.invokeTask.call(t,h,this,arguments)}}return l(ZoneTask,[{key:"zone",get:function get(){return this._zone}},{key:"state",get:function get(){return this._state}},{key:"cancelScheduleRequest",value:function cancelScheduleRequest(){this._transitionTo(w,C)}},{key:"_transitionTo",value:function _transitionTo(t,r,i){if(this._state!==r&&this._state!==i)throw new Error("".concat(this.type," '").concat(this.source,"': can not transition to '").concat(t,"', expecting state '").concat(r,"'").concat(i?" or '"+i+"'":"",", was '").concat(this._state,"'."));this._state=t,t==w&&(this._zoneDelegates=null)}},{key:"toString",value:function toString(){return this.data&&void 0!==this.data.handleId?this.data.handleId.toString():Object.prototype.toString.call(this)}},{key:"toJSON",value:function toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}],[{key:"invokeTask",value:function invokeTask(t,r,i){t||(t=this),ee++;try{return t.runCount++,t.zone.runTask(t,r,i)}finally{1==ee&&drainMicroTaskQueue(),ee--}}}]),ZoneTask}(),m=__symbol__("setTimeout"),y=__symbol__("Promise"),E=__symbol__("then"),k=[],x=!1;function nativeScheduleMicroTask(r){if(p||t[y]&&(p=t[y].resolve(0)),p){var i=p[E];i||(i=p.then),i.call(p,r)}else t[m](r,0)}function scheduleMicroTask(t){0===ee&&0===k.length&&nativeScheduleMicroTask(drainMicroTaskQueue),t&&k.push(t)}function drainMicroTaskQueue(){if(!x){for(x=!0;k.length;){var t=k;k=[];for(var r=0;r<t.length;r++){var i=t[r];try{i.zone.runTask(i,null,null)}catch(t){z.onUnhandledError(t)}}}z.microtaskDrainDone(),x=!1}}var _={name:"NO ZONE"},w="notScheduled",C="scheduling",I="scheduled",A="running",D="canceling",O="unknown",B="microTask",q="macroTask",j="eventTask",H={},z={symbol:__symbol__,currentZoneFrame:function currentZoneFrame(){return $},onUnhandledError:noop,microtaskDrainDone:noop,scheduleMicroTask:scheduleMicroTask,showUncaughtError:function showUncaughtError(){return!u[__symbol__("ignoreConsoleErrorUncaughtError")]},patchEventTarget:function patchEventTarget(){return[]},patchOnProperties:noop,patchMethod:function patchMethod(){return noop},bindArguments:function bindArguments(){return[]},patchThen:function patchThen(){return noop},patchMacroTask:function patchMacroTask(){return noop},patchEventPrototype:function patchEventPrototype(){return noop},isIEOrEdge:function isIEOrEdge(){return!1},getGlobalObjects:function getGlobalObjects(){},ObjectDefineProperty:function ObjectDefineProperty(){return noop},ObjectGetOwnPropertyDescriptor:function ObjectGetOwnPropertyDescriptor(){},ObjectCreate:function ObjectCreate(){},ArraySlice:function ArraySlice(){return[]},patchClass:function patchClass(){return noop},wrapWithCurrentZone:function wrapWithCurrentZone(){return noop},filterProperties:function filterProperties(){return[]},attachOriginToPatched:function attachOriginToPatched(){return noop},_redefineProperty:function _redefineProperty(){return noop},patchCallbacks:function patchCallbacks(){return noop},nativeScheduleMicroTask:nativeScheduleMicroTask},$={parent:null,zone:new u(null,null)},G=null,ee=0;function noop(){}performanceMeasure("Zone","Zone"),t.Zone=u}("undefined"!=typeof window&&window||"undefined"!=typeof self&&self||global);var u=Object.getOwnPropertyDescriptor,p=Object.defineProperty,h=Object.getPrototypeOf,d=Object.create,v=Array.prototype.slice,m="addEventListener",y="removeEventListener",E=Zone.__symbol__(m),k=Zone.__symbol__(y),x="true",_="false",w=Zone.__symbol__("");function wrapWithCurrentZone(t,r){return Zone.current.wrap(t,r)}function scheduleMacroTaskWithCurrentZone(t,r,i,a,o){return Zone.current.scheduleMacroTask(t,r,i,a,o)}var C=Zone.__symbol__,I="undefined"!=typeof window,A=I?window:void 0,D=I&&A||"object"==typeof self&&self||global;function bindArguments(t,r){for(var i=t.length-1;i>=0;i--)"function"==typeof t[i]&&(t[i]=wrapWithCurrentZone(t[i],r+"_"+i));return t}function isPropertyWritable(t){return!t||!1!==t.writable&&!("function"==typeof t.get&&void 0===t.set)}var O="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,B=!("nw"in D)&&void 0!==D.process&&"[object process]"==={}.toString.call(D.process),q=!B&&!O&&!(!I||!A.HTMLElement),j=void 0!==D.process&&"[object process]"==={}.toString.call(D.process)&&!O&&!(!I||!A.HTMLElement),H={},z=function wrapFn(t){if(t=t||D.event){var r=H[t.type];r||(r=H[t.type]=C("ON_PROPERTY"+t.type));var i,a=this||t.target||D,o=a[r];if(q&&a===A&&"error"===t.type){var l=t;!0===(i=o&&o.call(this,l.message,l.filename,l.lineno,l.colno,l.error))&&t.preventDefault()}else null==(i=o&&o.apply(this,arguments))||i||t.preventDefault();return i}};function patchProperty(t,r,i){var a=u(t,r);!a&&i&&(u(i,r)&&(a={enumerable:!0,configurable:!0}));if(a&&a.configurable){var o=C("on"+r+"patched");if(!t.hasOwnProperty(o)||!t[o]){delete a.writable,delete a.value;var l=a.get,h=a.set,d=r.slice(2),v=H[d];v||(v=H[d]=C("ON_PROPERTY"+d)),a.set=function(r){var i=this;(i||t!==D||(i=D),i)&&("function"==typeof i[v]&&i.removeEventListener(d,z),h&&h.call(i,null),i[v]=r,"function"==typeof r&&i.addEventListener(d,z,!1))},a.get=function(){var i=this;if(i||t!==D||(i=D),!i)return null;var o=i[v];if(o)return o;if(l){var u=l.call(this);if(u)return a.set.call(this,u),"function"==typeof i.removeAttribute&&i.removeAttribute(r),u}return null},p(t,r,a),t[o]=!0}}}function patchOnProperties(t,r,i){if(r)for(var a=0;a<r.length;a++)patchProperty(t,"on"+r[a],i);else{var o=[];for(var l in t)"on"==l.slice(0,2)&&o.push(l);for(var u=0;u<o.length;u++)patchProperty(t,o[u],i)}}var $=C("originalInstance");function patchClass(t){var r=D[t];if(r){D[C(t)]=r,D[t]=function(){var i=bindArguments(arguments,t);switch(i.length){case 0:this[$]=new r;break;case 1:this[$]=new r(i[0]);break;case 2:this[$]=new r(i[0],i[1]);break;case 3:this[$]=new r(i[0],i[1],i[2]);break;case 4:this[$]=new r(i[0],i[1],i[2],i[3]);break;default:throw new Error("Arg list too long.")}},attachOriginToPatched(D[t],r);var i,a=new r((function(){}));for(i in a)"XMLHttpRequest"===t&&"responseBlob"===i||function(r){"function"==typeof a[r]?D[t].prototype[r]=function(){return this[$][r].apply(this[$],arguments)}:p(D[t].prototype,r,{set:function set(i){"function"==typeof i?(this[$][r]=wrapWithCurrentZone(i,t+"."+r),attachOriginToPatched(this[$][r],i)):this[$][r]=i},get:function get(){return this[$][r]}})}(i);for(i in r)"prototype"!==i&&r.hasOwnProperty(i)&&(D[t][i]=r[i])}}function patchMethod(t,r,i){for(var a=t;a&&!a.hasOwnProperty(r);)a=h(a);!a&&t[r]&&(a=t);var o=C(r),l=null;if(a&&(!(l=a[o])||!a.hasOwnProperty(o))&&(l=a[o]=a[r],isPropertyWritable(a&&u(a,r)))){var p=i(l,o,r);a[r]=function(){return p(this,arguments)},attachOriginToPatched(a[r],l)}return l}function patchMacroTask(t,r,i){var a=null;function scheduleTask(t){var r=t.data;return r.args[r.cbIdx]=function(){t.invoke.apply(this,arguments)},a.apply(r.target,r.args),t}a=patchMethod(t,r,(function(t){return function(r,a){var o=i(r,a);return o.cbIdx>=0&&"function"==typeof a[o.cbIdx]?scheduleMacroTaskWithCurrentZone(o.name,a[o.cbIdx],o,scheduleTask):t.apply(r,a)}}))}function attachOriginToPatched(t,r){t[C("OriginalDelegate")]=r}var G=!1,ee=!1;function isIEOrEdge(){if(G)return ee;G=!0;try{var t=A.navigator.userAgent;-1===t.indexOf("MSIE ")&&-1===t.indexOf("Trident/")&&-1===t.indexOf("Edge/")||(ee=!0)}catch(t){}return ee}Zone.__load_patch("ZoneAwarePromise",(function(t,r,i){var u=Object.getOwnPropertyDescriptor,p=Object.defineProperty;var h=i.symbol,d=[],v=!0===t[h("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")],m=h("Promise"),y=h("then");i.onUnhandledError=function(t){if(i.showUncaughtError()){var r=t&&t.rejection;r?console.error("Unhandled Promise rejection:",r instanceof Error?r.message:r,"; Zone:",t.zone.name,"; Task:",t.task&&t.task.source,"; Value:",r,r instanceof Error?r.stack:void 0):console.error(t)}},i.microtaskDrainDone=function(){for(var t=function _loop2(){var t=d.shift();try{t.zone.runGuarded((function(){if(t.throwOriginal)throw t.rejection;throw t}))}catch(t){!function handleUnhandledRejection(t){i.onUnhandledError(t);try{var a=r[E];"function"==typeof a&&a.call(this,t)}catch(t){}}(t)}};d.length;)t()};var E=h("unhandledPromiseRejectionHandler");function isThenable(t){return t&&t.then}function forwardResolution(t){return t}function forwardRejection(t){return z.reject(t)}var k=h("state"),x=h("value"),_=h("finally"),w=h("parentPromiseValue"),C=h("parentPromiseState"),I=null,A=!0,D=!1;function makeResolver(t,r){return function(i){try{resolvePromise(t,r,i)}catch(r){resolvePromise(t,!1,r)}}}var O=function once(){var t=!1;return function wrapper(r){return function(){t||(t=!0,r.apply(null,arguments))}}},B=h("currentTaskTrace");function resolvePromise(t,a,o){var l=O();if(t===o)throw new TypeError("Promise resolved with itself");if(t[k]===I){var u=null;try{"object"!=typeof o&&"function"!=typeof o||(u=o&&o.then)}catch(r){return l((function(){resolvePromise(t,!1,r)}))(),t}if(a!==D&&o instanceof z&&o.hasOwnProperty(k)&&o.hasOwnProperty(x)&&o[k]!==I)clearRejectedNoCatch(o),resolvePromise(t,o[k],o[x]);else if(a!==D&&"function"==typeof u)try{u.call(o,l(makeResolver(t,a)),l(makeResolver(t,!1)))}catch(r){l((function(){resolvePromise(t,!1,r)}))()}else{t[k]=a;var h=t[x];if(t[x]=o,t[_]===_&&a===A&&(t[k]=t[C],t[x]=t[w]),a===D&&o instanceof Error){var m=r.currentTask&&r.currentTask.data&&r.currentTask.data.__creationTrace__;m&&p(o,B,{configurable:!0,enumerable:!1,writable:!0,value:m})}for(var y=0;y<h.length;)scheduleResolveOrReject(t,h[y++],h[y++],h[y++],h[y++]);if(0==h.length&&a==D){t[k]=0;var E=o;try{throw new Error("Uncaught (in promise): "+function readableObjectToString(t){if(t&&t.toString===Object.prototype.toString){return(t.constructor&&t.constructor.name||"")+": "+JSON.stringify(t)}return t?t.toString():Object.prototype.toString.call(t)}(o)+(o&&o.stack?"\n"+o.stack:""))}catch(t){E=t}v&&(E.throwOriginal=!0),E.rejection=o,E.promise=t,E.zone=r.current,E.task=r.currentTask,d.push(E),i.scheduleMicroTask()}}}return t}var q=h("rejectionHandledHandler");function clearRejectedNoCatch(t){if(0===t[k]){try{var i=r[q];i&&"function"==typeof i&&i.call(this,{rejection:t[x],promise:t})}catch(t){}t[k]=D;for(var a=0;a<d.length;a++)t===d[a].promise&&d.splice(a,1)}}function scheduleResolveOrReject(t,r,i,a,o){clearRejectedNoCatch(t);var l=t[k],u=l?"function"==typeof a?a:forwardResolution:"function"==typeof o?o:forwardRejection;r.scheduleMicroTask("Promise.then",(function(){try{var a=t[x],o=!!i&&_===i[_];o&&(i[w]=a,i[C]=l);var p=r.run(u,void 0,o&&u!==forwardRejection&&u!==forwardResolution?[]:[a]);resolvePromise(i,!0,p)}catch(t){resolvePromise(i,!1,t)}}),i)}var j=function noop(){},H=t.AggregateError,z=function(t,i){function ZoneAwarePromise(t){o(this,ZoneAwarePromise);var r=this;if(!(r instanceof ZoneAwarePromise))throw new Error("Must be an instanceof Promise.");r[k]=I,r[x]=[];try{var i=O();t&&t(i(makeResolver(r,A)),i(makeResolver(r,D)))}catch(t){resolvePromise(r,!1,t)}}return l(ZoneAwarePromise,[{key:t,get:function get(){return"Promise"}},{key:i,get:function get(){return ZoneAwarePromise}},{key:"then",value:function then(t,i){var a,o=null===(a=this.constructor)||void 0===a?void 0:a[Symbol.species];o&&"function"==typeof o||(o=this.constructor||ZoneAwarePromise);var l=new o(j),u=r.current;return this[k]==I?this[x].push(u,l,t,i):scheduleResolveOrReject(this,u,l,t,i),l}},{key:"catch",value:function _catch(t){return this.then(null,t)}},{key:"finally",value:function _finally(t){var i,a=null===(i=this.constructor)||void 0===i?void 0:i[Symbol.species];a&&"function"==typeof a||(a=ZoneAwarePromise);var o=new a(j);o[_]=_;var l=r.current;return this[k]==I?this[x].push(l,o,t,t):scheduleResolveOrReject(this,l,o,t,t),o}}],[{key:"toString",value:function toString(){return"function ZoneAwarePromise() { [native code] }"}},{key:"resolve",value:function resolve(t){return resolvePromise(new this(null),A,t)}},{key:"reject",value:function reject(t){return resolvePromise(new this(null),D,t)}},{key:"any",value:function any(t){if(!t||"function"!=typeof t[Symbol.iterator])return Promise.reject(new H([],"All promises were rejected"));var r=[],i=0;try{var o,l=a(t);try{for(l.s();!(o=l.n()).done;){var u=o.value;i++,r.push(ZoneAwarePromise.resolve(u))}}catch(t){l.e(t)}finally{l.f()}}catch(t){return Promise.reject(new H([],"All promises were rejected"))}if(0===i)return Promise.reject(new H([],"All promises were rejected"));var p=!1,h=[];return new ZoneAwarePromise((function(t,a){for(var o=0;o<r.length;o++)r[o].then((function(r){p||(p=!0,t(r))}),(function(t){h.push(t),0===--i&&(p=!0,a(new H(h,"All promises were rejected")))}))}))}},{key:"race",value:function race(t){var r,i,o=new this((function(t,a){r=t,i=a}));function onResolve(t){r(t)}function onReject(t){i(t)}var l,u=a(t);try{for(u.s();!(l=u.n()).done;){var p=l.value;isThenable(p)||(p=this.resolve(p)),p.then(onResolve,onReject)}}catch(t){u.e(t)}finally{u.f()}return o}},{key:"all",value:function all(t){return ZoneAwarePromise.allWithCallback(t)}},{key:"allSettled",value:function allSettled(t){return(this&&this.prototype instanceof ZoneAwarePromise?this:ZoneAwarePromise).allWithCallback(t,{thenCallback:function thenCallback(t){return{status:"fulfilled",value:t}},errorCallback:function errorCallback(t){return{status:"rejected",reason:t}}})}},{key:"allWithCallback",value:function allWithCallback(t,r){var i,o,l,u=this,p=new this((function(t,r){i=t,o=r})),h=2,d=0,v=[],m=a(t);try{var y=function _loop3(){var t=l.value;isThenable(t)||(t=u.resolve(t));var a=d;try{t.then((function(t){v[a]=r?r.thenCallback(t):t,0===--h&&i(v)}),(function(t){r?(v[a]=r.errorCallback(t),0===--h&&i(v)):o(t)}))}catch(t){o(t)}h++,d++};for(m.s();!(l=m.n()).done;)y()}catch(t){m.e(t)}finally{m.f()}return 0===(h-=2)&&i(v),p}}]),ZoneAwarePromise}(Symbol.toStringTag,Symbol.species);z.resolve=z.resolve,z.reject=z.reject,z.race=z.race,z.all=z.all;var $=t[m]=t.Promise;t.Promise=z;var G=h("thenPatched");function patchThen(t){var r=t.prototype,i=u(r,"then");if(!i||!1!==i.writable&&i.configurable){var a=r.then;r[y]=a,t.prototype.then=function(t,r){var i=this;return new z((function(t,r){a.call(i,t,r)})).then(t,r)},t[G]=!0}}return i.patchThen=patchThen,$&&(patchThen($),patchMethod(t,"fetch",(function(t){return function zoneify(t){return function(r,i){var a=t.apply(r,i);if(a instanceof z)return a;var o=a.constructor;return o[G]||patchThen(o),a}}(t)}))),Promise[r.__symbol__("uncaughtPromiseErrors")]=d,z})),Zone.__load_patch("toString",(function(t){var r=Function.prototype.toString,i=C("OriginalDelegate"),a=C("Promise"),o=C("Error"),l=function toString(){if("function"==typeof this){var l=this[i];if(l)return"function"==typeof l?r.call(l):Object.prototype.toString.call(l);if(this===Promise){var u=t[a];if(u)return r.call(u)}if(this===Error){var p=t[o];if(p)return r.call(p)}}return r.call(this)};l[i]=r,Function.prototype.toString=l;var u=Object.prototype.toString;Object.prototype.toString=function(){return"function"==typeof Promise&&this instanceof Promise?"[object Promise]":u.call(this)}}));var te=!1;if("undefined"!=typeof window)try{var ne=Object.defineProperty({},"passive",{get:function get(){te=!0}});window.addEventListener("test",ne,ne),window.removeEventListener("test",ne,ne)}catch(t){te=!1}var re={useG:!0},ie={},ae={},se=new RegExp("^"+w+"(\\w+)(true|false)$"),oe=C("propagationStopped");function prepareEventNames(t,r){var i=(r?r(t):t)+_,a=(r?r(t):t)+x,o=w+i,l=w+a;ie[t]={},ie[t].false=o,ie[t].true=l}function patchEventTarget(t,r,i,a){var o=a&&a.add||m,l=a&&a.rm||y,u=a&&a.listeners||"eventListeners",p=a&&a.rmAll||"removeAllListeners",d=C(o),v="."+o+":",E=function invokeTask(t,r,i){if(!t.isRemoved){var a,o=t.callback;"object"==typeof o&&o.handleEvent&&(t.callback=function(t){return o.handleEvent(t)},t.originalDelegate=o);try{t.invoke(t,r,[i])}catch(t){a=t}var u=t.options;if(u&&"object"==typeof u&&u.once){var p=t.originalDelegate?t.originalDelegate:t.callback;r[l].call(r,i.type,p,u)}return a}};function globalCallback(i,a,o){if(a=a||t.event){var l=i||a.target||t,u=l[ie[a.type][o?x:_]];if(u){var p=[];if(1===u.length){var h=E(u[0],l,a);h&&p.push(h)}else for(var d=u.slice(),v=0;v<d.length&&(!a||!0!==a[oe]);v++){var m=E(d[v],l,a);m&&p.push(m)}if(1===p.length)throw p[0];for(var y=function _loop4(t){var i=p[t];r.nativeScheduleMicroTask((function(){throw i}))},k=0;k<p.length;k++)y(k)}}}var k=function globalZoneAwareCallback(t){return globalCallback(this,t,!1)},I=function globalZoneAwareCaptureCallback(t){return globalCallback(this,t,!0)};function patchEventTargetMethods(r,i){if(!r)return!1;var a=!0;i&&void 0!==i.useG&&(a=i.useG);var m=i&&i.vh,y=!0;i&&void 0!==i.chkDup&&(y=i.chkDup);var E=!1;i&&void 0!==i.rt&&(E=i.rt);for(var A=r;A&&!A.hasOwnProperty(o);)A=h(A);if(!A&&r[o]&&(A=r),!A)return!1;if(A[d])return!1;var D,O=i&&i.eventNameToString,q={},j=A[d]=A[o],H=A[C(l)]=A[l],z=A[C(u)]=A[u],$=A[C(p)]=A[p];function buildEventListenerOptions(t,r){return!te&&"object"==typeof t&&t?!!t.capture:te&&r?"boolean"==typeof t?{capture:t,passive:!0}:t?"object"==typeof t&&!1!==t.passive?Object.assign(Object.assign({},t),{passive:!0}):t:{passive:!0}:t}i&&i.prepend&&(D=A[C(i.prepend)]=A[i.prepend]);var G=a?function customScheduleGlobal(t){if(!q.isExisting)return j.call(q.target,q.eventName,q.capture?I:k,q.options)}:function customScheduleNonGlobal(t){return j.call(q.target,q.eventName,t.invoke,q.options)},ee=a?function customCancelGlobal(t){if(!t.isRemoved){var r,i=ie[t.eventName];i&&(r=i[t.capture?x:_]);var a=r&&t.target[r];if(a)for(var o=0;o<a.length;o++){if(a[o]===t){a.splice(o,1),t.isRemoved=!0,0===a.length&&(t.allRemoved=!0,t.target[r]=null);break}}}if(t.allRemoved)return H.call(t.target,t.eventName,t.capture?I:k,t.options)}:function customCancelNonGlobal(t){return H.call(t.target,t.eventName,t.invoke,t.options)},ne=i&&i.diff?i.diff:function compareTaskCallbackVsDelegate(t,r){var i=typeof r;return"function"===i&&t.callback===r||"object"===i&&t.originalDelegate===r},oe=Zone[C("UNPATCHED_EVENTS")],le=t[C("PASSIVE_EVENTS")],ue=function makeAddListener(r,o,l,u){var p=arguments.length>4&&void 0!==arguments[4]&&arguments[4],h=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return function(){var d=this||t,v=arguments[0];i&&i.transferEventName&&(v=i.transferEventName(v));var E=arguments[1];if(!E)return r.apply(this,arguments);if(B&&"uncaughtException"===v)return r.apply(this,arguments);var k=!1;if("function"!=typeof E){if(!E.handleEvent)return r.apply(this,arguments);k=!0}if(!m||m(r,E,d,arguments)){var w=te&&!!le&&-1!==le.indexOf(v),C=buildEventListenerOptions(arguments[2],w);if(oe)for(var I=0;I<oe.length;I++)if(v===oe[I])return w?r.call(d,v,E,C):r.apply(this,arguments);var A=!!C&&("boolean"==typeof C||C.capture),D=!(!C||"object"!=typeof C)&&C.once,j=Zone.current,H=ie[v];H||(prepareEventNames(v,O),H=ie[v]);var z,$=H[A?x:_],G=d[$],ee=!1;if(G){if(ee=!0,y)for(var se=0;se<G.length;se++)if(ne(G[se],E))return}else G=d[$]=[];var ue=d.constructor.name,ce=ae[ue];ce&&(z=ce[v]),z||(z=ue+o+(O?O(v):v)),q.options=C,D&&(q.options.once=!1),q.target=d,q.capture=A,q.eventName=v,q.isExisting=ee;var pe=a?re:void 0;pe&&(pe.taskData=q);var he=j.scheduleEventTask(z,E,pe,l,u);return q.target=null,pe&&(pe.taskData=null),D&&(C.once=!0),(te||"boolean"!=typeof he.options)&&(he.options=C),he.target=d,he.capture=A,he.eventName=v,k&&(he.originalDelegate=E),h?G.unshift(he):G.push(he),p?d:void 0}}};return A[o]=ue(j,v,G,ee,E),D&&(A.prependListener=ue(D,".prependListener:",(function customSchedulePrepend(t){return D.call(q.target,q.eventName,t.invoke,q.options)}),ee,E,!0)),A[l]=function(){var r=this||t,a=arguments[0];i&&i.transferEventName&&(a=i.transferEventName(a));var o=arguments[2],l=!!o&&("boolean"==typeof o||o.capture),u=arguments[1];if(!u)return H.apply(this,arguments);if(!m||m(H,u,r,arguments)){var p,h=ie[a];h&&(p=h[l?x:_]);var d=p&&r[p];if(d)for(var v=0;v<d.length;v++){var y=d[v];if(ne(y,u)){if(d.splice(v,1),y.isRemoved=!0,0===d.length&&(y.allRemoved=!0,r[p]=null,"string"==typeof a)){var k=w+"ON_PROPERTY"+a;r[k]=null}return y.zone.cancelTask(y),E?r:void 0}}return H.apply(this,arguments)}},A[u]=function(){var r=this||t,a=arguments[0];i&&i.transferEventName&&(a=i.transferEventName(a));for(var o=[],l=findEventTasks(r,O?O(a):a),u=0;u<l.length;u++){var p=l[u],h=p.originalDelegate?p.originalDelegate:p.callback;o.push(h)}return o},A[p]=function(){var r=this||t,a=arguments[0];if(a){i&&i.transferEventName&&(a=i.transferEventName(a));var o=ie[a];if(o){var u=o.false,h=o.true,d=r[u],v=r[h];if(d)for(var m=d.slice(),y=0;y<m.length;y++){var k=m[y],x=k.originalDelegate?k.originalDelegate:k.callback;this[l].call(this,a,x,k.options)}if(v)for(var _=v.slice(),w=0;w<_.length;w++){var C=_[w],I=C.originalDelegate?C.originalDelegate:C.callback;this[l].call(this,a,I,C.options)}}}else{for(var A=Object.keys(r),D=0;D<A.length;D++){var O=A[D],B=se.exec(O),q=B&&B[1];q&&"removeListener"!==q&&this[p].call(this,q)}this[p].call(this,"removeListener")}if(E)return this},attachOriginToPatched(A[o],j),attachOriginToPatched(A[l],H),$&&attachOriginToPatched(A[p],$),z&&attachOriginToPatched(A[u],z),!0}for(var A=[],D=0;D<i.length;D++)A[D]=patchEventTargetMethods(i[D],a);return A}function findEventTasks(t,r){if(!r){var i=[];for(var a in t){var o=se.exec(a),l=o&&o[1];if(l&&(!r||l===r)){var u=t[a];if(u)for(var p=0;p<u.length;p++)i.push(u[p])}}return i}var h=ie[r];h||(prepareEventNames(r),h=ie[r]);var d=t[h.false],v=t[h.true];return d?v?d.concat(v):d.slice():v?v.slice():[]}function patchEventPrototype(t,r){var i=t.Event;i&&i.prototype&&r.patchMethod(i.prototype,"stopImmediatePropagation",(function(t){return function(r,i){r[oe]=!0,t&&t.apply(r,i)}}))}function patchCallbacks(t,r,i,a,o){var l=Zone.__symbol__(a);if(!r[l]){var u=r[l]=r[a];r[a]=function(l,p,h){return p&&p.prototype&&o.forEach((function(r){var o="".concat(i,".").concat(a,"::")+r,l=p.prototype;try{if(l.hasOwnProperty(r)){var u=t.ObjectGetOwnPropertyDescriptor(l,r);u&&u.value?(u.value=t.wrapWithCurrentZone(u.value,o),t._redefineProperty(p.prototype,r,u)):l[r]&&(l[r]=t.wrapWithCurrentZone(l[r],o))}else l[r]&&(l[r]=t.wrapWithCurrentZone(l[r],o))}catch(t){}})),u.call(r,l,p,h)},t.attachOriginToPatched(r[a],u)}}function filterProperties(t,r,i){if(!i||0===i.length)return r;var a=i.filter((function(r){return r.target===t}));if(!a||0===a.length)return r;var o=a[0].ignoreProperties;return r.filter((function(t){return-1===o.indexOf(t)}))}function patchFilteredProperties(t,r,i,a){t&&patchOnProperties(t,filterProperties(t,r,i),a)}function getOnEventNames(t){return Object.getOwnPropertyNames(t).filter((function(t){return t.startsWith("on")&&t.length>2})).map((function(t){return t.substring(2)}))}function propertyDescriptorPatch(t,r){if((!B||j)&&!Zone[t.symbol("patchEvents")]){var i=r.__Zone_ignore_on_properties,a=[];if(q){var o=window;a=a.concat(["Document","SVGElement","Element","HTMLElement","HTMLBodyElement","HTMLMediaElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement","HTMLMarqueeElement","Worker"]);var l=function isIE(){try{var t=A.navigator.userAgent;if(-1!==t.indexOf("MSIE ")||-1!==t.indexOf("Trident/"))return!0}catch(t){}return!1}()?[{target:o,ignoreProperties:["error"]}]:[];patchFilteredProperties(o,getOnEventNames(o),i?i.concat(l):i,h(o))}a=a.concat(["XMLHttpRequest","XMLHttpRequestEventTarget","IDBIndex","IDBRequest","IDBOpenDBRequest","IDBDatabase","IDBTransaction","IDBCursor","WebSocket"]);for(var u=0;u<a.length;u++){var p=r[a[u]];p&&p.prototype&&patchFilteredProperties(p.prototype,getOnEventNames(p.prototype),i)}}}Zone.__load_patch("util",(function(t,r,i){var a=getOnEventNames(t);i.patchOnProperties=patchOnProperties,i.patchMethod=patchMethod,i.bindArguments=bindArguments,i.patchMacroTask=patchMacroTask;var o=r.__symbol__("BLACK_LISTED_EVENTS"),l=r.__symbol__("UNPATCHED_EVENTS");t[l]&&(t[o]=t[l]),t[o]&&(r[o]=r[l]=t[o]),i.patchEventPrototype=patchEventPrototype,i.patchEventTarget=patchEventTarget,i.isIEOrEdge=isIEOrEdge,i.ObjectDefineProperty=p,i.ObjectGetOwnPropertyDescriptor=u,i.ObjectCreate=d,i.ArraySlice=v,i.patchClass=patchClass,i.wrapWithCurrentZone=wrapWithCurrentZone,i.filterProperties=filterProperties,i.attachOriginToPatched=attachOriginToPatched,i._redefineProperty=Object.defineProperty,i.patchCallbacks=patchCallbacks,i.getGlobalObjects=function(){return{globalSources:ae,zoneSymbolEventNames:ie,eventNames:a,isBrowser:q,isMix:j,isNode:B,TRUE_STR:x,FALSE_STR:_,ZONE_SYMBOL_PREFIX:w,ADD_EVENT_LISTENER_STR:m,REMOVE_EVENT_LISTENER_STR:y}}}));var le=C("zoneTask");function patchTimer(t,r,i,a){var o=null,l=null;i+=a;var u={};function scheduleTask(r){var i=r.data;return i.args[0]=function(){return r.invoke.apply(this,arguments)},i.handleId=o.apply(t,i.args),r}function clearTask(r){return l.call(t,r.data.handleId)}o=patchMethod(t,r+=a,(function(i){return function(o,l){if("function"==typeof l[0]){var p={isPeriodic:"Interval"===a,delay:"Timeout"===a||"Interval"===a?l[1]||0:void 0,args:l},h=l[0];l[0]=function timer(){try{return h.apply(this,arguments)}finally{p.isPeriodic||("number"==typeof p.handleId?delete u[p.handleId]:p.handleId&&(p.handleId[le]=null))}};var d=scheduleMacroTaskWithCurrentZone(r,l[0],p,scheduleTask,clearTask);if(!d)return d;var v=d.data.handleId;return"number"==typeof v?u[v]=d:v&&(v[le]=d),v&&v.ref&&v.unref&&"function"==typeof v.ref&&"function"==typeof v.unref&&(d.ref=v.ref.bind(v),d.unref=v.unref.bind(v)),"number"==typeof v||v?v:d}return i.apply(t,l)}})),l=patchMethod(t,i,(function(r){return function(i,a){var o,l=a[0];"number"==typeof l?o=u[l]:(o=l&&l[le])||(o=l),o&&"string"==typeof o.type?"notScheduled"!==o.state&&(o.cancelFn&&o.data.isPeriodic||0===o.runCount)&&("number"==typeof l?delete u[l]:l&&(l[le]=null),o.zone.cancelTask(o)):r.apply(t,a)}}))}function eventTargetPatch(t,r){if(!Zone[r.symbol("patchEventTarget")]){for(var i=r.getGlobalObjects(),a=i.eventNames,o=i.zoneSymbolEventNames,l=i.TRUE_STR,u=i.FALSE_STR,p=i.ZONE_SYMBOL_PREFIX,h=0;h<a.length;h++){var d=a[h],v=p+(d+u),m=p+(d+l);o[d]={},o[d][u]=v,o[d][l]=m}var y=t.EventTarget;if(y&&y.prototype)return r.patchEventTarget(t,r,[y&&y.prototype]),!0}}Zone.__load_patch("legacy",(function(t){var r=t[Zone.__symbol__("legacyPatch")];r&&r()})),Zone.__load_patch("queueMicrotask",(function(t,r,i){i.patchMethod(t,"queueMicrotask",(function(t){return function(t,i){r.current.scheduleMicroTask("queueMicrotask",i[0])}}))})),Zone.__load_patch("timers",(function(t){var r="set",i="clear";patchTimer(t,r,i,"Timeout"),patchTimer(t,r,i,"Interval"),patchTimer(t,r,i,"Immediate")})),Zone.__load_patch("requestAnimationFrame",(function(t){patchTimer(t,"request","cancel","AnimationFrame"),patchTimer(t,"mozRequest","mozCancel","AnimationFrame"),patchTimer(t,"webkitRequest","webkitCancel","AnimationFrame")})),Zone.__load_patch("blocking",(function(t,r){for(var i=["alert","prompt","confirm"],a=0;a<i.length;a++){patchMethod(t,i[a],(function(i,a,o){return function(a,l){return r.current.run(i,t,l,o)}}))}})),Zone.__load_patch("EventTarget",(function(t,r,i){!function patchEvent(t,r){r.patchEventPrototype(t,r)}(t,i),eventTargetPatch(t,i);var a=t.XMLHttpRequestEventTarget;a&&a.prototype&&i.patchEventTarget(t,i,[a.prototype])})),Zone.__load_patch("MutationObserver",(function(t,r,i){patchClass("MutationObserver"),patchClass("WebKitMutationObserver")})),Zone.__load_patch("IntersectionObserver",(function(t,r,i){patchClass("IntersectionObserver")})),Zone.__load_patch("FileReader",(function(t,r,i){patchClass("FileReader")})),Zone.__load_patch("on_property",(function(t,r,i){propertyDescriptorPatch(i,t)})),Zone.__load_patch("customElements",(function(t,r,i){!function patchCustomElements(t,r){var i=r.getGlobalObjects(),a=i.isBrowser,o=i.isMix;(a||o)&&t.customElements&&"customElements"in t&&r.patchCallbacks(r,t.customElements,"customElements","define",["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback"])}(t,i)})),Zone.__load_patch("XHR",(function(t,r){!function patchXHR(t){var h=t.XMLHttpRequest;if(!h)return;var d=h.prototype;var v=d[E],m=d[k];if(!v){var y=t.XMLHttpRequestEventTarget;if(y){var x=y.prototype;v=x[E],m=x[k]}}var _="readystatechange",w="scheduled";function scheduleTask(t){var a=t.data,u=a.target;u[l]=!1,u[p]=!1;var h=u[o];v||(v=u[E],m=u[k]),h&&m.call(u,_,h);var d=u[o]=function(){if(u.readyState===u.DONE)if(!a.aborted&&u[l]&&t.state===w){var i=u[r.__symbol__("loadfalse")];if(0!==u.status&&i&&i.length>0){var o=t.invoke;t.invoke=function(){for(var i=u[r.__symbol__("loadfalse")],l=0;l<i.length;l++)i[l]===t&&i.splice(l,1);a.aborted||t.state!==w||o.call(t)},i.push(t)}else t.invoke()}else a.aborted||!1!==u[l]||(u[p]=!0)};return v.call(u,_,d),u[i]||(u[i]=t),O.apply(u,a.args),u[l]=!0,t}function placeholderCallback(){}function clearTask(t){var r=t.data;return r.aborted=!0,B.apply(r.target,r.args)}var I=patchMethod(d,"open",(function(){return function(t,r){return t[a]=0==r[2],t[u]=r[1],I.apply(t,r)}})),A=C("fetchTaskAborting"),D=C("fetchTaskScheduling"),O=patchMethod(d,"send",(function(){return function(t,i){if(!0===r.current[D])return O.apply(t,i);if(t[a])return O.apply(t,i);var o={target:t,url:t[u],isPeriodic:!1,args:i,aborted:!1},l=scheduleMacroTaskWithCurrentZone("XMLHttpRequest.send",placeholderCallback,o,scheduleTask,clearTask);t&&!0===t[p]&&!o.aborted&&l.state===w&&l.invoke()}})),B=patchMethod(d,"abort",(function(){return function(t,a){var o=function findPendingTask(t){return t[i]}(t);if(o&&"string"==typeof o.type){if(null==o.cancelFn||o.data&&o.data.aborted)return;o.zone.cancelTask(o)}else if(!0===r.current[A])return B.apply(t,a)}}))}(t);var i=C("xhrTask"),a=C("xhrSync"),o=C("xhrListener"),l=C("xhrScheduled"),u=C("xhrURL"),p=C("xhrErrorBeforeScheduled")})),Zone.__load_patch("geolocation",(function(t){t.navigator&&t.navigator.geolocation&&function patchPrototype(t,r){for(var i=t.constructor.name,a=function _loop(a){var o=r[a],l=t[o];if(l){if(!isPropertyWritable(u(t,o)))return"continue";t[o]=function(t){var r=function patched(){return t.apply(this,bindArguments(arguments,i+"."+o))};return attachOriginToPatched(r,t),r}(l)}},o=0;o<r.length;o++)a(o)}(t.navigator.geolocation,["getCurrentPosition","watchPosition"])})),Zone.__load_patch("PromiseRejectionEvent",(function(t,r){function findPromiseRejectionHandler(r){return function(i){findEventTasks(t,r).forEach((function(a){var o=t.PromiseRejectionEvent;if(o){var l=new o(r,{promise:i.promise,reason:i.rejection});a.invoke(l)}}))}}t.PromiseRejectionEvent&&(r[C("unhandledPromiseRejectionHandler")]=findPromiseRejectionHandler("unhandledrejection"),r[C("rejectionHandledHandler")]=findPromiseRejectionHandler("rejectionhandled"))}))},2843:function(t,r,i){"use strict";i.r(r);i(2844),i(2846),i(2852),i(2853),i(2854);Object.defineProperty(String.prototype,"startsWith",{value:function value(t,r){var i=r>0?0|r:0;return this.substring(i,i+t.length)===t}}),window.process={env:{DEBUG:void 0}}},2849:function(t){t.exports=function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,a=new Array(r);i<r;i++)a[i]=t[i];return a},t.exports.__esModule=!0,t.exports.default=t.exports},2850:function(t){t.exports=function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports.default=t.exports},2851:function(t){function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}t.exports=function _createClass(t,r,i){return r&&_defineProperties(t.prototype,r),i&&_defineProperties(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t},t.exports.__esModule=!0,t.exports.default=t.exports},2847:function(t,r,i){var a=i(2848);t.exports=function _createForOfIteratorHelper(t,r){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=a(t))||r&&t&&"number"==typeof t.length){i&&(t=i);var o=0,l=function F(){};return{s:l,n:function n(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function e(t){throw t},f:l}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,p=!0,h=!1;return{s:function s(){i=i.call(t)},n:function n(){var t=i.next();return p=t.done,t},e:function e(t){h=!0,u=t},f:function f(){try{p||null==i.return||i.return()}finally{if(h)throw u}}}},t.exports.__esModule=!0,t.exports.default=t.exports},2848:function(t,r,i){var a=i(2849);t.exports=function _unsupportedIterableToArray(t,r){if(t){if("string"==typeof t)return a(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?a(t,r):void 0}},t.exports.__esModule=!0,t.exports.default=t.exports},63:function(t,r,i){t.exports=i(64)},427:function(t,r,i){"use strict";i.r(r),i.d(r,{AST:function(){return Er},ASTWithName:function(){return kr},ASTWithSource:function(){return Wr},AbsoluteSourceSpan:function(){return Ur},ArrayType:function(){return _e},AstMemoryEfficientTransformer:function(){return Gr},AstTransformer:function(){return $r},Attribute:function(){return Yi},Binary:function(){return Fr},BinaryOperator:function(){return ke},BinaryOperatorExpr:function(){return ot},BindingPipe:function(){return Mr},BoundElementProperty:function(){return Yr},BuiltinType:function(){return xe},BuiltinTypeName:function(){return ge},CUSTOM_ELEMENTS_SCHEMA:function(){return te},Call:function(){return jr},Chain:function(){return wr},ChangeDetectionStrategy:function(){return O},CommaExpr:function(){return ft},Comment:function(){return na},CompilerConfig:function(){return Hs},Conditional:function(){return Tr},ConditionalExpr:function(){return nt},ConstantPool:function(){return Pt},CssSelector:function(){return q},DEFAULT_INTERPOLATION_CONFIG:function(){return qn},DYNAMIC_TYPE:function(){return Te},DeclareFunctionStmt:function(){return kt},DeclareVarStmt:function(){return Et},DomElementSchemaRegistry:function(){return Ua},EOF:function(){return ji},Element:function(){return ea},ElementSchemaRegistry:function(){return Ra},EmitterVisitorContext:function(){return Bt},EmptyExpr:function(){return xr},Expansion:function(){return Ji},ExpansionCase:function(){return Qi},Expression:function(){return Le},ExpressionBinding:function(){return Kr},ExpressionStatement:function(){return xt},ExpressionType:function(){return Se},ExternalExpr:function(){return et},ExternalReference:function(){return tt},FactoryTarget:function(){return jt},FunctionExpr:function(){return at},HtmlParser:function(){return _a},HtmlTagDefinition:function(){return A},I18NHtmlParser:function(){return So},IfStmt:function(){return _t},ImplicitReceiver:function(){return Sr},InstantiateExpr:function(){return He},Interpolation:function(){return Or},InterpolationConfig:function(){return Vn},InvokeFunctionExpr:function(){return qe},JSDocComment:function(){return gt},JitEvaluator:function(){return pr},KeyedRead:function(){return Pr},KeyedWrite:function(){return Nr},LeadingComment:function(){return mt},Lexer:function(){return Vi},LiteralArray:function(){return Rr},LiteralArrayExpr:function(){return ct},LiteralExpr:function(){return Ue},LiteralMap:function(){return Dr},LiteralMapExpr:function(){return ht},LiteralPrimitive:function(){return Lr},LocalizedString:function(){return $e},MapType:function(){return we},MessageBundle:function(){return wo},NONE_TYPE:function(){return Me},NO_ERRORS_SCHEMA:function(){return ne},NodeWithI18n:function(){return Gi},NonNullAssert:function(){return qr},NotExpr:function(){return rt},ParseError:function(){return ar},ParseErrorLevel:function(){return tr},ParseLocation:function(){return nr},ParseSourceFile:function(){return rr},ParseSourceSpan:function(){return ir},ParseSpan:function(){return yr},ParseTreeResult:function(){return Ea},ParsedEvent:function(){return Jr},ParsedProperty:function(){return Xr},ParsedPropertyType:function(){return mr},ParsedVariable:function(){return Qr},Parser:function(){return Ki},ParserError:function(){return gr},PrefixNot:function(){return Vr},PropertyRead:function(){return br},PropertyWrite:function(){return Cr},R3BoundTarget:function(){return Ao},R3Identifiers:function(){return Mt},R3SelectorScopeMode:function(){return fr},R3TargetBinder:function(){return bo},R3TemplateDependencyKind:function(){return dr},ReadKeyExpr:function(){return ut},ReadPropExpr:function(){return lt},ReadVarExpr:function(){return Re},RecursiveAstVisitor:function(){return Zr},RecursiveVisitor:function(){return ra},ResourceLoader:function(){return Vs},ReturnStatement:function(){return St},STRING_TYPE:function(){return Ae},SafeCall:function(){return Hr},SafeKeyedRead:function(){return Ar},SafePropertyRead:function(){return Ir},SelectorContext:function(){return z},SelectorListContext:function(){return H},SelectorMatcher:function(){return j},Serializer:function(){return hn},SplitInterpolation:function(){return Wi},Statement:function(){return yt},StmtModifier:function(){return Ye},TagContentType:function(){return a},TaggedTemplateExpr:function(){return je},TemplateBindingParseResult:function(){return zi},TemplateLiteral:function(){return We},TemplateLiteralElement:function(){return ze},Text:function(){return Xi},ThisReceiver:function(){return _r},TmplAstBoundAttribute:function(){return Kt},TmplAstBoundEvent:function(){return Zt},TmplAstBoundText:function(){return Wt},TmplAstContent:function(){return Xt},TmplAstElement:function(){return $t},TmplAstIcu:function(){return Yt},TmplAstRecursiveVisitor:function(){return en},TmplAstReference:function(){return Qt},TmplAstTemplate:function(){return Gt},TmplAstText:function(){return Ut},TmplAstTextAttribute:function(){return zt},TmplAstVariable:function(){return Jt},Token:function(){return qi},TokenType:function(){return Oi},TreeError:function(){return ga},Type:function(){return ye},TypeModifier:function(){return ve},TypeofExpr:function(){return De},Unary:function(){return Br},UnaryOperator:function(){return Ee},UnaryOperatorExpr:function(){return st},VERSION:function(){return js},VariableBinding:function(){return zr},Version:function(){return se},ViewEncapsulation:function(){return D},WrappedNodeExpr:function(){return Oe},WriteKeyExpr:function(){return Be},WritePropExpr:function(){return Ve},WriteVarExpr:function(){return Fe},Xliff:function(){return no},Xliff2:function(){return co},Xmb:function(){return Tn},XmlParser:function(){return Js},Xtb:function(){return go},_ParseAST:function(){return Zi},compileClassMetadata:function(){return compileClassMetadata},compileComponentFromMetadata:function(){return compileComponentFromMetadata},compileDeclareClassMetadata:function(){return compileDeclareClassMetadata},compileDeclareComponentFromMetadata:function(){return compileDeclareComponentFromMetadata},compileDeclareDirectiveFromMetadata:function(){return compileDeclareDirectiveFromMetadata},compileDeclareFactoryFunction:function(){return compileDeclareFactoryFunction},compileDeclareInjectableFromMetadata:function(){return compileDeclareInjectableFromMetadata},compileDeclareInjectorFromMetadata:function(){return compileDeclareInjectorFromMetadata},compileDeclareNgModuleFromMetadata:function(){return compileDeclareNgModuleFromMetadata},compileDeclarePipeFromMetadata:function(){return compileDeclarePipeFromMetadata},compileDirectiveFromMetadata:function(){return compileDirectiveFromMetadata},compileFactoryFunction:function(){return compileFactoryFunction},compileInjectable:function(){return _compileInjectable},compileInjector:function(){return _compileInjector},compileNgModule:function(){return _compileNgModule},compilePipeFromMetadata:function(){return compilePipeFromMetadata},computeMsgId:function(){return computeMsgId},core:function(){return ie},createInjectableType:function(){return createInjectableType},createMayBeForwardRefExpression:function(){return createMayBeForwardRefExpression},devOnlyGuardedExpression:function(){return devOnlyGuardedExpression},emitDistinctChangesOnlyDefaultValue:function(){return $},getHtmlTagDefinition:function(){return getHtmlTagDefinition},getNsPrefix:function(){return getNsPrefix},getSafePropertyAccessString:function(){return getSafePropertyAccessString},identifierName:function(){return identifierName},isIdentifier:function(){return isIdentifier},isNgContainer:function(){return isNgContainer},isNgContent:function(){return isNgContent},isNgTemplate:function(){return isNgTemplate},jsDocComment:function(){return jsDocComment},leadingComment:function(){return leadingComment},literalMap:function(){return literalMap},makeBindingParser:function(){return makeBindingParser},mergeNsAndName:function(){return mergeNsAndName},outputAst:function(){return Tt},parseHostBindings:function(){return parseHostBindings},parseTemplate:function(){return parseTemplate},preserveWhitespacesDefault:function(){return preserveWhitespacesDefault},publishFacade:function(){return publishFacade},r3JitTypeSourceSpan:function(){return r3JitTypeSourceSpan},sanitizeIdentifier:function(){return sanitizeIdentifier},splitNsName:function(){return splitNsName},verifyHostBindings:function(){return verifyHostBindings},visitAll:function(){return visitAll}});var a,o=i(36),l=i(25),u=i(31),p=i(17),h=i(24),d=i(14),v=i(16),m=i(34),y=i(35),E=i(27),k=i(28),x=i(8),_=i(9),w=i(63);function splitNsName(t){if(":"!=t[0])return[null,t];var r=t.indexOf(":",1);if(-1===r)throw new Error('Unsupported format "'.concat(t,'" expecting ":namespace:name"'));return[t.slice(1,r),t.slice(r+1)]}function isNgContainer(t){return"ng-container"===splitNsName(t)[1]}function isNgContent(t){return"ng-content"===splitNsName(t)[1]}function isNgTemplate(t){return"ng-template"===splitNsName(t)[1]}function getNsPrefix(t){return null===t?null:splitNsName(t)[0]}function mergeNsAndName(t,r){return t?":".concat(t,":").concat(r):r}!function(t){t[t.RAW_TEXT=0]="RAW_TEXT",t[t.ESCAPABLE_RAW_TEXT=1]="ESCAPABLE_RAW_TEXT",t[t.PARSABLE_DATA=2]="PARSABLE_DATA"}(a||(a={}));var C,I,A=function(){function HtmlTagDefinition(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=r.closedByChildren,o=r.implicitNamespacePrefix,l=r.contentType,u=void 0===l?a.PARSABLE_DATA:l,p=r.closedByParent,h=void 0!==p&&p,d=r.isVoid,v=void 0!==d&&d,m=r.ignoreFirstLf,y=void 0!==m&&m,E=r.preventNamespaceInheritance,k=void 0!==E&&E;(0,x.default)(this,HtmlTagDefinition),this.closedByChildren={},this.closedByParent=!1,this.canSelfClose=!1,i&&i.length>0&&i.forEach((function(r){return t.closedByChildren[r]=!0})),this.isVoid=v,this.closedByParent=h||v,this.implicitNamespacePrefix=o||null,this.contentType=u,this.ignoreFirstLf=y,this.preventNamespaceInheritance=k}return(0,_.default)(HtmlTagDefinition,[{key:"isClosedByChild",value:function isClosedByChild(t){return this.isVoid||t.toLowerCase()in this.closedByChildren}},{key:"getContentType",value:function getContentType(t){if("object"==typeof this.contentType){var r=void 0===t?void 0:this.contentType[t];return null!=r?r:this.contentType.default}return this.contentType}}]),HtmlTagDefinition}();function getHtmlTagDefinition(t){var r,i;return I||(C=new A,I={base:new A({isVoid:!0}),meta:new A({isVoid:!0}),area:new A({isVoid:!0}),embed:new A({isVoid:!0}),link:new A({isVoid:!0}),img:new A({isVoid:!0}),input:new A({isVoid:!0}),param:new A({isVoid:!0}),hr:new A({isVoid:!0}),br:new A({isVoid:!0}),source:new A({isVoid:!0}),track:new A({isVoid:!0}),wbr:new A({isVoid:!0}),p:new A({closedByChildren:["address","article","aside","blockquote","div","dl","fieldset","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","main","nav","ol","p","pre","section","table","ul"],closedByParent:!0}),thead:new A({closedByChildren:["tbody","tfoot"]}),tbody:new A({closedByChildren:["tbody","tfoot"],closedByParent:!0}),tfoot:new A({closedByChildren:["tbody"],closedByParent:!0}),tr:new A({closedByChildren:["tr"],closedByParent:!0}),td:new A({closedByChildren:["td","th"],closedByParent:!0}),th:new A({closedByChildren:["td","th"],closedByParent:!0}),col:new A({isVoid:!0}),svg:new A({implicitNamespacePrefix:"svg"}),foreignObject:new A({implicitNamespacePrefix:"svg",preventNamespaceInheritance:!0}),math:new A({implicitNamespacePrefix:"math"}),li:new A({closedByChildren:["li"],closedByParent:!0}),dt:new A({closedByChildren:["dt","dd"]}),dd:new A({closedByChildren:["dt","dd"],closedByParent:!0}),rb:new A({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rt:new A({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rtc:new A({closedByChildren:["rb","rtc","rp"],closedByParent:!0}),rp:new A({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),optgroup:new A({closedByChildren:["optgroup"],closedByParent:!0}),option:new A({closedByChildren:["option","optgroup"],closedByParent:!0}),pre:new A({ignoreFirstLf:!0}),listing:new A({ignoreFirstLf:!0}),style:new A({contentType:a.RAW_TEXT}),script:new A({contentType:a.RAW_TEXT}),title:new A({contentType:{default:a.ESCAPABLE_RAW_TEXT,svg:a.PARSABLE_DATA}}),textarea:new A({contentType:a.ESCAPABLE_RAW_TEXT,ignoreFirstLf:!0})}),null!==(i=null!==(r=I[t])&&void 0!==r?r:I[t.toLowerCase()])&&void 0!==i?i:C}var D,O,B=new RegExp("(\\:not\\()|(([\\.\\#]?)[-\\w]+)|(?:\\[([-.\\w*\\\\$]+)(?:=([\"']?)([^\\]\"']*)\\5)?\\])|(\\))|(\\s*,\\s*)","g"),q=function(){function CssSelector(){(0,x.default)(this,CssSelector),this.element=null,this.classNames=[],this.attrs=[],this.notSelectors=[]}return(0,_.default)(CssSelector,[{key:"unescapeAttribute",value:function unescapeAttribute(t){for(var r="",i=!1,a=0;a<t.length;a++){var o=t.charAt(a);if("\\"!==o){if("$"===o&&!i)throw new Error('Error in attribute selector "'.concat(t,'". ')+'Unescaped "$" is not supported. Please escape with "\\$".');i=!1,r+=o}else i=!0}return r}},{key:"escapeAttribute",value:function escapeAttribute(t){return t.replace(/\\/g,"\\\\").replace(/\$/g,"\\$")}},{key:"isElementSelector",value:function isElementSelector(){return this.hasElementSelector()&&0==this.classNames.length&&0==this.attrs.length&&0===this.notSelectors.length}},{key:"hasElementSelector",value:function hasElementSelector(){return!!this.element}},{key:"setElement",value:function setElement(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.element=t}},{key:"getMatchingElementTemplate",value:function getMatchingElementTemplate(){for(var t=this.element||"div",r=this.classNames.length>0?' class="'.concat(this.classNames.join(" "),'"'):"",i="",a=0;a<this.attrs.length;a+=2){var o=this.attrs[a],l=""!==this.attrs[a+1]?'="'.concat(this.attrs[a+1],'"'):"";i+=" ".concat(o).concat(l)}return getHtmlTagDefinition(t).isVoid?"<".concat(t).concat(r).concat(i,"/>"):"<".concat(t).concat(r).concat(i,"></").concat(t,">")}},{key:"getAttrs",value:function getAttrs(){var t=[];return this.classNames.length>0&&t.push("class",this.classNames.join(" ")),t.concat(this.attrs)}},{key:"addAttribute",value:function addAttribute(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.attrs.push(t,r&&r.toLowerCase()||"")}},{key:"addClassName",value:function addClassName(t){this.classNames.push(t.toLowerCase())}},{key:"toString",value:function toString(){var t=this.element||"";if(this.classNames&&this.classNames.forEach((function(r){return t+=".".concat(r)})),this.attrs)for(var r=0;r<this.attrs.length;r+=2){var i=this.escapeAttribute(this.attrs[r]),a=this.attrs[r+1];t+="[".concat(i).concat(a?"="+a:"","]")}return this.notSelectors.forEach((function(r){return t+=":not(".concat(r,")")})),t}}],[{key:"parse",value:function parse(t){var r,i=[],a=function _addResult(t,r){r.notSelectors.length>0&&!r.element&&0==r.classNames.length&&0==r.attrs.length&&(r.element="*"),t.push(r)},o=new CssSelector,l=o,u=!1;for(B.lastIndex=0;r=B.exec(t);){if(r[1]){if(u)throw new Error("Nesting :not in a selector is not allowed");u=!0,l=new CssSelector,o.notSelectors.push(l)}var p=r[2];if(p){var h=r[3];"#"===h?l.addAttribute("id",p.slice(1)):"."===h?l.addClassName(p.slice(1)):l.setElement(p)}var d=r[4];if(d&&l.addAttribute(l.unescapeAttribute(d),r[6]),r[7]&&(u=!1,l=o),r[8]){if(u)throw new Error("Multiple selectors in :not are not supported");a(i,o),o=l=new CssSelector}}return a(i,o),i}}]),CssSelector}(),j=function(){function SelectorMatcher(){(0,x.default)(this,SelectorMatcher),this._elementMap=new Map,this._elementPartialMap=new Map,this._classMap=new Map,this._classPartialMap=new Map,this._attrValueMap=new Map,this._attrValuePartialMap=new Map,this._listContexts=[]}return(0,_.default)(SelectorMatcher,[{key:"addSelectables",value:function addSelectables(t,r){var i=null;t.length>1&&(i=new H(t),this._listContexts.push(i));for(var a=0;a<t.length;a++)this._addSelectable(t[a],r,i)}},{key:"_addSelectable",value:function _addSelectable(t,r,i){var a=this,o=t.element,l=t.classNames,u=t.attrs,p=new z(t,r,i);o&&(0===u.length&&0===l.length?this._addTerminal(a._elementMap,o,p):a=this._addPartial(a._elementPartialMap,o));if(l)for(var h=0;h<l.length;h++){var d=0===u.length&&h===l.length-1,v=l[h];d?this._addTerminal(a._classMap,v,p):a=this._addPartial(a._classPartialMap,v)}if(u)for(var m=0;m<u.length;m+=2){var y=m===u.length-2,E=u[m],k=u[m+1];if(y){var x=a._attrValueMap,_=x.get(E);_||(_=new Map,x.set(E,_)),this._addTerminal(_,k,p)}else{var w=a._attrValuePartialMap,C=w.get(E);C||(C=new Map,w.set(E,C)),a=this._addPartial(C,k)}}}},{key:"_addTerminal",value:function _addTerminal(t,r,i){var a=t.get(r);a||(a=[],t.set(r,a)),a.push(i)}},{key:"_addPartial",value:function _addPartial(t,r){var i=t.get(r);return i||(i=new SelectorMatcher,t.set(r,i)),i}},{key:"match",value:function match(t,r){for(var i=!1,a=t.element,o=t.classNames,l=t.attrs,u=0;u<this._listContexts.length;u++)this._listContexts[u].alreadyMatched=!1;if(i=this._matchTerminal(this._elementMap,a,t,r)||i,i=this._matchPartial(this._elementPartialMap,a,t,r)||i,o)for(var p=0;p<o.length;p++){var h=o[p];i=this._matchTerminal(this._classMap,h,t,r)||i,i=this._matchPartial(this._classPartialMap,h,t,r)||i}if(l)for(var d=0;d<l.length;d+=2){var v=l[d],m=l[d+1],y=this._attrValueMap.get(v);m&&(i=this._matchTerminal(y,"",t,r)||i),i=this._matchTerminal(y,m,t,r)||i;var E=this._attrValuePartialMap.get(v);m&&(i=this._matchPartial(E,"",t,r)||i),i=this._matchPartial(E,m,t,r)||i}return i}},{key:"_matchTerminal",value:function _matchTerminal(t,r,i,a){if(!t||"string"!=typeof r)return!1;var o=t.get(r)||[],l=t.get("*");if(l&&(o=o.concat(l)),0===o.length)return!1;for(var u=!1,p=0;p<o.length;p++)u=o[p].finalize(i,a)||u;return u}},{key:"_matchPartial",value:function _matchPartial(t,r,i,a){if(!t||"string"!=typeof r)return!1;var o=t.get(r);return!!o&&o.match(i,a)}}],[{key:"createNotMatcher",value:function createNotMatcher(t){var r=new SelectorMatcher;return r.addSelectables(t,null),r}}]),SelectorMatcher}(),H=(0,_.default)((function SelectorListContext(t){(0,x.default)(this,SelectorListContext),this.selectors=t,this.alreadyMatched=!1})),z=function(){function SelectorContext(t,r,i){(0,x.default)(this,SelectorContext),this.selector=t,this.cbContext=r,this.listContext=i,this.notSelectors=t.notSelectors}return(0,_.default)(SelectorContext,[{key:"finalize",value:function finalize(t,r){var i=!0;!(this.notSelectors.length>0)||this.listContext&&this.listContext.alreadyMatched||(i=!j.createNotMatcher(this.notSelectors).match(t,null));return!i||!r||this.listContext&&this.listContext.alreadyMatched||(this.listContext&&(this.listContext.alreadyMatched=!0),r(this.selector,this.cbContext)),i}}]),SelectorContext}(),$=!0;!function(t){t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom"}(D||(D={})),function(t){t[t.OnPush=0]="OnPush",t[t.Default=1]="Default"}(O||(O={}));var G,ee,te={name:"custom-elements"},ne={name:"no-errors-schema"},re=Function;function parserSelectorToR3Selector(t){var r=function parserSelectorToSimpleSelector(t){var r=t.classNames&&t.classNames.length?[8].concat((0,k.default)(t.classNames)):[];return[t.element&&"*"!==t.element?t.element:""].concat((0,k.default)(t.attrs),(0,k.default)(r))}(t),i=t.notSelectors&&t.notSelectors.length?t.notSelectors.map((function(t){return function parserSelectorToNegativeSelector(t){var r=t.classNames&&t.classNames.length?[8].concat((0,k.default)(t.classNames)):[];return t.element?[5,t.element].concat((0,k.default)(t.attrs),(0,k.default)(r)):t.attrs.length?[3].concat((0,k.default)(t.attrs),(0,k.default)(r)):t.classNames&&t.classNames.length?[9].concat((0,k.default)(t.classNames)):[]}(t)})):[];return r.concat.apply(r,(0,k.default)(i))}function parseSelectorToR3Selector(t){return t?q.parse(t).map(parserSelectorToR3Selector):[]}!function(t){t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL"}(G||(G={})),function(t){t[t.Error=0]="Error",t[t.Warning=1]="Warning",t[t.Ignore=2]="Ignore"}(ee||(ee={}));var ie=Object.freeze({__proto__:null,emitDistinctChangesOnlyDefaultValue:$,get ViewEncapsulation(){return D},get ChangeDetectionStrategy(){return O},CUSTOM_ELEMENTS_SCHEMA:te,NO_ERRORS_SCHEMA:ne,Type:re,get SecurityContext(){return G},get MissingTranslationStrategy(){return ee},parseSelectorToR3Selector:parseSelectorToR3Selector}),ae=/-+([a-z0-9])/g;function splitAtColon(t,r){return _splitAt(t,":",r)}function _splitAt(t,r,i){var a=t.indexOf(r);return-1==a?i:[t.slice(0,a).trim(),t.slice(a+1).trim()]}function noUndefined(t){return void 0===t?null:t}function error(t){throw new Error("Internal Error: ".concat(t))}function utf8Encode(t){for(var r=[],i=0;i<t.length;i++){var a=t.charCodeAt(i);if(a>=55296&&a<=56319&&t.length>i+1){var o=t.charCodeAt(i+1);o>=56320&&o<=57343&&(i++,a=(a-55296<<10)+o-56320+65536)}a<=127?r.push(a):a<=2047?r.push(a>>6&31|192,63&a|128):a<=65535?r.push(a>>12|224,a>>6&63|128,63&a|128):a<=2097151&&r.push(a>>18&7|240,a>>12&63|128,a>>6&63|128,63&a|128)}return r}function stringify(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(stringify).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return"".concat(t.overriddenName);if(t.name)return"".concat(t.name);if(!t.toString)return"object";var r=t.toString();if(null==r)return""+r;var i=r.indexOf("\n");return-1===i?r:r.substring(0,i)}var se=(0,_.default)((function Version(t){(0,x.default)(this,Version),this.full=t;var r=t.split(".");this.major=r[0],this.minor=r[1],this.patch=r.slice(2).join(".")})),oe=function(){return"undefined"!=typeof global&&global||"undefined"!=typeof window&&window||"undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self}();var le=function(){function BigInteger(t){(0,x.default)(this,BigInteger),this.digits=t}return(0,_.default)(BigInteger,[{key:"clone",value:function clone(){return new BigInteger(this.digits.slice())}},{key:"add",value:function add(t){var r=this.clone();return r.addToSelf(t),r}},{key:"addToSelf",value:function addToSelf(t){for(var r=Math.max(this.digits.length,t.digits.length),i=0,a=0;a<r;a++){var o=i;a<this.digits.length&&(o+=this.digits[a]),a<t.digits.length&&(o+=t.digits[a]),o>=10?(this.digits[a]=o-10,i=1):(this.digits[a]=o,i=0)}i>0&&(this.digits[r]=1)}},{key:"toString",value:function toString(){for(var t="",r=this.digits.length-1;r>=0;r--)t+=this.digits[r];return t}}],[{key:"zero",value:function zero(){return new BigInteger([0])}},{key:"one",value:function one(){return new BigInteger([1])}}]),BigInteger}(),ue=function(){function BigIntForMultiplication(t){(0,x.default)(this,BigIntForMultiplication),this.powerOfTwos=[t]}return(0,_.default)(BigIntForMultiplication,[{key:"getValue",value:function getValue(){return this.powerOfTwos[0]}},{key:"multiplyBy",value:function multiplyBy(t){var r=le.zero();return this.multiplyByAndAddTo(t,r),r}},{key:"multiplyByAndAddTo",value:function multiplyByAndAddTo(t,r){for(var i=0;0!==t;t>>>=1,i++)if(1&t){var a=this.getMultipliedByPowerOfTwo(i);r.addToSelf(a)}}},{key:"getMultipliedByPowerOfTwo",value:function getMultipliedByPowerOfTwo(t){for(var r=this.powerOfTwos.length;r<=t;r++){var i=this.powerOfTwos[r-1];this.powerOfTwos[r]=i.add(i)}return this.powerOfTwos[t]}}]),BigIntForMultiplication}(),ce=function(){function BigIntExponentiation(t){(0,x.default)(this,BigIntExponentiation),this.base=t,this.exponents=[new ue(le.one())]}return(0,_.default)(BigIntExponentiation,[{key:"toThePowerOf",value:function toThePowerOf(t){for(var r=this.exponents.length;r<=t;r++){var i=this.exponents[r-1].multiplyBy(this.base);this.exponents[r]=new ue(i)}return this.exponents[t]}}]),BigIntExponentiation}();function digest$1(t){return t.id||computeDigest(t)}function computeDigest(t){return function sha1(t){var r=utf8Encode(t),i=function bytesToWords32(t,r){for(var i=t.length+3>>>2,a=[],o=0;o<i;o++)a[o]=wordAt(t,4*o,r);return a}(r,fe.Big),a=8*r.length,o=function newArray(t,r){for(var i=[],a=0;a<t;a++)i.push(r);return i}(80),l=1732584193,u=4023233417,p=2562383102,h=271733878,d=3285377520;i[a>>5]|=128<<24-a%32,i[15+(a+64>>9<<4)]=a;for(var v=0;v<i.length;v+=16){for(var m=l,y=u,E=p,k=h,x=d,_=0;_<80;_++){o[_]=_<16?i[v+_]:rol32(o[_-3]^o[_-8]^o[_-14]^o[_-16],1);var w=fk(_,u,p,h),C=w[0],I=w[1],A=[rol32(l,5),C,d,I,o[_]].reduce(add32);d=h,h=p,p=rol32(u,30),u=l,l=A}l=add32(l,m),u=add32(u,y),p=add32(p,E),h=add32(h,k),d=add32(d,x)}return function bytesToHexString(t){for(var r="",i=0;i<t.length;i++){var a=byteAt(t,i);r+=(a>>>4).toString(16)+(15&a).toString(16)}return r.toLowerCase()}(function words32ToByteString(t){return t.reduce((function(t,r){return t.concat(function word32ToByteString(t){for(var r=[],i=0;i<4;i++)r.push(t>>>8*(3-i)&255);return r}(r))}),[])}([l,u,p,h,d]))}(function serializeNodes(t){return t.map((function(t){return t.visit(he,null)}))}(t.nodes).join("")+"[".concat(t.meaning,"]"))}function decimalDigest(t){return t.id||computeDecimalDigest(t)}function computeDecimalDigest(t){var r=new de;return computeMsgId(t.nodes.map((function(t){return t.visit(r,null)})).join(""),t.meaning)}var pe=function(){function _SerializerVisitor(){(0,x.default)(this,_SerializerVisitor)}return(0,_.default)(_SerializerVisitor,[{key:"visitText",value:function visitText(t,r){return t.value}},{key:"visitContainer",value:function visitContainer(t,r){var i=this;return"[".concat(t.children.map((function(t){return t.visit(i)})).join(", "),"]")}},{key:"visitIcu",value:function visitIcu(t,r){var i=this,a=Object.keys(t.cases).map((function(r){return"".concat(r," {").concat(t.cases[r].visit(i),"}")}));return"{".concat(t.expression,", ").concat(t.type,", ").concat(a.join(", "),"}")}},{key:"visitTagPlaceholder",value:function visitTagPlaceholder(t,r){var i=this;return t.isVoid?'<ph tag name="'.concat(t.startName,'"/>'):'<ph tag name="'.concat(t.startName,'">').concat(t.children.map((function(t){return t.visit(i)})).join(", "),'</ph name="').concat(t.closeName,'">')}},{key:"visitPlaceholder",value:function visitPlaceholder(t,r){return t.value?'<ph name="'.concat(t.name,'">').concat(t.value,"</ph>"):'<ph name="'.concat(t.name,'"/>')}},{key:"visitIcuPlaceholder",value:function visitIcuPlaceholder(t,r){return'<ph icu name="'.concat(t.name,'">').concat(t.value.visit(this),"</ph>")}}]),_SerializerVisitor}(),he=new pe;var fe,de=function(t){(0,m.default)(_SerializerIgnoreIcuExpVisitor,t);var r=(0,y.default)(_SerializerIgnoreIcuExpVisitor);function _SerializerIgnoreIcuExpVisitor(){return(0,x.default)(this,_SerializerIgnoreIcuExpVisitor),r.apply(this,arguments)}return(0,_.default)(_SerializerIgnoreIcuExpVisitor,[{key:"visitIcu",value:function visitIcu(t,r){var i=this,a=Object.keys(t.cases).map((function(r){return"".concat(r," {").concat(t.cases[r].visit(i),"}")}));return"{".concat(t.type,", ").concat(a.join(", "),"}")}}]),_SerializerIgnoreIcuExpVisitor}(pe);function fk(t,r,i,a){return t<20?[r&i|~r&a,1518500249]:t<40?[r^i^a,1859775393]:t<60?[r&i|r&a|i&a,2400959708]:[r^i^a,3395469782]}function fingerprint(t){var r=utf8Encode(t),i=hash32(r,0),a=hash32(r,102072);return 0!=i||0!=a&&1!=a||(i^=319790063,a^=-1801410264),[i,a]}function computeMsgId(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=fingerprint(t);if(r){var a=fingerprint(r);i=add64(rol64(i,1),a)}var o=i[0],l=i[1];return wordsToDecimalString(2147483647&o,l)}function hash32(t,r){var i,a=2654435769,o=2654435769,l=t.length;for(i=0;i+12<=l;i+=12){var u=mix(a=add32(a,wordAt(t,i,fe.Little)),o=add32(o,wordAt(t,i+4,fe.Little)),r=add32(r,wordAt(t,i+8,fe.Little)));a=u[0],o=u[1],r=u[2]}return a=add32(a,wordAt(t,i,fe.Little)),o=add32(o,wordAt(t,i+4,fe.Little)),r=add32(r,l),mix(a,o,r=add32(r,wordAt(t,i+8,fe.Little)<<8))[2]}function mix(t,r,i){return t=sub32(t,r),t=sub32(t,i),t^=i>>>13,r=sub32(r,i),r=sub32(r,t),r^=t<<8,i=sub32(i,t),i=sub32(i,r),i^=r>>>13,t=sub32(t,r),t=sub32(t,i),t^=i>>>12,r=sub32(r,i),r=sub32(r,t),r^=t<<16,i=sub32(i,t),i=sub32(i,r),i^=r>>>5,t=sub32(t,r),t=sub32(t,i),t^=i>>>3,r=sub32(r,i),r=sub32(r,t),r^=t<<10,i=sub32(i,t),i=sub32(i,r),[t,r,i^=r>>>15]}function add32(t,r){return add32to64(t,r)[1]}function add32to64(t,r){var i=(65535&t)+(65535&r),a=(t>>>16)+(r>>>16)+(i>>>16);return[a>>>16,a<<16|65535&i]}function add64(t,r){var i=t[0],a=t[1],o=r[0],l=add32to64(a,r[1]),u=l[0],p=l[1];return[add32(add32(i,o),u),p]}function sub32(t,r){var i=(65535&t)-(65535&r);return(t>>16)-(r>>16)+(i>>16)<<16|65535&i}function rol32(t,r){return t<<r|t>>>32-r}function rol64(t,r){var i=t[0],a=t[1];return[i<<r|a>>>32-r,a<<r|i>>>32-r]}function byteAt(t,r){return r>=t.length?0:t[r]}function wordAt(t,r,i){var a=0;if(i===fe.Big)for(var o=0;o<4;o++)a+=byteAt(t,r+o)<<24-8*o;else for(var l=0;l<4;l++)a+=byteAt(t,r+l)<<8*l;return a}!function(t){t[t.Little=0]="Little",t[t.Big=1]="Big"}(fe||(fe={}));var ve,me=new ce(256);function wordsToDecimalString(t,r){var i=me.toThePowerOf(0).multiplyBy(r);return me.toThePowerOf(4).multiplyByAndAddTo(t,i),i.toString()}!function(t){t[t.None=0]="None",t[t.Const=1]="Const"}(ve||(ve={}));var ge,ye=function(){function Type(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve.None;(0,x.default)(this,Type),this.modifiers=t}return(0,_.default)(Type,[{key:"hasModifier",value:function hasModifier(t){return 0!=(this.modifiers&t)}}]),Type}();!function(t){t[t.Dynamic=0]="Dynamic",t[t.Bool=1]="Bool",t[t.String=2]="String",t[t.Int=3]="Int",t[t.Number=4]="Number",t[t.Function=5]="Function",t[t.Inferred=6]="Inferred",t[t.None=7]="None"}(ge||(ge={}));var Ee,ke,xe=function(t){(0,m.default)(BuiltinType,t);var r=(0,y.default)(BuiltinType);function BuiltinType(t,i){var a;return(0,x.default)(this,BuiltinType),(a=r.call(this,i)).name=t,a}return(0,_.default)(BuiltinType,[{key:"visitType",value:function visitType(t,r){return t.visitBuiltinType(this,r)}}]),BuiltinType}(ye),Se=function(t){(0,m.default)(ExpressionType,t);var r=(0,y.default)(ExpressionType);function ExpressionType(t,i){var a,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return(0,x.default)(this,ExpressionType),(a=r.call(this,i)).value=t,a.typeParams=o,a}return(0,_.default)(ExpressionType,[{key:"visitType",value:function visitType(t,r){return t.visitExpressionType(this,r)}}]),ExpressionType}(ye),_e=function(t){(0,m.default)(ArrayType,t);var r=(0,y.default)(ArrayType);function ArrayType(t,i){var a;return(0,x.default)(this,ArrayType),(a=r.call(this,i)).of=t,a}return(0,_.default)(ArrayType,[{key:"visitType",value:function visitType(t,r){return t.visitArrayType(this,r)}}]),ArrayType}(ye),we=function(t){(0,m.default)(MapType,t);var r=(0,y.default)(MapType);function MapType(t,i){var a;return(0,x.default)(this,MapType),(a=r.call(this,i)).valueType=t||null,a}return(0,_.default)(MapType,[{key:"visitType",value:function visitType(t,r){return t.visitMapType(this,r)}}]),MapType}(ye),Te=new xe(ge.Dynamic),be=new xe(ge.Inferred),Ce=new xe(ge.Bool),Ie=new xe(ge.Int),Pe=new xe(ge.Number),Ae=new xe(ge.String),Ne=new xe(ge.Function),Me=new xe(ge.None);function nullSafeIsEquivalent(t,r){return null==t||null==r?t==r:t.isEquivalent(r)}function areAllEquivalentPredicate(t,r,i){var a=t.length;if(a!==r.length)return!1;for(var o=0;o<a;o++)if(!i(t[o],r[o]))return!1;return!0}function areAllEquivalent(t,r){return areAllEquivalentPredicate(t,r,(function(t,r){return t.isEquivalent(r)}))}!function(t){t[t.Minus=0]="Minus",t[t.Plus=1]="Plus"}(Ee||(Ee={})),function(t){t[t.Equals=0]="Equals",t[t.NotEquals=1]="NotEquals",t[t.Identical=2]="Identical",t[t.NotIdentical=3]="NotIdentical",t[t.Minus=4]="Minus",t[t.Plus=5]="Plus",t[t.Divide=6]="Divide",t[t.Multiply=7]="Multiply",t[t.Modulo=8]="Modulo",t[t.And=9]="And",t[t.Or=10]="Or",t[t.BitwiseAnd=11]="BitwiseAnd",t[t.Lower=12]="Lower",t[t.LowerEquals=13]="LowerEquals",t[t.Bigger=14]="Bigger",t[t.BiggerEquals=15]="BiggerEquals",t[t.NullishCoalesce=16]="NullishCoalesce"}(ke||(ke={}));var Le=function(){function Expression(t,r){(0,x.default)(this,Expression),this.type=t||null,this.sourceSpan=r||null}return(0,_.default)(Expression,[{key:"prop",value:function prop(t,r){return new lt(this,t,null,r)}},{key:"key",value:function key(t,r,i){return new ut(this,t,r,i)}},{key:"callFn",value:function callFn(t,r,i){return new qe(this,t,null,r,i)}},{key:"instantiate",value:function instantiate(t,r,i){return new He(this,t,r,i)}},{key:"conditional",value:function conditional(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2?arguments[2]:void 0;return new nt(this,t,r,null,i)}},{key:"equals",value:function equals(t,r){return new ot(ke.Equals,this,t,null,r)}},{key:"notEquals",value:function notEquals(t,r){return new ot(ke.NotEquals,this,t,null,r)}},{key:"identical",value:function identical(t,r){return new ot(ke.Identical,this,t,null,r)}},{key:"notIdentical",value:function notIdentical(t,r){return new ot(ke.NotIdentical,this,t,null,r)}},{key:"minus",value:function minus(t,r){return new ot(ke.Minus,this,t,null,r)}},{key:"plus",value:function plus(t,r){return new ot(ke.Plus,this,t,null,r)}},{key:"divide",value:function divide(t,r){return new ot(ke.Divide,this,t,null,r)}},{key:"multiply",value:function multiply(t,r){return new ot(ke.Multiply,this,t,null,r)}},{key:"modulo",value:function modulo(t,r){return new ot(ke.Modulo,this,t,null,r)}},{key:"and",value:function and(t,r){return new ot(ke.And,this,t,null,r)}},{key:"bitwiseAnd",value:function bitwiseAnd(t,r){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return new ot(ke.BitwiseAnd,this,t,null,r,i)}},{key:"or",value:function or(t,r){return new ot(ke.Or,this,t,null,r)}},{key:"lower",value:function lower(t,r){return new ot(ke.Lower,this,t,null,r)}},{key:"lowerEquals",value:function lowerEquals(t,r){return new ot(ke.LowerEquals,this,t,null,r)}},{key:"bigger",value:function bigger(t,r){return new ot(ke.Bigger,this,t,null,r)}},{key:"biggerEquals",value:function biggerEquals(t,r){return new ot(ke.BiggerEquals,this,t,null,r)}},{key:"isBlank",value:function isBlank(t){return this.equals(vt,t)}},{key:"nullishCoalesce",value:function nullishCoalesce(t,r){return new ot(ke.NullishCoalesce,this,t,null,r)}},{key:"toStmt",value:function toStmt(){return new xt(this,null)}}]),Expression}(),Re=function(t){(0,m.default)(ReadVarExpr,t);var r=(0,y.default)(ReadVarExpr);function ReadVarExpr(t,i,a){var o;return(0,x.default)(this,ReadVarExpr),(o=r.call(this,i,a)).name=t,o}return(0,_.default)(ReadVarExpr,[{key:"isEquivalent",value:function isEquivalent(t){return t instanceof ReadVarExpr&&this.name===t.name}},{key:"isConstant",value:function isConstant(){return!1}},{key:"visitExpression",value:function visitExpression(t,r){return t.visitReadVarExpr(this,r)}},{key:"set",value:function set(t){return new Fe(this.name,t,null,this.sourceSpan)}}]),ReadVarExpr}(Le),De=function(t){(0,m.default)(TypeofExpr,t);var r=(0,y.default)(TypeofExpr);function TypeofExpr(t,i,a){var o;return(0,x.default)(this,TypeofExpr),(o=r.call(this,i,a)).expr=t,o}return(0,_.default)(TypeofExpr,[{key:"visitExpression",value:function visitExpression(t,r){return t.visitTypeofExpr(this,r)}},{key:"isEquivalent",value:function isEquivalent(t){return t instanceof TypeofExpr&&t.expr.isEquivalent(this.expr)}},{key:"isConstant",value:function isConstant(){return this.expr.isConstant()}}]),TypeofExpr}(Le),Oe=function(t){(0,m.default)(WrappedNodeExpr,t);var r=(0,y.default)(WrappedNodeExpr);function WrappedNodeExpr(t,i,a){var o;return(0,x.default)(this,WrappedNodeExpr),(o=r.call(this,i,a)).node=t,o}return(0,_.default)(WrappedNodeExpr,[{key:"isEquivalent",value:function isEquivalent(t){return t instanceof WrappedNodeExpr&&this.node===t.node}},{key:"isConstant",value:function isConstant(){return!1}},{key:"visitExpression",value:function visitExpression(t,r){return t.visitWrappedNodeExpr(this,r)}}]),WrappedNodeExpr}(Le),Fe=function(t){(0,m.default)(WriteVarExpr,t);var r=(0,y.default)(WriteVarExpr);function WriteVarExpr(t,i,a,o){var l;return(0,x.default)(this,WriteVarExpr),(l=r.call(this,a||i.type,o)).name=t,l.value=i,l}return(0,_.default)(WriteVarExpr,[{key:"isEquivalent",value:function isEquivalent(t){return t instanceof WriteVarExpr&&this.name===t.name&&this.value.isEquivalent(t.value)}},{key:"isConstant",value:function isConstant(){return!1}},{key:"visitExpression",value:function visitExpression(t,r){return t.visitWriteVarExpr(this,r)}},{key:"toDeclStmt",value:function toDeclStmt(t,r){return new Et(this.name,this.value,t,r,this.sourceSpan)}},{key:"toConstDecl",value:function toConstDecl(){return this.toDeclStmt(be,Ye.Final)}}]),WriteVarExpr}(Le),Be=function(t){(0,m.default)(WriteKeyExpr,t);var r=(0,y.default)(WriteKeyExpr);function WriteKeyExpr(t,i,a,o,l){var u;return(0,x.default)(this,WriteKeyExpr),(u=r.call(this,o||a.type,l)).receiver=t,u.index=i,u.value=a,u}return(0,_.default)(WriteKeyExpr,[{key:"isEquivalent",value:function isEquivalent(t){return t instanceof WriteKeyExpr&&this.receiver.isEquivalent(t.receiver)&&this.index.isEquivalent(t.index)&&this.value.isEquivalent(t.value)}},{key:"isConstant",value:function isConstant(){return!1}},{key:"visitExpression",value:function visitExpression(t,r){return t.visitWriteKeyExpr(this,r)}}]),WriteKeyExpr}(Le),Ve=function(t){(0,m.default)(WritePropExpr,t);var r=(0,y.default)(WritePropExpr);function WritePropExpr(t,i,a,o,l){var u;return(0,x.default)(this,WritePropExpr),(u=r.call(this,o||a.type,l)).receiver=t,u.name=i,u.value=a,u}return(0,_.default)(WritePropExpr,[{key:"isEquivalent",value:function isEquivalent(t){return t instanceof WritePropExpr&&this.receiver.isEquivalent(t.receiver)&&this.name===t.name&&this.value.isEquivalent(t.value)}},{key:"isConstant",value:function isConstant(){return!1}},{key:"visitExpression",value:function visitExpression(t,r){return t.visitWritePropExpr(this,r)}}]),WritePropExpr}(Le),qe=function(t){(0,m.default)(InvokeFunctionExpr,t);var r=(0,y.default)(InvokeFunctionExpr);function InvokeFunctionExpr(t,i,a,o){var l,u=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return(0,x.default)(this,InvokeFunctionExpr),(l=r.call(this,a,o)).fn=t,l.args=i,l.pure=u,l}return(0,_.default)(InvokeFunctionExpr,[{key:"isEquivalent",value:function isEquivalent(t){return t instanceof InvokeFunctionExpr&&this.fn.isEquivalent(t.fn)&&areAllEquivalent(this.args,t.args)&&this.pure===t.pure}},{key:"isConstant",value:function isConstant(){return!1}},{key:"visitExpression",value:function visitExpression(t,r){return t.visitInvokeFunctionExpr(this,r)}}]),InvokeFunctionExpr}(Le),je=function(t){(0,m.default)(TaggedTemplateExpr,t);var r=(0,y.default)(TaggedTemplateExpr);function TaggedTemplateExpr(t,i,a,o){var l;return(0,x.default)(this,TaggedTemplateExpr),(l=r.call(this,a,o)).tag=t,l.template=i,l}return(0,_.default)(TaggedTemplateExpr,[{key:"isEquivalent",value:function isEquivalent(t){return t instanceof TaggedTemplateExpr&&this.tag.isEquivalent(t.tag)&&areAllEquivalentPredicate(this.template.elements,t.template.elements,(function(t,r){return t.text===r.text}))&&areAllEquivalent(this.template.expressions,t.template.expressions)}},{key:"isConstant",value:function isConstant(){return!1}},{key:"visitExpression",value:function visitExpression(t,r){return t.visitTaggedTemplateExpr(this,r)}}]),TaggedTemplateExpr}(Le),He=function(t){(0,m.default)(InstantiateExpr,t);var r=(0,y.default)(InstantiateExpr);function InstantiateExpr(t,i,a,o){var l;return(0,x.default)(this,InstantiateExpr),(l=r.call(this,a,o)).classExpr=t,l.args=i,l}return(0,_.default)(InstantiateExpr,[{key:"isEquivalent",value:function isEquivalent(t){return t instanceof InstantiateExpr&&this.classExpr.isEquivalent(t.classExpr)&&areAllEquivalent(this.args,t.args)}},{key:"isConstant",value:function isConstant(){return!1}},{key:"visitExpression",value:function visitExpression(t,r){return t.visitInstantiateExpr(this,r)}}]),InstantiateExpr}(Le),Ue=function(t){(0,m.default)(LiteralExpr,t);var r=(0,y.default)(LiteralExpr);function LiteralExpr(t,i,a){var o;return(0,x.default)(this,LiteralExpr),(o=r.call(this,i,a)).value=t,o}return(0,_.default)(LiteralExpr,[{key:"isEquivalent",value:function isEquivalent(t){return t instanceof LiteralExpr&&this.value===t.value}},{key:"isConstant",value:function isConstant(){return!0}},{key:"visitExpression",value:function visitExpression(t,r){return t.visitLiteralExpr(this,r)}}]),LiteralExpr}(Le),We=(0,_.default)((function TemplateLiteral(t,r){(0,x.default)(this,TemplateLiteral),this.elements=t,this.expressions=r})),ze=(0,_.default)((function TemplateLiteralElement(t,r,i){var a;(0,x.default)(this,TemplateLiteralElement),this.text=t,this.sourceSpan=r,this.rawText=null!==(a=null!=i?i:null==r?void 0:r.toString())&&void 0!==a?a:Qe(Ge(t))})),Ke=(0,_.default)((function LiteralPiece(t,r){(0,x.default)(this,LiteralPiece),this.text=t,this.sourceSpan=r})),Ze=(0,_.default)((function PlaceholderPiece(t,r,i){(0,x.default)(this,PlaceholderPiece),this.text=t,this.sourceSpan=r,this.associatedMessage=i})),$e=function(t){(0,m.default)(LocalizedString,t);var r=(0,y.default)(LocalizedString);function LocalizedString(t,i,a,o,l){var u;return(0,x.default)(this,LocalizedString),(u=r.call(this,Ae,l)).metaBlock=t,u.messageParts=i,u.placeHolderNames=a,u.expressions=o,u}return(0,_.default)(LocalizedString,[{key:"isEquivalent",value:function isEquivalent(t){return!1}},{key:"isConstant",value:function isConstant(){return!1}},{key:"visitExpression",value:function visitExpression(t,r){return t.visitLocalizedString(this,r)}},{key:"serializeI18nHead",value:function serializeI18nHead(){var t=this.metaBlock.description||"";return this.metaBlock.meaning&&(t="".concat(this.metaBlock.meaning).concat("|").concat(t)),this.metaBlock.customId&&(t="".concat(t).concat("@@").concat(this.metaBlock.customId)),this.metaBlock.legacyIds&&this.metaBlock.legacyIds.forEach((function(r){t="".concat(t).concat("").concat(r)})),createCookedRawString(t,this.messageParts[0].text,this.getMessagePartSourceSpan(0))}},{key:"getMessagePartSourceSpan",value:function getMessagePartSourceSpan(t){var r,i;return null!==(i=null===(r=this.messageParts[t])||void 0===r?void 0:r.sourceSpan)&&void 0!==i?i:this.sourceSpan}},{key:"getPlaceholderSourceSpan",value:function getPlaceholderSourceSpan(t){var r,i,a,o;return null!==(o=null!==(i=null===(r=this.placeHolderNames[t])||void 0===r?void 0:r.sourceSpan)&&void 0!==i?i:null===(a=this.expressions[t])||void 0===a?void 0:a.sourceSpan)&&void 0!==o?o:this.sourceSpan}},{key:"serializeI18nTemplatePart",value:function serializeI18nTemplatePart(t){var r,i=this.placeHolderNames[t-1],a=this.messageParts[t],o=i.text;return 0===(null===(r=i.associatedMessage)||void 0===r?void 0:r.legacyIds.length)&&(o+="".concat("@@").concat(computeMsgId(i.associatedMessage.messageString,i.associatedMessage.meaning))),createCookedRawString(o,a.text,this.getMessagePartSourceSpan(t))}}]),LocalizedString}(Le),Ge=function escapeSlashes(t){return t.replace(/\\/g,"\\\\")},Xe=function escapeStartingColon(t){return t.replace(/^:/,"\\:")},Je=function escapeColons(t){return t.replace(/:/g,"\\:")},Qe=function escapeForTemplateLiteral(t){return t.replace(/`/g,"\\`").replace(/\${/g,"$\\{")};function createCookedRawString(t,r,i){return""===t?{cooked:r,raw:Qe(Xe(Ge(r))),range:i}:{cooked:":".concat(t,":").concat(r),raw:Qe(":".concat(Je(Ge(t)),":").concat(Ge(r))),range:i}}var Ye,et=function(t){(0,m.default)(ExternalExpr,t);var r=(0,y.default)(ExternalExpr);function ExternalExpr(t,i){var a,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,l=arguments.length>3?arguments[3]:void 0;return(0,x.default)(this,ExternalExpr),(a=r.call(this,i,l)).value=t,a.typeParams=o,a}return(0,_.default)(ExternalExpr,[{key:"isEquivalent",value:function isEquivalent(t){return t instanceof ExternalExpr&&this.value.name===t.value.name&&this.value.moduleName===t.value.moduleName&&this.value.runtime===t.value.runtime}},{key:"isConstant",value:function isConstant(){return!1}},{key:"visitExpression",value:function visitExpression(t,r){return t.visitExternalExpr(this,r)}}]),ExternalExpr}(Le),tt=(0,_.default)((function ExternalReference(t,r,i){(0,x.default)(this,ExternalReference),this.moduleName=t,this.name=r,this.runtime=i})),nt=function(t){(0,m.default)(ConditionalExpr,t);var r=(0,y.default)(ConditionalExpr);function ConditionalExpr(t,i){var a,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,l=arguments.length>3?arguments[3]:void 0,u=arguments.length>4?arguments[4]:void 0;return(0,x.default)(this,ConditionalExpr),(a=r.call(this,l||i.type,u)).condition=t,a.falseCase=o,a.trueCase=i,a}return(0,_.default)(ConditionalExpr,[{key:"isEquivalent",value:function isEquivalent(t){return t instanceof ConditionalExpr&&this.condition.isEquivalent(t.condition)&&this.trueCase.isEquivalent(t.trueCase)&&nullSafeIsEquivalent(this.falseCase,t.falseCase)}},{key:"isConstant",value:function isConstant(){return!1}},{key:"visitExpression",value:function visitExpression(t,r){return t.visitConditionalExpr(this,r)}}]),ConditionalExpr}(Le),rt=function(t){(0,m.default)(NotExpr,t);var r=(0,y.default)(NotExpr);function NotExpr(t,i){var a;return(0,x.default)(this,NotExpr),(a=r.call(this,Ce,i)).condition=t,a}return(0,_.default)(NotExpr,[{key:"isEquivalent",value:function isEquivalent(t){return t instanceof NotExpr&&this.condition.isEquivalent(t.condition)}},{key:"isConstant",value:function isConstant(){return!1}},{key:"visitExpression",value:function visitExpression(t,r){return t.visitNotExpr(this,r)}}]),NotExpr}(Le),it=function(){function FnParam(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;(0,x.default)(this,FnParam),this.name=t,this.type=r}return(0,_.default)(FnParam,[{key:"isEquivalent",value:function isEquivalent(t){return this.name===t.name}}]),FnParam}(),at=function(t){(0,m.default)(FunctionExpr,t);var r=(0,y.default)(FunctionExpr);function FunctionExpr(t,i,a,o,l){var u;return(0,x.default)(this,FunctionExpr),(u=r.call(this,a,o)).params=t,u.statements=i,u.name=l,u}return(0,_.default)(FunctionExpr,[{key:"isEquivalent",value:function isEquivalent(t){return t instanceof FunctionExpr&&areAllEquivalent(this.params,t.params)&&areAllEquivalent(this.statements,t.statements)}},{key:"isConstant",value:function isConstant(){return!1}},{key:"visitExpression",value:function visitExpression(t,r){return t.visitFunctionExpr(this,r)}},{key:"toDeclStmt",value:function toDeclStmt(t,r){return new kt(t,this.params,this.statements,this.type,r,this.sourceSpan)}}]),FunctionExpr}(Le),st=function(t){(0,m.default)(UnaryOperatorExpr,t);var r=(0,y.default)(UnaryOperatorExpr);function UnaryOperatorExpr(t,i,a,o){var l,u=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];return(0,x.default)(this,UnaryOperatorExpr),(l=r.call(this,a||Pe,o)).operator=t,l.expr=i,l.parens=u,l}return(0,_.default)(UnaryOperatorExpr,[{key:"isEquivalent",value:function isEquivalent(t){return t instanceof UnaryOperatorExpr&&this.operator===t.operator&&this.expr.isEquivalent(t.expr)}},{key:"isConstant",value:function isConstant(){return!1}},{key:"visitExpression",value:function visitExpression(t,r){return t.visitUnaryOperatorExpr(this,r)}}]),UnaryOperatorExpr}(Le),ot=function(t){(0,m.default)(BinaryOperatorExpr,t);var r=(0,y.default)(BinaryOperatorExpr);function BinaryOperatorExpr(t,i,a,o,l){var u,p=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];return(0,x.default)(this,BinaryOperatorExpr),(u=r.call(this,o||i.type,l)).operator=t,u.rhs=a,u.parens=p,u.lhs=i,u}return(0,_.default)(BinaryOperatorExpr,[{key:"isEquivalent",value:function isEquivalent(t){return t instanceof BinaryOperatorExpr&&this.operator===t.operator&&this.lhs.isEquivalent(t.lhs)&&this.rhs.isEquivalent(t.rhs)}},{key:"isConstant",value:function isConstant(){return!1}},{key:"visitExpression",value:function visitExpression(t,r){return t.visitBinaryOperatorExpr(this,r)}}]),BinaryOperatorExpr}(Le),lt=function(t){(0,m.default)(ReadPropExpr,t);var r=(0,y.default)(ReadPropExpr);function ReadPropExpr(t,i,a,o){var l;return(0,x.default)(this,ReadPropExpr),(l=r.call(this,a,o)).receiver=t,l.name=i,l}return(0,_.default)(ReadPropExpr,[{key:"isEquivalent",value:function isEquivalent(t){return t instanceof ReadPropExpr&&this.receiver.isEquivalent(t.receiver)&&this.name===t.name}},{key:"isConstant",value:function isConstant(){return!1}},{key:"visitExpression",value:function visitExpression(t,r){return t.visitReadPropExpr(this,r)}},{key:"set",value:function set(t){return new Ve(this.receiver,this.name,t,null,this.sourceSpan)}}]),ReadPropExpr}(Le),ut=function(t){(0,m.default)(ReadKeyExpr,t);var r=(0,y.default)(ReadKeyExpr);function ReadKeyExpr(t,i,a,o){var l;return(0,x.default)(this,ReadKeyExpr),(l=r.call(this,a,o)).receiver=t,l.index=i,l}return(0,_.default)(ReadKeyExpr,[{key:"isEquivalent",value:function isEquivalent(t){return t instanceof ReadKeyExpr&&this.receiver.isEquivalent(t.receiver)&&this.index.isEquivalent(t.index)}},{key:"isConstant",value:function isConstant(){return!1}},{key:"visitExpression",value:function visitExpression(t,r){return t.visitReadKeyExpr(this,r)}},{key:"set",value:function set(t){return new Be(this.receiver,this.index,t,null,this.sourceSpan)}}]),ReadKeyExpr}(Le),ct=function(t){(0,m.default)(LiteralArrayExpr,t);var r=(0,y.default)(LiteralArrayExpr);function LiteralArrayExpr(t,i,a){var o;return(0,x.default)(this,LiteralArrayExpr),(o=r.call(this,i,a)).entries=t,o}return(0,_.default)(LiteralArrayExpr,[{key:"isConstant",value:function isConstant(){return this.entries.every((function(t){return t.isConstant()}))}},{key:"isEquivalent",value:function isEquivalent(t){return t instanceof LiteralArrayExpr&&areAllEquivalent(this.entries,t.entries)}},{key:"visitExpression",value:function visitExpression(t,r){return t.visitLiteralArrayExpr(this,r)}}]),LiteralArrayExpr}(Le),pt=function(){function LiteralMapEntry(t,r,i){(0,x.default)(this,LiteralMapEntry),this.key=t,this.value=r,this.quoted=i}return(0,_.default)(LiteralMapEntry,[{key:"isEquivalent",value:function isEquivalent(t){return this.key===t.key&&this.value.isEquivalent(t.value)}}]),LiteralMapEntry}(),ht=function(t){(0,m.default)(LiteralMapExpr,t);var r=(0,y.default)(LiteralMapExpr);function LiteralMapExpr(t,i,a){var o;return(0,x.default)(this,LiteralMapExpr),(o=r.call(this,i,a)).entries=t,o.valueType=null,i&&(o.valueType=i.valueType),o}return(0,_.default)(LiteralMapExpr,[{key:"isEquivalent",value:function isEquivalent(t){return t instanceof LiteralMapExpr&&areAllEquivalent(this.entries,t.entries)}},{key:"isConstant",value:function isConstant(){return this.entries.every((function(t){return t.value.isConstant()}))}},{key:"visitExpression",value:function visitExpression(t,r){return t.visitLiteralMapExpr(this,r)}}]),LiteralMapExpr}(Le),ft=function(t){(0,m.default)(CommaExpr,t);var r=(0,y.default)(CommaExpr);function CommaExpr(t,i){var a;return(0,x.default)(this,CommaExpr),(a=r.call(this,t[t.length-1].type,i)).parts=t,a}return(0,_.default)(CommaExpr,[{key:"isEquivalent",value:function isEquivalent(t){return t instanceof CommaExpr&&areAllEquivalent(this.parts,t.parts)}},{key:"isConstant",value:function isConstant(){return!1}},{key:"visitExpression",value:function visitExpression(t,r){return t.visitCommaExpr(this,r)}}]),CommaExpr}(Le),dt=new Ue(null,null,null),vt=new Ue(null,be,null);!function(t){t[t.None=0]="None",t[t.Final=1]="Final",t[t.Private=2]="Private",t[t.Exported=4]="Exported",t[t.Static=8]="Static"}(Ye||(Ye={}));var mt=function(){function LeadingComment(t,r,i){(0,x.default)(this,LeadingComment),this.text=t,this.multiline=r,this.trailingNewline=i}return(0,_.default)(LeadingComment,[{key:"toString",value:function toString(){return this.multiline?" ".concat(this.text," "):this.text}}]),LeadingComment}(),gt=function(t){(0,m.default)(JSDocComment,t);var r=(0,y.default)(JSDocComment);function JSDocComment(t){var i;return(0,x.default)(this,JSDocComment),(i=r.call(this,"",!0,!0)).tags=t,i}return(0,_.default)(JSDocComment,[{key:"toString",value:function toString(){return function serializeTags(t){if(0===t.length)return"";if(1===t.length&&t[0].tagName&&!t[0].text)return"*".concat(tagToString(t[0])," ");var r,i="*\n",a=(0,E.default)(t);try{for(a.s();!(r=a.n()).done;){var o=r.value;i+=" *",i+=tagToString(o).replace(/\n/g,"\n * "),i+="\n"}}catch(t){a.e(t)}finally{a.f()}return i+=" "}(this.tags)}}]),JSDocComment}(mt),yt=function(){function Statement(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye.None,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2?arguments[2]:void 0;(0,x.default)(this,Statement),this.modifiers=t,this.sourceSpan=r,this.leadingComments=i}return(0,_.default)(Statement,[{key:"hasModifier",value:function hasModifier(t){return 0!=(this.modifiers&t)}},{key:"addLeadingComment",value:function addLeadingComment(t){var r;this.leadingComments=null!==(r=this.leadingComments)&&void 0!==r?r:[],this.leadingComments.push(t)}}]),Statement}(),Et=function(t){(0,m.default)(DeclareVarStmt,t);var r=(0,y.default)(DeclareVarStmt);function DeclareVarStmt(t,i,a,o,l,u){var p;return(0,x.default)(this,DeclareVarStmt),(p=r.call(this,o,l,u)).name=t,p.value=i,p.type=a||i&&i.type||null,p}return(0,_.default)(DeclareVarStmt,[{key:"isEquivalent",value:function isEquivalent(t){return t instanceof DeclareVarStmt&&this.name===t.name&&(this.value?!!t.value&&this.value.isEquivalent(t.value):!t.value)}},{key:"visitStatement",value:function visitStatement(t,r){return t.visitDeclareVarStmt(this,r)}}]),DeclareVarStmt}(yt),kt=function(t){(0,m.default)(DeclareFunctionStmt,t);var r=(0,y.default)(DeclareFunctionStmt);function DeclareFunctionStmt(t,i,a,o,l,u,p){var h;return(0,x.default)(this,DeclareFunctionStmt),(h=r.call(this,l,u,p)).name=t,h.params=i,h.statements=a,h.type=o||null,h}return(0,_.default)(DeclareFunctionStmt,[{key:"isEquivalent",value:function isEquivalent(t){return t instanceof DeclareFunctionStmt&&areAllEquivalent(this.params,t.params)&&areAllEquivalent(this.statements,t.statements)}},{key:"visitStatement",value:function visitStatement(t,r){return t.visitDeclareFunctionStmt(this,r)}}]),DeclareFunctionStmt}(yt),xt=function(t){(0,m.default)(ExpressionStatement,t);var r=(0,y.default)(ExpressionStatement);function ExpressionStatement(t,i,a){var o;return(0,x.default)(this,ExpressionStatement),(o=r.call(this,Ye.None,i,a)).expr=t,o}return(0,_.default)(ExpressionStatement,[{key:"isEquivalent",value:function isEquivalent(t){return t instanceof ExpressionStatement&&this.expr.isEquivalent(t.expr)}},{key:"visitStatement",value:function visitStatement(t,r){return t.visitExpressionStmt(this,r)}}]),ExpressionStatement}(yt),St=function(t){(0,m.default)(ReturnStatement,t);var r=(0,y.default)(ReturnStatement);function ReturnStatement(t){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2?arguments[2]:void 0;return(0,x.default)(this,ReturnStatement),(i=r.call(this,Ye.None,a,o)).value=t,i}return(0,_.default)(ReturnStatement,[{key:"isEquivalent",value:function isEquivalent(t){return t instanceof ReturnStatement&&this.value.isEquivalent(t.value)}},{key:"visitStatement",value:function visitStatement(t,r){return t.visitReturnStmt(this,r)}}]),ReturnStatement}(yt),_t=function(t){(0,m.default)(IfStmt,t);var r=(0,y.default)(IfStmt);function IfStmt(t,i){var a,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],l=arguments.length>3?arguments[3]:void 0,u=arguments.length>4?arguments[4]:void 0;return(0,x.default)(this,IfStmt),(a=r.call(this,Ye.None,l,u)).condition=t,a.trueCase=i,a.falseCase=o,a}return(0,_.default)(IfStmt,[{key:"isEquivalent",value:function isEquivalent(t){return t instanceof IfStmt&&this.condition.isEquivalent(t.condition)&&areAllEquivalent(this.trueCase,t.trueCase)&&areAllEquivalent(this.falseCase,t.falseCase)}},{key:"visitStatement",value:function visitStatement(t,r){return t.visitIfStmt(this,r)}}]),IfStmt}(yt),wt=function(){function RecursiveAstVisitor$1(){(0,x.default)(this,RecursiveAstVisitor$1)}return(0,_.default)(RecursiveAstVisitor$1,[{key:"visitType",value:function visitType(t,r){return t}},{key:"visitExpression",value:function visitExpression(t,r){return t.type&&t.type.visitType(this,r),t}},{key:"visitBuiltinType",value:function visitBuiltinType(t,r){return this.visitType(t,r)}},{key:"visitExpressionType",value:function visitExpressionType(t,r){var i=this;return t.value.visitExpression(this,r),null!==t.typeParams&&t.typeParams.forEach((function(t){return i.visitType(t,r)})),this.visitType(t,r)}},{key:"visitArrayType",value:function visitArrayType(t,r){return this.visitType(t,r)}},{key:"visitMapType",value:function visitMapType(t,r){return this.visitType(t,r)}},{key:"visitWrappedNodeExpr",value:function visitWrappedNodeExpr(t,r){return t}},{key:"visitTypeofExpr",value:function visitTypeofExpr(t,r){return this.visitExpression(t,r)}},{key:"visitReadVarExpr",value:function visitReadVarExpr(t,r){return this.visitExpression(t,r)}},{key:"visitWriteVarExpr",value:function visitWriteVarExpr(t,r){return t.value.visitExpression(this,r),this.visitExpression(t,r)}},{key:"visitWriteKeyExpr",value:function visitWriteKeyExpr(t,r){return t.receiver.visitExpression(this,r),t.index.visitExpression(this,r),t.value.visitExpression(this,r),this.visitExpression(t,r)}},{key:"visitWritePropExpr",value:function visitWritePropExpr(t,r){return t.receiver.visitExpression(this,r),t.value.visitExpression(this,r),this.visitExpression(t,r)}},{key:"visitInvokeFunctionExpr",value:function visitInvokeFunctionExpr(t,r){return t.fn.visitExpression(this,r),this.visitAllExpressions(t.args,r),this.visitExpression(t,r)}},{key:"visitTaggedTemplateExpr",value:function visitTaggedTemplateExpr(t,r){return t.tag.visitExpression(this,r),this.visitAllExpressions(t.template.expressions,r),this.visitExpression(t,r)}},{key:"visitInstantiateExpr",value:function visitInstantiateExpr(t,r){return t.classExpr.visitExpression(this,r),this.visitAllExpressions(t.args,r),this.visitExpression(t,r)}},{key:"visitLiteralExpr",value:function visitLiteralExpr(t,r){return this.visitExpression(t,r)}},{key:"visitLocalizedString",value:function visitLocalizedString(t,r){return this.visitExpression(t,r)}},{key:"visitExternalExpr",value:function visitExternalExpr(t,r){var i=this;return t.typeParams&&t.typeParams.forEach((function(t){return t.visitType(i,r)})),this.visitExpression(t,r)}},{key:"visitConditionalExpr",value:function visitConditionalExpr(t,r){return t.condition.visitExpression(this,r),t.trueCase.visitExpression(this,r),t.falseCase.visitExpression(this,r),this.visitExpression(t,r)}},{key:"visitNotExpr",value:function visitNotExpr(t,r){return t.condition.visitExpression(this,r),this.visitExpression(t,r)}},{key:"visitFunctionExpr",value:function visitFunctionExpr(t,r){return this.visitAllStatements(t.statements,r),this.visitExpression(t,r)}},{key:"visitUnaryOperatorExpr",value:function visitUnaryOperatorExpr(t,r){return t.expr.visitExpression(this,r),this.visitExpression(t,r)}},{key:"visitBinaryOperatorExpr",value:function visitBinaryOperatorExpr(t,r){return t.lhs.visitExpression(this,r),t.rhs.visitExpression(this,r),this.visitExpression(t,r)}},{key:"visitReadPropExpr",value:function visitReadPropExpr(t,r){return t.receiver.visitExpression(this,r),this.visitExpression(t,r)}},{key:"visitReadKeyExpr",value:function visitReadKeyExpr(t,r){return t.receiver.visitExpression(this,r),t.index.visitExpression(this,r),this.visitExpression(t,r)}},{key:"visitLiteralArrayExpr",value:function visitLiteralArrayExpr(t,r){return this.visitAllExpressions(t.entries,r),this.visitExpression(t,r)}},{key:"visitLiteralMapExpr",value:function visitLiteralMapExpr(t,r){var i=this;return t.entries.forEach((function(t){return t.value.visitExpression(i,r)})),this.visitExpression(t,r)}},{key:"visitCommaExpr",value:function visitCommaExpr(t,r){return this.visitAllExpressions(t.parts,r),this.visitExpression(t,r)}},{key:"visitAllExpressions",value:function visitAllExpressions(t,r){var i=this;t.forEach((function(t){return t.visitExpression(i,r)}))}},{key:"visitDeclareVarStmt",value:function visitDeclareVarStmt(t,r){return t.value&&t.value.visitExpression(this,r),t.type&&t.type.visitType(this,r),t}},{key:"visitDeclareFunctionStmt",value:function visitDeclareFunctionStmt(t,r){return this.visitAllStatements(t.statements,r),t.type&&t.type.visitType(this,r),t}},{key:"visitExpressionStmt",value:function visitExpressionStmt(t,r){return t.expr.visitExpression(this,r),t}},{key:"visitReturnStmt",value:function visitReturnStmt(t,r){return t.value.visitExpression(this,r),t}},{key:"visitIfStmt",value:function visitIfStmt(t,r){return t.condition.visitExpression(this,r),this.visitAllStatements(t.trueCase,r),this.visitAllStatements(t.falseCase,r),t}},{key:"visitAllStatements",value:function visitAllStatements(t,r){var i=this;t.forEach((function(t){return t.visitStatement(i,r)}))}}]),RecursiveAstVisitor$1}();function leadingComment(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return new mt(t,r,i)}function jsDocComment(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return new gt(t)}function variable(t,r,i){return new Re(t,r,i)}function importExpr(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2?arguments[2]:void 0;return new et(t,null,r,i)}function expressionType(t,r,i){return new Se(t,r,i)}function typeofExpr(t){return new De(t)}function literalArr(t,r,i){return new ct(t,r,i)}function literalMap(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new ht(t.map((function(t){return new pt(t.key,t.value,t.quoted)})),r,null)}function not(t,r){return new rt(t,r)}function fn(t,r,i,a,o){return new at(t,r,i,a,o)}function ifStmt(t,r,i,a,o){return new _t(t,r,i,a,o)}function taggedTemplate(t,r,i,a){return new je(t,r,i,a)}function literal(t,r,i){return new Ue(t,r,i)}function localizedString(t,r,i,a,o){return new $e(t,r,i,a,o)}function isNull(t){return t instanceof Ue&&null===t.value}function tagToString(t){var r="";if(t.tagName&&(r+=" @".concat(t.tagName)),t.text){if(t.text.match(/\/\*|\*\//))throw new Error('JSDoc text cannot contain "/*" and "*/"');r+=" "+t.text.replace(/@/g,"\\@")}return r}var Tt=Object.freeze({__proto__:null,get TypeModifier(){return ve},Type:ye,get BuiltinTypeName(){return ge},BuiltinType:xe,ExpressionType:Se,ArrayType:_e,MapType:we,DYNAMIC_TYPE:Te,INFERRED_TYPE:be,BOOL_TYPE:Ce,INT_TYPE:Ie,NUMBER_TYPE:Pe,STRING_TYPE:Ae,FUNCTION_TYPE:Ne,NONE_TYPE:Me,get UnaryOperator(){return Ee},get BinaryOperator(){return ke},nullSafeIsEquivalent:nullSafeIsEquivalent,areAllEquivalent:areAllEquivalent,Expression:Le,ReadVarExpr:Re,TypeofExpr:De,WrappedNodeExpr:Oe,WriteVarExpr:Fe,WriteKeyExpr:Be,WritePropExpr:Ve,InvokeFunctionExpr:qe,TaggedTemplateExpr:je,InstantiateExpr:He,LiteralExpr:Ue,TemplateLiteral:We,TemplateLiteralElement:ze,LiteralPiece:Ke,PlaceholderPiece:Ze,LocalizedString:$e,ExternalExpr:et,ExternalReference:tt,ConditionalExpr:nt,NotExpr:rt,FnParam:it,FunctionExpr:at,UnaryOperatorExpr:st,BinaryOperatorExpr:ot,ReadPropExpr:lt,ReadKeyExpr:ut,LiteralArrayExpr:ct,LiteralMapEntry:pt,LiteralMapExpr:ht,CommaExpr:ft,NULL_EXPR:dt,TYPED_NULL_EXPR:vt,get StmtModifier(){return Ye},LeadingComment:mt,JSDocComment:gt,Statement:yt,DeclareVarStmt:Et,DeclareFunctionStmt:kt,ExpressionStatement:xt,ReturnStatement:St,IfStmt:_t,RecursiveAstVisitor:wt,leadingComment:leadingComment,jsDocComment:jsDocComment,variable:variable,importExpr:importExpr,importType:function importType(t,r,i){return null!=t?expressionType(importExpr(t,r,null),i):null},expressionType:expressionType,typeofExpr:typeofExpr,literalArr:literalArr,literalMap:literalMap,unary:function unary(t,r,i,a){return new st(t,r,i,a)},not:not,fn:fn,ifStmt:ifStmt,taggedTemplate:taggedTemplate,literal:literal,localizedString:localizedString,isNull:isNull}),bt=variable("<unknown>"),Ct={},It=function(t){(0,m.default)(FixupExpression,t);var r=(0,y.default)(FixupExpression);function FixupExpression(t){var i;return(0,x.default)(this,FixupExpression),(i=r.call(this,t.type)).resolved=t,i.original=t,i}return(0,_.default)(FixupExpression,[{key:"visitExpression",value:function visitExpression(t,r){return r===Ct?this.original.visitExpression(t,r):this.resolved.visitExpression(t,r)}},{key:"isEquivalent",value:function isEquivalent(t){return t instanceof FixupExpression&&this.resolved.isEquivalent(t.resolved)}},{key:"isConstant",value:function isConstant(){return!0}},{key:"fixup",value:function fixup(t){this.resolved=t,this.shared=!0}}]),FixupExpression}(Le),Pt=function(){function ConstantPool(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(0,x.default)(this,ConstantPool),this.isClosureCompilerEnabled=t,this.statements=[],this.literals=new Map,this.literalFactories=new Map,this.nextNameIndex=0}return(0,_.default)(ConstantPool,[{key:"getConstLiteral",value:function getConstLiteral(t,r){if(t instanceof Ue&&!isLongStringLiteral(t)||t instanceof It)return t;var i=this.keyOf(t),a=this.literals.get(i),o=!1;if(a||(a=new It(t),this.literals.set(i,a),o=!0),!o&&!a.shared||o&&r){var l,u,p=this.freshName();this.isClosureCompilerEnabled&&isLongStringLiteral(t)?(l=variable(p).set(new at([],[new St(t)])),u=variable(p).callFn([])):(l=variable(p).set(t),u=variable(p)),this.statements.push(l.toDeclStmt(be,Ye.Final)),a.fixup(u)}return a}},{key:"getLiteralFactory",value:function getLiteralFactory(t){if(t instanceof ct){var r=t.entries.map((function(t){return t.isConstant()?t:bt})),i=this.keyOf(literalArr(r));return this._getLiteralFactory(i,t.entries,(function(t){return literalArr(t)}))}var a=literalMap(t.entries.map((function(t){return{key:t.key,value:t.value.isConstant()?t.value:bt,quoted:t.quoted}}))),o=this.keyOf(a);return this._getLiteralFactory(o,t.entries.map((function(t){return t.value})),(function(r){return literalMap(r.map((function(r,i){return{key:t.entries[i].key,value:r,quoted:t.entries[i].quoted}})))}))}},{key:"_getLiteralFactory",value:function _getLiteralFactory(t,r,i){var a=this,o=this.literalFactories.get(t),l=r.filter((function(t){return!t.isConstant()}));if(!o){var u=r.map((function(t,r){return t.isConstant()?a.getConstLiteral(t,!0):variable("a".concat(r))})),p=fn(u.filter(isVariable).map((function(t){return new it(t.name,Te)})),[new St(i(u))],be),h=this.freshName();this.statements.push(variable(h).set(p).toDeclStmt(be,Ye.Final)),o=variable(h),this.literalFactories.set(t,o)}return{literalFactory:o,literalFactoryArguments:l}}},{key:"uniqueName",value:function uniqueName(t){return"".concat(t).concat(this.nextNameIndex++)}},{key:"freshName",value:function freshName(){return this.uniqueName("_c")}},{key:"keyOf",value:function keyOf(t){return t.visitExpression(new At,Ct)}}]),ConstantPool}(),At=function(){function KeyVisitor(){(0,x.default)(this,KeyVisitor),this.visitWrappedNodeExpr=invalid$1,this.visitWriteVarExpr=invalid$1,this.visitWriteKeyExpr=invalid$1,this.visitWritePropExpr=invalid$1,this.visitInvokeFunctionExpr=invalid$1,this.visitTaggedTemplateExpr=invalid$1,this.visitInstantiateExpr=invalid$1,this.visitConditionalExpr=invalid$1,this.visitNotExpr=invalid$1,this.visitAssertNotNullExpr=invalid$1,this.visitCastExpr=invalid$1,this.visitFunctionExpr=invalid$1,this.visitUnaryOperatorExpr=invalid$1,this.visitBinaryOperatorExpr=invalid$1,this.visitReadPropExpr=invalid$1,this.visitReadKeyExpr=invalid$1,this.visitCommaExpr=invalid$1,this.visitLocalizedString=invalid$1}return(0,_.default)(KeyVisitor,[{key:"visitLiteralExpr",value:function visitLiteralExpr(t){return"".concat("string"==typeof t.value?'"'+t.value+'"':t.value)}},{key:"visitLiteralArrayExpr",value:function visitLiteralArrayExpr(t,r){var i=this;return"[".concat(t.entries.map((function(t){return t.visitExpression(i,r)})).join(","),"]")}},{key:"visitLiteralMapExpr",value:function visitLiteralMapExpr(t,r){var i=this;return"{".concat(t.entries.map((function mapEntry(t){return"".concat(function mapKey(t){var r=t.quoted?'"':"";return"".concat(r).concat(t.key).concat(r)}(t),":").concat(t.value.visitExpression(i,r))})).join(","))}},{key:"visitExternalExpr",value:function visitExternalExpr(t){return t.value.moduleName?"EX:".concat(t.value.moduleName,":").concat(t.value.name):"EX:".concat(t.value.runtime.name)}},{key:"visitReadVarExpr",value:function visitReadVarExpr(t){return"VAR:".concat(t.name)}},{key:"visitTypeofExpr",value:function visitTypeofExpr(t,r){return"TYPEOF:".concat(t.expr.visitExpression(this,r))}}]),KeyVisitor}();function invalid$1(t){throw new Error("Invalid state: Visitor ".concat(this.constructor.name," doesn't handle ").concat(t.constructor.name))}function isVariable(t){return t instanceof Re}function isLongStringLiteral(t){return t instanceof Ue&&"string"==typeof t.value&&t.value.length>=50}var Nt="@angular/core",Mt=(0,_.default)((function Identifiers(){(0,x.default)(this,Identifiers)}));Mt.NEW_METHOD="factory",Mt.TRANSFORM_METHOD="transform",Mt.PATCH_DEPS="patchedDeps",Mt.core={name:null,moduleName:Nt},Mt.namespaceHTML={name:"namespaceHTML",moduleName:Nt},Mt.namespaceMathML={name:"namespaceMathML",moduleName:Nt},Mt.namespaceSVG={name:"namespaceSVG",moduleName:Nt},Mt.element={name:"element",moduleName:Nt},Mt.elementStart={name:"elementStart",moduleName:Nt},Mt.elementEnd={name:"elementEnd",moduleName:Nt},Mt.advance={name:"advance",moduleName:Nt},Mt.syntheticHostProperty={name:"syntheticHostProperty",moduleName:Nt},Mt.syntheticHostListener={name:"syntheticHostListener",moduleName:Nt},Mt.attribute={name:"attribute",moduleName:Nt},Mt.attributeInterpolate1={name:"attributeInterpolate1",moduleName:Nt},Mt.attributeInterpolate2={name:"attributeInterpolate2",moduleName:Nt},Mt.attributeInterpolate3={name:"attributeInterpolate3",moduleName:Nt},Mt.attributeInterpolate4={name:"attributeInterpolate4",moduleName:Nt},Mt.attributeInterpolate5={name:"attributeInterpolate5",moduleName:Nt},Mt.attributeInterpolate6={name:"attributeInterpolate6",moduleName:Nt},Mt.attributeInterpolate7={name:"attributeInterpolate7",moduleName:Nt},Mt.attributeInterpolate8={name:"attributeInterpolate8",moduleName:Nt},Mt.attributeInterpolateV={name:"attributeInterpolateV",moduleName:Nt},Mt.classProp={name:"classProp",moduleName:Nt},Mt.elementContainerStart={name:"elementContainerStart",moduleName:Nt},Mt.elementContainerEnd={name:"elementContainerEnd",moduleName:Nt},Mt.elementContainer={name:"elementContainer",moduleName:Nt},Mt.styleMap={name:"styleMap",moduleName:Nt},Mt.styleMapInterpolate1={name:"styleMapInterpolate1",moduleName:Nt},Mt.styleMapInterpolate2={name:"styleMapInterpolate2",moduleName:Nt},Mt.styleMapInterpolate3={name:"styleMapInterpolate3",moduleName:Nt},Mt.styleMapInterpolate4={name:"styleMapInterpolate4",moduleName:Nt},Mt.styleMapInterpolate5={name:"styleMapInterpolate5",moduleName:Nt},Mt.styleMapInterpolate6={name:"styleMapInterpolate6",moduleName:Nt},Mt.styleMapInterpolate7={name:"styleMapInterpolate7",moduleName:Nt},Mt.styleMapInterpolate8={name:"styleMapInterpolate8",moduleName:Nt},Mt.styleMapInterpolateV={name:"styleMapInterpolateV",moduleName:Nt},Mt.classMap={name:"classMap",moduleName:Nt},Mt.classMapInterpolate1={name:"classMapInterpolate1",moduleName:Nt},Mt.classMapInterpolate2={name:"classMapInterpolate2",moduleName:Nt},Mt.classMapInterpolate3={name:"classMapInterpolate3",moduleName:Nt},Mt.classMapInterpolate4={name:"classMapInterpolate4",moduleName:Nt},Mt.classMapInterpolate5={name:"classMapInterpolate5",moduleName:Nt},Mt.classMapInterpolate6={name:"classMapInterpolate6",moduleName:Nt},Mt.classMapInterpolate7={name:"classMapInterpolate7",moduleName:Nt},Mt.classMapInterpolate8={name:"classMapInterpolate8",moduleName:Nt},Mt.classMapInterpolateV={name:"classMapInterpolateV",moduleName:Nt},Mt.styleProp={name:"styleProp",moduleName:Nt},Mt.stylePropInterpolate1={name:"stylePropInterpolate1",moduleName:Nt},Mt.stylePropInterpolate2={name:"stylePropInterpolate2",moduleName:Nt},Mt.stylePropInterpolate3={name:"stylePropInterpolate3",moduleName:Nt},Mt.stylePropInterpolate4={name:"stylePropInterpolate4",moduleName:Nt},Mt.stylePropInterpolate5={name:"stylePropInterpolate5",moduleName:Nt},Mt.stylePropInterpolate6={name:"stylePropInterpolate6",moduleName:Nt},Mt.stylePropInterpolate7={name:"stylePropInterpolate7",moduleName:Nt},Mt.stylePropInterpolate8={name:"stylePropInterpolate8",moduleName:Nt},Mt.stylePropInterpolateV={name:"stylePropInterpolateV",moduleName:Nt},Mt.nextContext={name:"nextContext",moduleName:Nt},Mt.resetView={name:"resetView",moduleName:Nt},Mt.templateCreate={name:"template",moduleName:Nt},Mt.text={name:"text",moduleName:Nt},Mt.enableBindings={name:"enableBindings",moduleName:Nt},Mt.disableBindings={name:"disableBindings",moduleName:Nt},Mt.getCurrentView={name:"getCurrentView",moduleName:Nt},Mt.textInterpolate={name:"textInterpolate",moduleName:Nt},Mt.textInterpolate1={name:"textInterpolate1",moduleName:Nt},Mt.textInterpolate2={name:"textInterpolate2",moduleName:Nt},Mt.textInterpolate3={name:"textInterpolate3",moduleName:Nt},Mt.textInterpolate4={name:"textInterpolate4",moduleName:Nt},Mt.textInterpolate5={name:"textInterpolate5",moduleName:Nt},Mt.textInterpolate6={name:"textInterpolate6",moduleName:Nt},Mt.textInterpolate7={name:"textInterpolate7",moduleName:Nt},Mt.textInterpolate8={name:"textInterpolate8",moduleName:Nt},Mt.textInterpolateV={name:"textInterpolateV",moduleName:Nt},Mt.restoreView={name:"restoreView",moduleName:Nt},Mt.pureFunction0={name:"pureFunction0",moduleName:Nt},Mt.pureFunction1={name:"pureFunction1",moduleName:Nt},Mt.pureFunction2={name:"pureFunction2",moduleName:Nt},Mt.pureFunction3={name:"pureFunction3",moduleName:Nt},Mt.pureFunction4={name:"pureFunction4",moduleName:Nt},Mt.pureFunction5={name:"pureFunction5",moduleName:Nt},Mt.pureFunction6={name:"pureFunction6",moduleName:Nt},Mt.pureFunction7={name:"pureFunction7",moduleName:Nt},Mt.pureFunction8={name:"pureFunction8",moduleName:Nt},Mt.pureFunctionV={name:"pureFunctionV",moduleName:Nt},Mt.pipeBind1={name:"pipeBind1",moduleName:Nt},Mt.pipeBind2={name:"pipeBind2",moduleName:Nt},Mt.pipeBind3={name:"pipeBind3",moduleName:Nt},Mt.pipeBind4={name:"pipeBind4",moduleName:Nt},Mt.pipeBindV={name:"pipeBindV",moduleName:Nt},Mt.hostProperty={name:"hostProperty",moduleName:Nt},Mt.property={name:"property",moduleName:Nt},Mt.propertyInterpolate={name:"propertyInterpolate",moduleName:Nt},Mt.propertyInterpolate1={name:"propertyInterpolate1",moduleName:Nt},Mt.propertyInterpolate2={name:"propertyInterpolate2",moduleName:Nt},Mt.propertyInterpolate3={name:"propertyInterpolate3",moduleName:Nt},Mt.propertyInterpolate4={name:"propertyInterpolate4",moduleName:Nt},Mt.propertyInterpolate5={name:"propertyInterpolate5",moduleName:Nt},Mt.propertyInterpolate6={name:"propertyInterpolate6",moduleName:Nt},Mt.propertyInterpolate7={name:"propertyInterpolate7",moduleName:Nt},Mt.propertyInterpolate8={name:"propertyInterpolate8",moduleName:Nt},Mt.propertyInterpolateV={name:"propertyInterpolateV",moduleName:Nt},Mt.i18n={name:"i18n",moduleName:Nt},Mt.i18nAttributes={name:"i18nAttributes",moduleName:Nt},Mt.i18nExp={name:"i18nExp",moduleName:Nt},Mt.i18nStart={name:"i18nStart",moduleName:Nt},Mt.i18nEnd={name:"i18nEnd",moduleName:Nt},Mt.i18nApply={name:"i18nApply",moduleName:Nt},Mt.i18nPostprocess={name:"i18nPostprocess",moduleName:Nt},Mt.pipe={name:"pipe",moduleName:Nt},Mt.projection={name:"projection",moduleName:Nt},Mt.projectionDef={name:"projectionDef",moduleName:Nt},Mt.reference={name:"reference",moduleName:Nt},Mt.inject={name:"inject",moduleName:Nt},Mt.injectAttribute={name:"injectAttribute",moduleName:Nt},Mt.directiveInject={name:"directiveInject",moduleName:Nt},Mt.invalidFactory={name:"invalidFactory",moduleName:Nt},Mt.invalidFactoryDep={name:"invalidFactoryDep",moduleName:Nt},Mt.templateRefExtractor={name:"templateRefExtractor",moduleName:Nt},Mt.forwardRef={name:"forwardRef",moduleName:Nt},Mt.resolveForwardRef={name:"resolveForwardRef",moduleName:Nt},Mt.defineInjectable={name:"defineInjectable",moduleName:Nt},Mt.declareInjectable={name:"ngDeclareInjectable",moduleName:Nt},Mt.InjectableDeclaration={name:"InjectableDeclaration",moduleName:Nt},Mt.resolveWindow={name:"resolveWindow",moduleName:Nt},Mt.resolveDocument={name:"resolveDocument",moduleName:Nt},Mt.resolveBody={name:"resolveBody",moduleName:Nt},Mt.defineComponent={name:"defineComponent",moduleName:Nt},Mt.declareComponent={name:"ngDeclareComponent",moduleName:Nt},Mt.setComponentScope={name:"setComponentScope",moduleName:Nt},Mt.ChangeDetectionStrategy={name:"ChangeDetectionStrategy",moduleName:Nt},Mt.ViewEncapsulation={name:"ViewEncapsulation",moduleName:Nt},Mt.ComponentDeclaration={name:"ComponentDeclaration",moduleName:Nt},Mt.FactoryDeclaration={name:"FactoryDeclaration",moduleName:Nt},Mt.declareFactory={name:"ngDeclareFactory",moduleName:Nt},Mt.FactoryTarget={name:"FactoryTarget",moduleName:Nt},Mt.defineDirective={name:"defineDirective",moduleName:Nt},Mt.declareDirective={name:"ngDeclareDirective",moduleName:Nt},Mt.DirectiveDeclaration={name:"DirectiveDeclaration",moduleName:Nt},Mt.InjectorDef={name:"InjectorDef",moduleName:Nt},Mt.InjectorDeclaration={name:"InjectorDeclaration",moduleName:Nt},Mt.defineInjector={name:"defineInjector",moduleName:Nt},Mt.declareInjector={name:"ngDeclareInjector",moduleName:Nt},Mt.NgModuleDeclaration={name:"NgModuleDeclaration",moduleName:Nt},Mt.ModuleWithProviders={name:"ModuleWithProviders",moduleName:Nt},Mt.defineNgModule={name:"defineNgModule",moduleName:Nt},Mt.declareNgModule={name:"ngDeclareNgModule",moduleName:Nt},Mt.setNgModuleScope={name:"setNgModuleScope",moduleName:Nt},Mt.registerNgModuleType={name:"registerNgModuleType",moduleName:Nt},Mt.PipeDeclaration={name:"PipeDeclaration",moduleName:Nt},Mt.definePipe={name:"definePipe",moduleName:Nt},Mt.declarePipe={name:"ngDeclarePipe",moduleName:Nt},Mt.declareClassMetadata={name:"ngDeclareClassMetadata",moduleName:Nt},Mt.setClassMetadata={name:"setClassMetadata",moduleName:Nt},Mt.queryRefresh={name:"queryRefresh",moduleName:Nt},Mt.viewQuery={name:"viewQuery",moduleName:Nt},Mt.loadQuery={name:"loadQuery",moduleName:Nt},Mt.contentQuery={name:"contentQuery",moduleName:Nt},Mt.NgOnChangesFeature={name:"NgOnChangesFeature",moduleName:Nt},Mt.InheritDefinitionFeature={name:"InheritDefinitionFeature",moduleName:Nt},Mt.CopyDefinitionFeature={name:"CopyDefinitionFeature",moduleName:Nt},Mt.StandaloneFeature={name:"StandaloneFeature",moduleName:Nt},Mt.ProvidersFeature={name:"ProvidersFeature",moduleName:Nt},Mt.listener={name:"listener",moduleName:Nt},Mt.getInheritedFactory={name:"getInheritedFactory",moduleName:Nt},Mt.sanitizeHtml={name:"sanitizeHtml",moduleName:Nt},Mt.sanitizeStyle={name:"sanitizeStyle",moduleName:Nt},Mt.sanitizeResourceUrl={name:"sanitizeResourceUrl",moduleName:Nt},Mt.sanitizeScript={name:"sanitizeScript",moduleName:Nt},Mt.sanitizeUrl={name:"sanitizeUrl",moduleName:Nt},Mt.sanitizeUrlOrResourceUrl={name:"sanitizeUrlOrResourceUrl",moduleName:Nt},Mt.trustConstantHtml={name:"trustConstantHtml",moduleName:Nt},Mt.trustConstantResourceUrl={name:"trustConstantResourceUrl",moduleName:Nt};var Lt=function(){function SourceMapGenerator(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;(0,x.default)(this,SourceMapGenerator),this.file=t,this.sourcesContent=new Map,this.lines=[],this.lastCol0=0,this.hasMappings=!1}return(0,_.default)(SourceMapGenerator,[{key:"addSource",value:function addSource(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.sourcesContent.has(t)||this.sourcesContent.set(t,r),this}},{key:"addLine",value:function addLine(){return this.lines.push([]),this.lastCol0=0,this}},{key:"addMapping",value:function addMapping(t,r,i,a){if(!this.currentLine)throw new Error("A line must be added before mappings can be added");if(null!=r&&!this.sourcesContent.has(r))throw new Error('Unknown source file "'.concat(r,'"'));if(null==t)throw new Error("The column in the generated code must be provided");if(t<this.lastCol0)throw new Error("Mapping should be added in output order");if(r&&(null==i||null==a))throw new Error("The source location must be provided when a source url is provided");return this.hasMappings=!0,this.lastCol0=t,this.currentLine.push({col0:t,sourceUrl:r,sourceLine0:i,sourceCol0:a}),this}},{key:"currentLine",get:function get(){return this.lines.slice(-1)[0]}},{key:"toJSON",value:function toJSON(){var t=this;if(!this.hasMappings)return null;var r=new Map,i=[],a=[];Array.from(this.sourcesContent.keys()).forEach((function(o,l){r.set(o,l),i.push(o),a.push(t.sourcesContent.get(o)||null)}));var o="",l=0,u=0,p=0,h=0;return this.lines.forEach((function(t){l=0,o+=t.map((function(t){var i=toBase64VLQ(t.col0-l);return l=t.col0,null!=t.sourceUrl&&(i+=toBase64VLQ(r.get(t.sourceUrl)-u),u=r.get(t.sourceUrl),i+=toBase64VLQ(t.sourceLine0-p),p=t.sourceLine0,i+=toBase64VLQ(t.sourceCol0-h),h=t.sourceCol0),i})).join(","),o+=";"})),o=o.slice(0,-1),{file:this.file||"",version:3,sourceRoot:"",sources:i,sourcesContent:a,mappings:o}}},{key:"toJsComment",value:function toJsComment(){return this.hasMappings?"//# sourceMappingURL=data:application/json;base64,"+function toBase64String(t){for(var r="",i=utf8Encode(t),a=0;a<i.length;){var o=i[a++],l=a<i.length?i[a++]:null,u=a<i.length?i[a++]:null;r+=toBase64Digit(o>>2),r+=toBase64Digit((3&o)<<4|(null===l?0:l>>4)),r+=null===l?"=":toBase64Digit((15&l)<<2|(null===u?0:u>>6)),r+=null===l||null===u?"=":toBase64Digit(63&u)}return r}(JSON.stringify(this,null,0)):""}}]),SourceMapGenerator}();function toBase64VLQ(t){t=t<0?1+(-t<<1):t<<1;var r="";do{var i=31&t;(t>>=5)>0&&(i|=32),r+=toBase64Digit(i)}while(t>0);return r}function toBase64Digit(t){if(t<0||t>=64)throw new Error("Can only encode value in the range [0, 63]");return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[t]}var Rt=/'|\\|\n|\r|\$/g,Dt=/^[$A-Z_][0-9A-Z_$]*$/i,Ot="  ",Ft=(0,_.default)((function _EmittedLine(t){(0,x.default)(this,_EmittedLine),this.indent=t,this.partsLength=0,this.parts=[],this.srcSpans=[]})),Bt=function(){function EmitterVisitorContext(t){(0,x.default)(this,EmitterVisitorContext),this._indent=t,this._lines=[new Ft(t)]}return(0,_.default)(EmitterVisitorContext,[{key:"_currentLine",get:function get(){return this._lines[this._lines.length-1]}},{key:"println",value:function println(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.print(t||null,r,!0)}},{key:"lineIsEmpty",value:function lineIsEmpty(){return 0===this._currentLine.parts.length}},{key:"lineLength",value:function lineLength(){return this._currentLine.indent*Ot.length+this._currentLine.partsLength}},{key:"print",value:function print(t,r){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];r.length>0&&(this._currentLine.parts.push(r),this._currentLine.partsLength+=r.length,this._currentLine.srcSpans.push(t&&t.sourceSpan||null)),i&&this._lines.push(new Ft(this._indent))}},{key:"removeEmptyLastLine",value:function removeEmptyLastLine(){this.lineIsEmpty()&&this._lines.pop()}},{key:"incIndent",value:function incIndent(){this._indent++,this.lineIsEmpty()&&(this._currentLine.indent=this._indent)}},{key:"decIndent",value:function decIndent(){this._indent--,this.lineIsEmpty()&&(this._currentLine.indent=this._indent)}},{key:"toSource",value:function toSource(){return this.sourceLines.map((function(t){return t.parts.length>0?_createIndent(t.indent)+t.parts.join(""):""})).join("\n")}},{key:"toSourceMapGenerator",value:function toSourceMapGenerator(t){for(var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=new Lt(t),a=!1,o=function mapFirstOffsetIfNeeded(){a||(i.addSource(t," ").addMapping(0,t,0,0),a=!0)},l=0;l<r;l++)i.addLine(),o();return this.sourceLines.forEach((function(t,r){i.addLine();for(var l=t.srcSpans,u=t.parts,p=t.indent*Ot.length,h=0;h<l.length&&!l[h];)p+=u[h].length,h++;for(h<l.length&&0===r&&0===p?a=!0:o();h<l.length;){var d=l[h],v=d.start.file,m=d.start.line,y=d.start.col;for(i.addSource(v.url,v.content).addMapping(p,v.url,m,y),p+=u[h].length,h++;h<l.length&&(d===l[h]||!l[h]);)p+=u[h].length,h++}})),i}},{key:"spanOf",value:function spanOf(t,r){var i=this._lines[t];if(i)for(var a=r-_createIndent(i.indent).length,o=0;o<i.parts.length;o++){var l=i.parts[o];if(l.length>a)return i.srcSpans[o];a-=l.length}return null}},{key:"sourceLines",get:function get(){return this._lines.length&&0===this._lines[this._lines.length-1].parts.length?this._lines.slice(0,-1):this._lines}}],[{key:"createRoot",value:function createRoot(){return new EmitterVisitorContext(0)}}]),EmitterVisitorContext}(),Vt=function(){function AbstractEmitterVisitor(t){(0,x.default)(this,AbstractEmitterVisitor),this._escapeDollarInStrings=t}return(0,_.default)(AbstractEmitterVisitor,[{key:"printLeadingComments",value:function printLeadingComments(t,r){if(void 0!==t.leadingComments){var i,a=(0,E.default)(t.leadingComments);try{for(a.s();!(i=a.n()).done;){var o=i.value;o instanceof gt?r.print(t,"/*".concat(o.toString(),"*/"),o.trailingNewline):o.multiline?r.print(t,"/* ".concat(o.text," */"),o.trailingNewline):o.text.split("\n").forEach((function(i){r.println(t,"// ".concat(i))}))}}catch(t){a.e(t)}finally{a.f()}}}},{key:"visitExpressionStmt",value:function visitExpressionStmt(t,r){return this.printLeadingComments(t,r),t.expr.visitExpression(this,r),r.println(t,";"),null}},{key:"visitReturnStmt",value:function visitReturnStmt(t,r){return this.printLeadingComments(t,r),r.print(t,"return "),t.value.visitExpression(this,r),r.println(t,";"),null}},{key:"visitIfStmt",value:function visitIfStmt(t,r){this.printLeadingComments(t,r),r.print(t,"if ("),t.condition.visitExpression(this,r),r.print(t,") {");var i=null!=t.falseCase&&t.falseCase.length>0;return t.trueCase.length<=1&&!i?(r.print(t," "),this.visitAllStatements(t.trueCase,r),r.removeEmptyLastLine(),r.print(t," ")):(r.println(),r.incIndent(),this.visitAllStatements(t.trueCase,r),r.decIndent(),i&&(r.println(t,"} else {"),r.incIndent(),this.visitAllStatements(t.falseCase,r),r.decIndent())),r.println(t,"}"),null}},{key:"visitWriteVarExpr",value:function visitWriteVarExpr(t,r){var i=r.lineIsEmpty();return i||r.print(t,"("),r.print(t,"".concat(t.name," = ")),t.value.visitExpression(this,r),i||r.print(t,")"),null}},{key:"visitWriteKeyExpr",value:function visitWriteKeyExpr(t,r){var i=r.lineIsEmpty();return i||r.print(t,"("),t.receiver.visitExpression(this,r),r.print(t,"["),t.index.visitExpression(this,r),r.print(t,"] = "),t.value.visitExpression(this,r),i||r.print(t,")"),null}},{key:"visitWritePropExpr",value:function visitWritePropExpr(t,r){var i=r.lineIsEmpty();return i||r.print(t,"("),t.receiver.visitExpression(this,r),r.print(t,".".concat(t.name," = ")),t.value.visitExpression(this,r),i||r.print(t,")"),null}},{key:"visitInvokeFunctionExpr",value:function visitInvokeFunctionExpr(t,r){return t.fn.visitExpression(this,r),r.print(t,"("),this.visitAllExpressions(t.args,r,","),r.print(t,")"),null}},{key:"visitTaggedTemplateExpr",value:function visitTaggedTemplateExpr(t,r){t.tag.visitExpression(this,r),r.print(t,"`"+t.template.elements[0].rawText);for(var i=1;i<t.template.elements.length;i++)r.print(t,"${"),t.template.expressions[i-1].visitExpression(this,r),r.print(t,"}".concat(t.template.elements[i].rawText));return r.print(t,"`"),null}},{key:"visitWrappedNodeExpr",value:function visitWrappedNodeExpr(t,r){throw new Error("Abstract emitter cannot visit WrappedNodeExpr.")}},{key:"visitTypeofExpr",value:function visitTypeofExpr(t,r){r.print(t,"typeof "),t.expr.visitExpression(this,r)}},{key:"visitReadVarExpr",value:function visitReadVarExpr(t,r){return r.print(t,t.name),null}},{key:"visitInstantiateExpr",value:function visitInstantiateExpr(t,r){return r.print(t,"new "),t.classExpr.visitExpression(this,r),r.print(t,"("),this.visitAllExpressions(t.args,r,","),r.print(t,")"),null}},{key:"visitLiteralExpr",value:function visitLiteralExpr(t,r){var i=t.value;return"string"==typeof i?r.print(t,escapeIdentifier(i,this._escapeDollarInStrings)):r.print(t,"".concat(i)),null}},{key:"visitLocalizedString",value:function visitLocalizedString(t,r){var i=t.serializeI18nHead();r.print(t,"$localize `"+i.raw);for(var a=1;a<t.messageParts.length;a++)r.print(t,"${"),t.expressions[a-1].visitExpression(this,r),r.print(t,"}".concat(t.serializeI18nTemplatePart(a).raw));return r.print(t,"`"),null}},{key:"visitConditionalExpr",value:function visitConditionalExpr(t,r){return r.print(t,"("),t.condition.visitExpression(this,r),r.print(t,"? "),t.trueCase.visitExpression(this,r),r.print(t,": "),t.falseCase.visitExpression(this,r),r.print(t,")"),null}},{key:"visitNotExpr",value:function visitNotExpr(t,r){return r.print(t,"!"),t.condition.visitExpression(this,r),null}},{key:"visitUnaryOperatorExpr",value:function visitUnaryOperatorExpr(t,r){var i;switch(t.operator){case Ee.Plus:i="+";break;case Ee.Minus:i="-";break;default:throw new Error("Unknown operator ".concat(t.operator))}return t.parens&&r.print(t,"("),r.print(t,i),t.expr.visitExpression(this,r),t.parens&&r.print(t,")"),null}},{key:"visitBinaryOperatorExpr",value:function visitBinaryOperatorExpr(t,r){var i;switch(t.operator){case ke.Equals:i="==";break;case ke.Identical:i="===";break;case ke.NotEquals:i="!=";break;case ke.NotIdentical:i="!==";break;case ke.And:i="&&";break;case ke.BitwiseAnd:i="&";break;case ke.Or:i="||";break;case ke.Plus:i="+";break;case ke.Minus:i="-";break;case ke.Divide:i="/";break;case ke.Multiply:i="*";break;case ke.Modulo:i="%";break;case ke.Lower:i="<";break;case ke.LowerEquals:i="<=";break;case ke.Bigger:i=">";break;case ke.BiggerEquals:i=">=";break;case ke.NullishCoalesce:i="??";break;default:throw new Error("Unknown operator ".concat(t.operator))}return t.parens&&r.print(t,"("),t.lhs.visitExpression(this,r),r.print(t," ".concat(i," ")),t.rhs.visitExpression(this,r),t.parens&&r.print(t,")"),null}},{key:"visitReadPropExpr",value:function visitReadPropExpr(t,r){return t.receiver.visitExpression(this,r),r.print(t,"."),r.print(t,t.name),null}},{key:"visitReadKeyExpr",value:function visitReadKeyExpr(t,r){return t.receiver.visitExpression(this,r),r.print(t,"["),t.index.visitExpression(this,r),r.print(t,"]"),null}},{key:"visitLiteralArrayExpr",value:function visitLiteralArrayExpr(t,r){return r.print(t,"["),this.visitAllExpressions(t.entries,r,","),r.print(t,"]"),null}},{key:"visitLiteralMapExpr",value:function visitLiteralMapExpr(t,r){var i=this;return r.print(t,"{"),this.visitAllObjects((function(a){r.print(t,"".concat(escapeIdentifier(a.key,i._escapeDollarInStrings,a.quoted),":")),a.value.visitExpression(i,r)}),t.entries,r,","),r.print(t,"}"),null}},{key:"visitCommaExpr",value:function visitCommaExpr(t,r){return r.print(t,"("),this.visitAllExpressions(t.parts,r,","),r.print(t,")"),null}},{key:"visitAllExpressions",value:function visitAllExpressions(t,r,i){var a=this;this.visitAllObjects((function(t){return t.visitExpression(a,r)}),t,r,i)}},{key:"visitAllObjects",value:function visitAllObjects(t,r,i,a){for(var o=!1,l=0;l<r.length;l++)l>0&&(i.lineLength()>80?(i.print(null,a,!0),o||(i.incIndent(),i.incIndent(),o=!0)):i.print(null,a,!1)),t(r[l]);o&&(i.decIndent(),i.decIndent())}},{key:"visitAllStatements",value:function visitAllStatements(t,r){var i=this;t.forEach((function(t){return t.visitStatement(i,r)}))}}]),AbstractEmitterVisitor}();function escapeIdentifier(t,r){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(null==t)return null;var a=t.replace(Rt,(function(){return"$"==(arguments.length<=0?void 0:arguments[0])?r?"\\$":"$":"\n"==(arguments.length<=0?void 0:arguments[0])?"\\n":"\r"==(arguments.length<=0?void 0:arguments[0])?"\\r":"\\".concat(arguments.length<=0?void 0:arguments[0])})),o=i||!Dt.test(a);return o?"'".concat(a,"'"):a}function _createIndent(t){for(var r="",i=0;i<t;i++)r+=Ot;return r}function typeWithParameters(t,r){if(0===r)return expressionType(t);for(var i=[],a=0;a<r;a++)i.push(Te);return expressionType(t,void 0,i)}var qt,jt;function prepareSyntheticPropertyName(t){return"".concat("@").concat(t)}function prepareSyntheticListenerName(t,r){return"".concat("@").concat(t,".").concat(r)}function getSafePropertyAccessString(t,r){var i=escapeIdentifier(r,!1,!1);return i!==r?"".concat(t,"[").concat(i,"]"):"".concat(t,".").concat(r)}function prepareSyntheticListenerFunctionName(t,r){return"animation_".concat(t,"_").concat(r)}function devOnlyGuardedExpression(t){return guardedExpression("ngDevMode",t)}function guardedExpression(t,r){var i=new et({name:t,moduleName:null}),a=new ot(ke.Identical,new De(i),literal("undefined")),o=new ot(ke.Or,a,i,void 0,void 0,!0);return new ot(ke.And,o,r)}function wrapReference(t){var r=new Oe(t);return{value:r,type:r}}function refsToArray(t,r){var i=literalArr(t.map((function(t){return t.value})));return r?fn([],[new St(i)]):i}function createMayBeForwardRefExpression(t,r){return{expression:t,forwardRef:r}}function convertFromMaybeForwardRefExpression(t){var r=t.expression;switch(t.forwardRef){case 0:case 1:return r;case 2:return generateForwardRef(r)}}function generateForwardRef(t){return importExpr(Mt.forwardRef).callFn([fn([],[new St(t)])])}function compileFactoryFunction(t){var r=variable("t"),i=null,a=isDelegatedFactoryMetadata(t)?r:new ot(ke.Or,r,t.internalType),o=null;null!==t.deps?"invalid"!==t.deps&&(o=new He(a,injectDependencies(t.deps,t.target))):(i=variable("".concat(t.name,"_BaseFactory")),o=i.callFn([a]));var l=[],u=null;function makeConditionalFactory(t){var i=variable("r");l.push(i.set(dt).toDeclStmt());var a=null!==o?i.set(o).toStmt():importExpr(Mt.invalidFactory).callFn([]).toStmt();return l.push(ifStmt(r,[a],[i.set(t).toStmt()])),i}if(isDelegatedFactoryMetadata(t)){var p=injectDependencies(t.delegateDeps,t.target);u=makeConditionalFactory(new(t.delegateType===qt.Class?He:qe)(t.delegate,p))}else u=function isExpressionFactoryMetadata(t){return void 0!==t.expression}(t)?makeConditionalFactory(t.expression):o;if(null===u)l.push(importExpr(Mt.invalidFactory).callFn([]).toStmt());else if(null!==i){var h=importExpr(Mt.getInheritedFactory).callFn([t.internalType]),d=new ot(ke.Or,i,i.set(h));l.push(new St(d.callFn([a])))}else l.push(new St(u));var v=fn([new it("t",Te)],l,be,void 0,"".concat(t.name,"_Factory"));return null!==i&&(v=fn([],[new Et(i.name),new St(v)]).callFn([],void 0,!0)),{expression:v,statements:[],type:createFactoryType(t)}}function createFactoryType(t){var r=null!==t.deps&&"invalid"!==t.deps?function createCtorDepsType(t){var r=!1,i=t.map((function(t){var i=function createCtorDepType(t){var r=[];null!==t.attributeNameType&&r.push({key:"attribute",value:t.attributeNameType,quoted:!1});t.optional&&r.push({key:"optional",value:literal(!0),quoted:!1});t.host&&r.push({key:"host",value:literal(!0),quoted:!1});t.self&&r.push({key:"self",value:literal(!0),quoted:!1});t.skipSelf&&r.push({key:"skipSelf",value:literal(!0),quoted:!1});return r.length>0?literalMap(r):null}(t);return null!==i?(r=!0,i):literal(null)}));return r?expressionType(literalArr(i)):Me}(t.deps):Me;return expressionType(importExpr(Mt.FactoryDeclaration,[typeWithParameters(t.type.type,t.typeArgumentCount),r]))}function injectDependencies(t,r){return t.map((function(t,i){return function compileInjectDependency(t,r,i){if(null===t.token)return importExpr(Mt.invalidFactoryDep).callFn([literal(i)]);if(null===t.attributeNameType){var a=0|(t.self?2:0)|(t.skipSelf?4:0)|(t.host?1:0)|(t.optional?8:0)|(r===jt.Pipe?16:0),o=0!==a||t.optional?literal(a):null,l=[t.token];o&&l.push(o);var u=function getInjectFn(t){switch(t){case jt.Component:case jt.Directive:case jt.Pipe:return Mt.directiveInject;case jt.NgModule:case jt.Injectable:default:return Mt.inject}}(r);return importExpr(u).callFn(l)}return importExpr(Mt.injectAttribute).callFn([t.token])}(t,r,i)}))}function isDelegatedFactoryMetadata(t){return void 0!==t.delegateType}!function(t){t[t.Class=0]="Class",t[t.Function=1]="Function"}(qt||(qt={})),function(t){t[t.Directive=0]="Directive",t[t.Component=1]="Component",t[t.Injectable=2]="Injectable",t[t.Pipe=3]="Pipe",t[t.NgModule=4]="NgModule"}(jt||(jt={}));var Ht=function(){function Comment$1(t,r){(0,x.default)(this,Comment$1),this.value=t,this.sourceSpan=r}return(0,_.default)(Comment$1,[{key:"visit",value:function visit(t){throw new Error("visit() not implemented for Comment")}}]),Comment$1}(),Ut=function(){function Text$3(t,r){(0,x.default)(this,Text$3),this.value=t,this.sourceSpan=r}return(0,_.default)(Text$3,[{key:"visit",value:function visit(t){return t.visitText(this)}}]),Text$3}(),Wt=function(){function BoundText(t,r,i){(0,x.default)(this,BoundText),this.value=t,this.sourceSpan=r,this.i18n=i}return(0,_.default)(BoundText,[{key:"visit",value:function visit(t){return t.visitBoundText(this)}}]),BoundText}(),zt=function(){function TextAttribute(t,r,i,a,o,l){(0,x.default)(this,TextAttribute),this.name=t,this.value=r,this.sourceSpan=i,this.keySpan=a,this.valueSpan=o,this.i18n=l}return(0,_.default)(TextAttribute,[{key:"visit",value:function visit(t){return t.visitTextAttribute(this)}}]),TextAttribute}(),Kt=function(){function BoundAttribute(t,r,i,a,o,l,u,p,h){(0,x.default)(this,BoundAttribute),this.name=t,this.type=r,this.securityContext=i,this.value=a,this.unit=o,this.sourceSpan=l,this.keySpan=u,this.valueSpan=p,this.i18n=h}return(0,_.default)(BoundAttribute,[{key:"visit",value:function visit(t){return t.visitBoundAttribute(this)}}],[{key:"fromBoundElementProperty",value:function fromBoundElementProperty(t,r){if(void 0===t.keySpan)throw new Error("Unexpected state: keySpan must be defined for bound attributes but was not for ".concat(t.name,": ").concat(t.sourceSpan));return new BoundAttribute(t.name,t.type,t.securityContext,t.value,t.unit,t.sourceSpan,t.keySpan,t.valueSpan,r)}}]),BoundAttribute}(),Zt=function(){function BoundEvent(t,r,i,a,o,l,u,p){(0,x.default)(this,BoundEvent),this.name=t,this.type=r,this.handler=i,this.target=a,this.phase=o,this.sourceSpan=l,this.handlerSpan=u,this.keySpan=p}return(0,_.default)(BoundEvent,[{key:"visit",value:function visit(t){return t.visitBoundEvent(this)}}],[{key:"fromParsedEvent",value:function fromParsedEvent(t){var r=0===t.type?t.targetOrPhase:null,i=1===t.type?t.targetOrPhase:null;if(void 0===t.keySpan)throw new Error("Unexpected state: keySpan must be defined for bound event but was not for ".concat(t.name,": ").concat(t.sourceSpan));return new BoundEvent(t.name,t.type,t.handler,r,i,t.sourceSpan,t.handlerSpan,t.keySpan)}}]),BoundEvent}(),$t=function(){function Element$1(t,r,i,a,o,l,u,p,h,d){(0,x.default)(this,Element$1),this.name=t,this.attributes=r,this.inputs=i,this.outputs=a,this.children=o,this.references=l,this.sourceSpan=u,this.startSourceSpan=p,this.endSourceSpan=h,this.i18n=d}return(0,_.default)(Element$1,[{key:"visit",value:function visit(t){return t.visitElement(this)}}]),Element$1}(),Gt=function(){function Template(t,r,i,a,o,l,u,p,h,d,v,m){(0,x.default)(this,Template),this.tagName=t,this.attributes=r,this.inputs=i,this.outputs=a,this.templateAttrs=o,this.children=l,this.references=u,this.variables=p,this.sourceSpan=h,this.startSourceSpan=d,this.endSourceSpan=v,this.i18n=m}return(0,_.default)(Template,[{key:"visit",value:function visit(t){return t.visitTemplate(this)}}]),Template}(),Xt=function(){function Content(t,r,i,a){(0,x.default)(this,Content),this.selector=t,this.attributes=r,this.sourceSpan=i,this.i18n=a,this.name="ng-content"}return(0,_.default)(Content,[{key:"visit",value:function visit(t){return t.visitContent(this)}}]),Content}(),Jt=function(){function Variable(t,r,i,a,o){(0,x.default)(this,Variable),this.name=t,this.value=r,this.sourceSpan=i,this.keySpan=a,this.valueSpan=o}return(0,_.default)(Variable,[{key:"visit",value:function visit(t){return t.visitVariable(this)}}]),Variable}(),Qt=function(){function Reference(t,r,i,a,o){(0,x.default)(this,Reference),this.name=t,this.value=r,this.sourceSpan=i,this.keySpan=a,this.valueSpan=o}return(0,_.default)(Reference,[{key:"visit",value:function visit(t){return t.visitReference(this)}}]),Reference}(),Yt=function(){function Icu$1(t,r,i,a){(0,x.default)(this,Icu$1),this.vars=t,this.placeholders=r,this.sourceSpan=i,this.i18n=a}return(0,_.default)(Icu$1,[{key:"visit",value:function visit(t){return t.visitIcu(this)}}]),Icu$1}(),en=function(){function RecursiveVisitor$1(){(0,x.default)(this,RecursiveVisitor$1)}return(0,_.default)(RecursiveVisitor$1,[{key:"visitElement",value:function visitElement(t){visitAll$1(this,t.attributes),visitAll$1(this,t.inputs),visitAll$1(this,t.outputs),visitAll$1(this,t.children),visitAll$1(this,t.references)}},{key:"visitTemplate",value:function visitTemplate(t){visitAll$1(this,t.attributes),visitAll$1(this,t.inputs),visitAll$1(this,t.outputs),visitAll$1(this,t.children),visitAll$1(this,t.references),visitAll$1(this,t.variables)}},{key:"visitContent",value:function visitContent(t){}},{key:"visitVariable",value:function visitVariable(t){}},{key:"visitReference",value:function visitReference(t){}},{key:"visitTextAttribute",value:function visitTextAttribute(t){}},{key:"visitBoundAttribute",value:function visitBoundAttribute(t){}},{key:"visitBoundEvent",value:function visitBoundEvent(t){}},{key:"visitText",value:function visitText(t){}},{key:"visitBoundText",value:function visitBoundText(t){}},{key:"visitIcu",value:function visitIcu(t){}}]),RecursiveVisitor$1}();function visitAll$1(t,r){var i=[];if(t.visit){var a,o=(0,E.default)(r);try{for(o.s();!(a=o.n()).done;){var l=a.value;t.visit(l)||l.visit(t)}}catch(t){o.e(t)}finally{o.f()}}else{var u,p=(0,E.default)(r);try{for(p.s();!(u=p.n()).done;){var h=u.value.visit(t);h&&i.push(h)}}catch(t){p.e(t)}finally{p.f()}}return i}var tn=(0,_.default)((function Message(t,r,i,a,o,l){(0,x.default)(this,Message),this.nodes=t,this.placeholders=r,this.placeholderToMessage=i,this.meaning=a,this.description=o,this.customId=l,this.id=this.customId,this.legacyIds=[],this.messageString=function serializeMessage(t){var r=new pn;return t.map((function(t){return t.visit(r)})).join("")}(this.nodes),t.length?this.sources=[{filePath:t[0].sourceSpan.start.file.url,startLine:t[0].sourceSpan.start.line+1,startCol:t[0].sourceSpan.start.col+1,endLine:t[t.length-1].sourceSpan.end.line+1,endCol:t[0].sourceSpan.start.col+1}]:this.sources=[]})),nn=function(){function Text$2(t,r){(0,x.default)(this,Text$2),this.value=t,this.sourceSpan=r}return(0,_.default)(Text$2,[{key:"visit",value:function visit(t,r){return t.visitText(this,r)}}]),Text$2}(),rn=function(){function Container(t,r){(0,x.default)(this,Container),this.children=t,this.sourceSpan=r}return(0,_.default)(Container,[{key:"visit",value:function visit(t,r){return t.visitContainer(this,r)}}]),Container}(),an=function(){function Icu(t,r,i,a){(0,x.default)(this,Icu),this.expression=t,this.type=r,this.cases=i,this.sourceSpan=a}return(0,_.default)(Icu,[{key:"visit",value:function visit(t,r){return t.visitIcu(this,r)}}]),Icu}(),sn=function(){function TagPlaceholder(t,r,i,a,o,l,u,p,h){(0,x.default)(this,TagPlaceholder),this.tag=t,this.attrs=r,this.startName=i,this.closeName=a,this.children=o,this.isVoid=l,this.sourceSpan=u,this.startSourceSpan=p,this.endSourceSpan=h}return(0,_.default)(TagPlaceholder,[{key:"visit",value:function visit(t,r){return t.visitTagPlaceholder(this,r)}}]),TagPlaceholder}(),on=function(){function Placeholder(t,r,i){(0,x.default)(this,Placeholder),this.value=t,this.name=r,this.sourceSpan=i}return(0,_.default)(Placeholder,[{key:"visit",value:function visit(t,r){return t.visitPlaceholder(this,r)}}]),Placeholder}(),ln=function(){function IcuPlaceholder(t,r,i){(0,x.default)(this,IcuPlaceholder),this.value=t,this.name=r,this.sourceSpan=i}return(0,_.default)(IcuPlaceholder,[{key:"visit",value:function visit(t,r){return t.visitIcuPlaceholder(this,r)}}]),IcuPlaceholder}(),un=function(){function CloneVisitor(){(0,x.default)(this,CloneVisitor)}return(0,_.default)(CloneVisitor,[{key:"visitText",value:function visitText(t,r){return new nn(t.value,t.sourceSpan)}},{key:"visitContainer",value:function visitContainer(t,r){var i=this,a=t.children.map((function(t){return t.visit(i,r)}));return new rn(a,t.sourceSpan)}},{key:"visitIcu",value:function visitIcu(t,r){var i=this,a={};Object.keys(t.cases).forEach((function(o){return a[o]=t.cases[o].visit(i,r)}));var o=new an(t.expression,t.type,a,t.sourceSpan);return o.expressionPlaceholder=t.expressionPlaceholder,o}},{key:"visitTagPlaceholder",value:function visitTagPlaceholder(t,r){var i=this,a=t.children.map((function(t){return t.visit(i,r)}));return new sn(t.tag,t.attrs,t.startName,t.closeName,a,t.isVoid,t.sourceSpan,t.startSourceSpan,t.endSourceSpan)}},{key:"visitPlaceholder",value:function visitPlaceholder(t,r){return new on(t.value,t.name,t.sourceSpan)}},{key:"visitIcuPlaceholder",value:function visitIcuPlaceholder(t,r){return new ln(t.value,t.name,t.sourceSpan)}}]),CloneVisitor}(),cn=function(){function RecurseVisitor(){(0,x.default)(this,RecurseVisitor)}return(0,_.default)(RecurseVisitor,[{key:"visitText",value:function visitText(t,r){}},{key:"visitContainer",value:function visitContainer(t,r){var i=this;t.children.forEach((function(t){return t.visit(i)}))}},{key:"visitIcu",value:function visitIcu(t,r){var i=this;Object.keys(t.cases).forEach((function(r){t.cases[r].visit(i)}))}},{key:"visitTagPlaceholder",value:function visitTagPlaceholder(t,r){var i=this;t.children.forEach((function(t){return t.visit(i)}))}},{key:"visitPlaceholder",value:function visitPlaceholder(t,r){}},{key:"visitIcuPlaceholder",value:function visitIcuPlaceholder(t,r){}}]),RecurseVisitor}();var pn=function(){function LocalizeMessageStringVisitor(){(0,x.default)(this,LocalizeMessageStringVisitor)}return(0,_.default)(LocalizeMessageStringVisitor,[{key:"visitText",value:function visitText(t){return t.value}},{key:"visitContainer",value:function visitContainer(t){var r=this;return t.children.map((function(t){return t.visit(r)})).join("")}},{key:"visitIcu",value:function visitIcu(t){var r=this,i=Object.keys(t.cases).map((function(i){return"".concat(i," {").concat(t.cases[i].visit(r),"}")}));return"{".concat(t.expressionPlaceholder,", ").concat(t.type,", ").concat(i.join(" "),"}")}},{key:"visitTagPlaceholder",value:function visitTagPlaceholder(t){var r=this,i=t.children.map((function(t){return t.visit(r)})).join("");return"{$".concat(t.startName,"}").concat(i,"{$").concat(t.closeName,"}")}},{key:"visitPlaceholder",value:function visitPlaceholder(t){return"{$".concat(t.name,"}")}},{key:"visitIcuPlaceholder",value:function visitIcuPlaceholder(t){return"{$".concat(t.name,"}")}}]),LocalizeMessageStringVisitor}(),hn=function(){function Serializer(){(0,x.default)(this,Serializer)}return(0,_.default)(Serializer,[{key:"createNameMapper",value:function createNameMapper(t){return null}}]),Serializer}(),dn=function(t){(0,m.default)(SimplePlaceholderMapper,t);var r=(0,y.default)(SimplePlaceholderMapper);function SimplePlaceholderMapper(t,i){var a;return(0,x.default)(this,SimplePlaceholderMapper),(a=r.call(this)).mapName=i,a.internalToPublic={},a.publicToNextId={},a.publicToInternal={},t.nodes.forEach((function(t){return t.visit((0,h.default)(a))})),a}return(0,_.default)(SimplePlaceholderMapper,[{key:"toPublicName",value:function toPublicName(t){return this.internalToPublic.hasOwnProperty(t)?this.internalToPublic[t]:null}},{key:"toInternalName",value:function toInternalName(t){return this.publicToInternal.hasOwnProperty(t)?this.publicToInternal[t]:null}},{key:"visitText",value:function visitText(t,r){return null}},{key:"visitTagPlaceholder",value:function visitTagPlaceholder(t,r){this.visitPlaceholderName(t.startName),(0,d.default)((0,v.default)(SimplePlaceholderMapper.prototype),"visitTagPlaceholder",this).call(this,t,r),this.visitPlaceholderName(t.closeName)}},{key:"visitPlaceholder",value:function visitPlaceholder(t,r){this.visitPlaceholderName(t.name)}},{key:"visitIcuPlaceholder",value:function visitIcuPlaceholder(t,r){this.visitPlaceholderName(t.name)}},{key:"visitPlaceholderName",value:function visitPlaceholderName(t){if(t&&!this.internalToPublic.hasOwnProperty(t)){var r=this.mapName(t);if(this.publicToInternal.hasOwnProperty(r)){var i=this.publicToNextId[r];this.publicToNextId[r]=i+1,r="".concat(r,"_").concat(i)}else this.publicToNextId[r]=1;this.internalToPublic[t]=r,this.publicToInternal[r]=t}}}]),SimplePlaceholderMapper}(cn),vn=new(function(){function _Visitor$2(){(0,x.default)(this,_Visitor$2)}return(0,_.default)(_Visitor$2,[{key:"visitTag",value:function visitTag(t){var r=this,i=this._serializeAttributes(t.attrs);if(0==t.children.length)return"<".concat(t.name).concat(i,"/>");var a=t.children.map((function(t){return t.visit(r)}));return"<".concat(t.name).concat(i,">").concat(a.join(""),"</").concat(t.name,">")}},{key:"visitText",value:function visitText(t){return t.value}},{key:"visitDeclaration",value:function visitDeclaration(t){return"<?xml".concat(this._serializeAttributes(t.attrs)," ?>")}},{key:"_serializeAttributes",value:function _serializeAttributes(t){var r=Object.keys(t).map((function(r){return"".concat(r,'="').concat(t[r],'"')})).join(" ");return r.length>0?" "+r:""}},{key:"visitDoctype",value:function visitDoctype(t){return"<!DOCTYPE ".concat(t.rootTag," [\n").concat(t.dtd,"\n]>")}}]),_Visitor$2}());function serialize(t){return t.map((function(t){return t.visit(vn)})).join("")}var mn=function(){function Declaration(t){var r=this;(0,x.default)(this,Declaration),this.attrs={},Object.keys(t).forEach((function(i){r.attrs[i]=escapeXml(t[i])}))}return(0,_.default)(Declaration,[{key:"visit",value:function visit(t){return t.visitDeclaration(this)}}]),Declaration}(),gn=function(){function Doctype(t,r){(0,x.default)(this,Doctype),this.rootTag=t,this.dtd=r}return(0,_.default)(Doctype,[{key:"visit",value:function visit(t){return t.visitDoctype(this)}}]),Doctype}(),yn=function(){function Tag(t){var r=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];(0,x.default)(this,Tag),this.name=t,this.children=a,this.attrs={},Object.keys(i).forEach((function(t){r.attrs[t]=escapeXml(i[t])}))}return(0,_.default)(Tag,[{key:"visit",value:function visit(t){return t.visitTag(this)}}]),Tag}(),En=function(){function Text$1(t){(0,x.default)(this,Text$1),this.value=escapeXml(t)}return(0,_.default)(Text$1,[{key:"visit",value:function visit(t){return t.visitText(this)}}]),Text$1}(),kn=function(t){(0,m.default)(CR,t);var r=(0,y.default)(CR);function CR(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return(0,x.default)(this,CR),r.call(this,"\n".concat(new Array(t+1).join(" ")))}return(0,_.default)(CR)}(En),xn=[[/&/g,"&amp;"],[/"/g,"&quot;"],[/'/g,"&apos;"],[/</g,"&lt;"],[/>/g,"&gt;"]];function escapeXml(t){return xn.reduce((function(t,r){return t.replace(r[0],r[1])}),t)}var Sn="messagebundle",_n="ph",wn="ex",Tn=function(t){(0,m.default)(Xmb,t);var r=(0,y.default)(Xmb);function Xmb(){return(0,x.default)(this,Xmb),r.apply(this,arguments)}return(0,_.default)(Xmb,[{key:"write",value:function write(t,r){var i=new Cn,a=new bn,o=new yn(Sn);return t.forEach((function(t){var r={id:t.id};t.description&&(r.desc=t.description),t.meaning&&(r.meaning=t.meaning);var i=[];t.sources.forEach((function(t){i.push(new yn("source",{},[new En("".concat(t.filePath,":").concat(t.startLine).concat(t.endLine!==t.startLine?","+t.endLine:""))]))})),o.children.push(new kn(2),new yn("msg",r,[].concat(i,(0,k.default)(a.serialize(t.nodes)))))})),o.children.push(new kn),serialize([new mn({version:"1.0",encoding:"UTF-8"}),new kn,new gn(Sn,'<!ELEMENT messagebundle (msg)*>\n<!ATTLIST messagebundle class CDATA #IMPLIED>\n\n<!ELEMENT msg (#PCDATA|ph|source)*>\n<!ATTLIST msg id CDATA #IMPLIED>\n<!ATTLIST msg seq CDATA #IMPLIED>\n<!ATTLIST msg name CDATA #IMPLIED>\n<!ATTLIST msg desc CDATA #IMPLIED>\n<!ATTLIST msg meaning CDATA #IMPLIED>\n<!ATTLIST msg obsolete (obsolete) #IMPLIED>\n<!ATTLIST msg xml:space (default|preserve) "default">\n<!ATTLIST msg is_hidden CDATA #IMPLIED>\n\n<!ELEMENT source (#PCDATA)>\n\n<!ELEMENT ph (#PCDATA|ex)*>\n<!ATTLIST ph name CDATA #REQUIRED>\n\n<!ELEMENT ex (#PCDATA)>'),new kn,i.addDefaultExamples(o),new kn])}},{key:"load",value:function load(t,r){throw new Error("Unsupported")}},{key:"digest",value:function digest(t){return _digest2(t)}},{key:"createNameMapper",value:function createNameMapper(t){return new dn(t,toPublicName)}}]),Xmb}(hn),bn=function(){function _Visitor$1(){(0,x.default)(this,_Visitor$1)}return(0,_.default)(_Visitor$1,[{key:"visitText",value:function visitText(t,r){return[new En(t.value)]}},{key:"visitContainer",value:function visitContainer(t,r){var i=this,a=[];return t.children.forEach((function(t){return a.push.apply(a,(0,k.default)(t.visit(i)))})),a}},{key:"visitIcu",value:function visitIcu(t,r){var i=this,a=[new En("{".concat(t.expressionPlaceholder,", ").concat(t.type,", "))];return Object.keys(t.cases).forEach((function(r){a.push.apply(a,[new En("".concat(r," {"))].concat((0,k.default)(t.cases[r].visit(i)),[new En("} ")]))})),a.push(new En("}")),a}},{key:"visitTagPlaceholder",value:function visitTagPlaceholder(t,r){var i=new En("<".concat(t.tag,">")),a=new yn(wn,{},[i]),o=new yn(_n,{name:t.startName},[a,i]);if(t.isVoid)return[o];var l=new En("</".concat(t.tag,">")),u=new yn(wn,{},[l]),p=new yn(_n,{name:t.closeName},[u,l]);return[o].concat((0,k.default)(this.serialize(t.children)),[p])}},{key:"visitPlaceholder",value:function visitPlaceholder(t,r){var i=new En("{{".concat(t.value,"}}")),a=new yn(wn,{},[i]);return[new yn(_n,{name:t.name},[a,i])]}},{key:"visitIcuPlaceholder",value:function visitIcuPlaceholder(t,r){var i=t.value.expression,a=t.value.type,o=Object.keys(t.value.cases).map((function(t){return t+" {...}"})).join(" "),l=new En("{".concat(i,", ").concat(a,", ").concat(o,"}")),u=new yn(wn,{},[l]);return[new yn(_n,{name:t.name},[u,l])]}},{key:"serialize",value:function serialize(t){var r,i=this;return(r=[]).concat.apply(r,(0,k.default)(t.map((function(t){return t.visit(i)}))))}}]),_Visitor$1}();function _digest2(t){return decimalDigest(t)}var Cn=function(){function ExampleVisitor(){(0,x.default)(this,ExampleVisitor)}return(0,_.default)(ExampleVisitor,[{key:"addDefaultExamples",value:function addDefaultExamples(t){return t.visit(this),t}},{key:"visitTag",value:function visitTag(t){var r=this;if(t.name===_n){if(!t.children||0==t.children.length){var i=new En(t.attrs.name||"...");t.children=[new yn(wn,{},[i])]}}else t.children&&t.children.forEach((function(t){return t.visit(r)}))}},{key:"visitText",value:function visitText(t){}},{key:"visitDeclaration",value:function visitDeclaration(t){}},{key:"visitDoctype",value:function visitDoctype(t){}}]),ExampleVisitor}();function toPublicName(t){return t.toUpperCase().replace(/[^A-Z0-9_]/g,"_")}var In="i18n",Pn="i18n-",An="";function isI18nAttribute(t){return t===In||t.startsWith(Pn)}function isI18nRootNode(t){return t instanceof tn}function isSingleI18nIcu(t){return isI18nRootNode(t)&&1===t.nodes.length&&t.nodes[0]instanceof an}function hasI18nMeta(t){return!!t.i18n}function icuFromI18nMessage(t){return t.nodes[0]}function wrapI18nPlaceholder(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=r>0?":".concat(r):"";return"".concat(An).concat(t).concat(i).concat(An)}function getSeqNumberGenerator(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=t;return function(){return r++}}function placeholdersToParams(t){var r={};return t.forEach((function(t,i){r[i]=literal(t.length>1?"[".concat(t.join("|"),"]"):t[0])})),r}function updatePlaceholderMap(t,r){for(var i=t.get(r)||[],a=arguments.length,o=new Array(a>2?a-2:0),l=2;l<a;l++)o[l-2]=arguments[l];i.push.apply(i,o),t.set(r,i)}function assembleBoundTextPlaceholders(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=r,o=new Map,l=t instanceof tn?t.nodes.find((function(t){return t instanceof rn})):t;return l&&l.children.filter((function(t){return t instanceof on})).forEach((function(t,r){var l=wrapI18nPlaceholder(a+r,i);updatePlaceholderMap(o,t.name,l)})),o}function formatI18nPlaceholderNamesInMap(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,i={};return t&&Object.keys(t).length&&Object.keys(t).forEach((function(a){return i[formatI18nPlaceholderName(a,r)]=t[a]})),i}function formatI18nPlaceholderName(t){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=toPublicName(t);if(!r)return i;var a,o=i.split("_");if(1===o.length)return t.toLowerCase();/^\d+$/.test(o[o.length-1])&&(a=o.pop());var l=o.shift().toLowerCase();return o.length&&(l+=o.map((function(t){return t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()})).join("")),a?"".concat(l,"_").concat(a):l}function getTranslationConstPrefix(t){return"".concat("MSG_").concat(t).toUpperCase()}function declareI18nVariable(t){return new Et(t.name,void 0,be,void 0,t.sourceSpan)}var Nn=/[-.]/,Mn="_t",Ln="ctx",Rn="rf",Dn="restoredCtx",On=new Set([Mt.element,Mt.elementStart,Mt.elementEnd,Mt.elementContainer,Mt.elementContainerStart,Mt.elementContainerEnd,Mt.i18nExp,Mt.listener,Mt.classProp,Mt.syntheticHostListener,Mt.hostProperty,Mt.syntheticHostProperty,Mt.property,Mt.propertyInterpolate1,Mt.propertyInterpolate2,Mt.propertyInterpolate3,Mt.propertyInterpolate4,Mt.propertyInterpolate5,Mt.propertyInterpolate6,Mt.propertyInterpolate7,Mt.propertyInterpolate8,Mt.propertyInterpolateV,Mt.attribute,Mt.attributeInterpolate1,Mt.attributeInterpolate2,Mt.attributeInterpolate3,Mt.attributeInterpolate4,Mt.attributeInterpolate5,Mt.attributeInterpolate6,Mt.attributeInterpolate7,Mt.attributeInterpolate8,Mt.attributeInterpolateV,Mt.styleProp,Mt.stylePropInterpolate1,Mt.stylePropInterpolate2,Mt.stylePropInterpolate3,Mt.stylePropInterpolate4,Mt.stylePropInterpolate5,Mt.stylePropInterpolate6,Mt.stylePropInterpolate7,Mt.stylePropInterpolate8,Mt.stylePropInterpolateV,Mt.textInterpolate,Mt.textInterpolate1,Mt.textInterpolate2,Mt.textInterpolate3,Mt.textInterpolate4,Mt.textInterpolate5,Mt.textInterpolate6,Mt.textInterpolate7,Mt.textInterpolate8,Mt.textInterpolateV]);function invokeInstruction(t,r,i){return importExpr(r,null,t).callFn(i,t)}function temporaryAllocator(t,r){var i=null;return function(){return i||(t.push(new Et(Mn,void 0,Te)),i=variable(r)),i}}function invalid(t){throw new Error("Invalid state: Visitor ".concat(this.constructor.name," doesn't handle ").concat(t.constructor.name))}function asLiteral(t){return Array.isArray(t)?literalArr(t.map(asLiteral)):literal(t,be)}function conditionallyCreateMapObjectLiteral(t,r){return Object.getOwnPropertyNames(t).length>0?function mapToExpression(t,r){return literalMap(Object.getOwnPropertyNames(t).map((function(i){var a,o,l,u,h=t[i];if(Array.isArray(h)){var d=(0,p.default)(h,2);l=i,u=(o=d[0])!==(a=d[1])}else{var v=splitAtColon(i,[i,h]),m=(0,p.default)(v,2);l=a=m[0],u=(o=m[1])!==a&&i.includes(":")}return{key:l,quoted:Nn.test(l),value:r&&u?literalArr([asLiteral(o),asLiteral(a)]):asLiteral(o)}})))}(t,r):null}function trimTrailingNulls(t){for(;isNull(t[t.length-1]);)t.pop();return t}function getQueryPredicate(t,r){if(Array.isArray(t.predicate)){var i=[];return t.predicate.forEach((function(t){var r=t.split(",").map((function(t){return literal(t.trim())}));i.push.apply(i,(0,k.default)(r))})),r.getConstLiteral(literalArr(i),!0)}switch(t.predicate.forwardRef){case 0:case 2:return t.predicate.expression;case 1:return importExpr(Mt.resolveForwardRef).callFn([t.predicate.expression])}}var Fn=function(){function DefinitionMap(){(0,x.default)(this,DefinitionMap),this.values=[]}return(0,_.default)(DefinitionMap,[{key:"set",value:function set(t,r){r&&this.values.push({key:t,value:r,quoted:!1})}},{key:"toLiteralMap",value:function toLiteralMap(){return literalMap(this.values)}}]),DefinitionMap}();function getInterpolationArgsLength(t){var r=t.expressions,i=t.strings;return 1===r.length&&2===i.length&&""===i[0]&&""===i[1]?1:r.length+i.length}function getInstructionStatements(t){var r,i,a=[],o=null,l=null,u=0,p=(0,E.default)(t);try{for(p.s();!(i=p.n()).done;){var h=i.value,d=null!==(r="function"==typeof h.paramsOrFn?h.paramsOrFn():h.paramsOrFn)&&void 0!==r?r:[],v=Array.isArray(d)?d:[d];u<500&&l===h.reference&&On.has(l)?(o=o.callFn(v,o.sourceSpan),u++):(null!==o&&a.push(o.toStmt()),o=invokeInstruction(h.span,h.reference,v),l=h.reference,u=0)}}catch(t){p.e(t)}finally{p.f()}return null!==o&&a.push(o.toStmt()),a}function _compileInjectable(t,r){var i=null,a={name:t.name,type:t.type,internalType:t.internalType,typeArgumentCount:t.typeArgumentCount,deps:[],target:jt.Injectable};if(void 0!==t.useClass){var o=t.useClass.expression.isEquivalent(t.internalType),l=void 0;void 0!==t.deps&&(l=t.deps),i=void 0!==l?compileFactoryFunction(Object.assign(Object.assign({},a),{delegate:t.useClass.expression,delegateDeps:l,delegateType:qt.Class})):o?compileFactoryFunction(a):{statements:[],expression:delegateToFactory(t.type.value,t.useClass.expression,r)}}else i=void 0!==t.useFactory?void 0!==t.deps?compileFactoryFunction(Object.assign(Object.assign({},a),{delegate:t.useFactory,delegateDeps:t.deps||[],delegateType:qt.Function})):{statements:[],expression:fn([],[new St(t.useFactory.callFn([]))])}:void 0!==t.useValue?compileFactoryFunction(Object.assign(Object.assign({},a),{expression:t.useValue.expression})):void 0!==t.useExisting?compileFactoryFunction(Object.assign(Object.assign({},a),{expression:importExpr(Mt.inject).callFn([t.useExisting.expression])})):{statements:[],expression:delegateToFactory(t.type.value,t.internalType,r)};var u=t.internalType,p=new Fn;return p.set("token",u),p.set("factory",i.expression),null!==t.providedIn.expression.value&&p.set("providedIn",convertFromMaybeForwardRefExpression(t.providedIn)),{expression:importExpr(Mt.defineInjectable).callFn([p.toLiteralMap()],void 0,!0),type:createInjectableType(t),statements:i.statements}}function createInjectableType(t){return new Se(importExpr(Mt.InjectableDeclaration,[typeWithParameters(t.type.type,t.typeArgumentCount)]))}function delegateToFactory(t,r,i){return t.node===r.node?r.prop("fac"):createFactoryFunction(i?importExpr(Mt.resolveForwardRef).callFn([r]):r)}function createFactoryFunction(t){return fn([new it("t",Te)],[new St(t.prop("fac").callFn([variable("t")]))])}var Bn=[/^\s*$/,/[<>]/,/^[{}]$/,/&(#|[a-z])/i,/^\/\//];var Vn=function(){function InterpolationConfig(t,r){(0,x.default)(this,InterpolationConfig),this.start=t,this.end=r}return(0,_.default)(InterpolationConfig,null,[{key:"fromArray",value:function fromArray(t){return t?(function assertInterpolationSymbols(t,r){if(!(null==r||Array.isArray(r)&&2==r.length))throw new Error("Expected '".concat(t,"' to be an array, [start, end]."));if(null!=r){var i=r[0],a=r[1];Bn.forEach((function(t){if(t.test(i)||t.test(a))throw new Error("['".concat(i,"', '").concat(a,"'] contains unusable interpolation symbol."))}))}}("interpolation",t),new InterpolationConfig(t[0],t[1])):qn}}]),InterpolationConfig}(),qn=new Vn("{{","}}"),jn=10,Hn=44,Un=46,Wn=47,zn=58,Kn=59,Zn=60,$n=61,Gn=62,Xn=65,Jn=97,Qn=122,Yn=123,er=125;function isWhitespace(t){return t>=9&&t<=32||160==t}function isDigit(t){return 48<=t&&t<=57}function isAsciiLetter(t){return t>=Jn&&t<=Qn||t>=Xn&&t<=90}function isNewLine(t){return t===jn||13===t}function isOctalDigit(t){return 48<=t&&t<=55}function isQuote(t){return 39===t||34===t||96===t}var tr,nr=function(){function ParseLocation(t,r,i,a){(0,x.default)(this,ParseLocation),this.file=t,this.offset=r,this.line=i,this.col=a}return(0,_.default)(ParseLocation,[{key:"toString",value:function toString(){return null!=this.offset?"".concat(this.file.url,"@").concat(this.line,":").concat(this.col):this.file.url}},{key:"moveBy",value:function moveBy(t){for(var r=this.file.content,i=r.length,a=this.offset,o=this.line,l=this.col;a>0&&t<0;){if(a--,t++,r.charCodeAt(a)==jn){o--;var u=r.substring(0,a-1).lastIndexOf(String.fromCharCode(jn));l=u>0?a-u:a}else l--}for(;a<i&&t>0;){var p=r.charCodeAt(a);a++,t--,p==jn?(o++,l=0):l++}return new ParseLocation(this.file,a,o,l)}},{key:"getContext",value:function getContext(t,r){var i=this.file.content,a=this.offset;if(null!=a){a>i.length-1&&(a=i.length-1);for(var o=a,l=0,u=0;l<t&&a>0&&(l++,"\n"!=i[--a]||++u!=r););for(l=0,u=0;l<t&&o<i.length-1&&(l++,"\n"!=i[++o]||++u!=r););return{before:i.substring(a,this.offset),after:i.substring(this.offset,o+1)}}return null}}]),ParseLocation}(),rr=(0,_.default)((function ParseSourceFile(t,r){(0,x.default)(this,ParseSourceFile),this.content=t,this.url=r})),ir=function(){function ParseSourceSpan(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;(0,x.default)(this,ParseSourceSpan),this.start=t,this.end=r,this.fullStart=i,this.details=a}return(0,_.default)(ParseSourceSpan,[{key:"toString",value:function toString(){return this.start.file.content.substring(this.start.offset,this.end.offset)}}]),ParseSourceSpan}();!function(t){t[t.WARNING=0]="WARNING",t[t.ERROR=1]="ERROR"}(tr||(tr={}));var ar=function(){function ParseError(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:tr.ERROR;(0,x.default)(this,ParseError),this.span=t,this.msg=r,this.level=i}return(0,_.default)(ParseError,[{key:"contextualMessage",value:function contextualMessage(){var t=this.span.start.getContext(100,3);return t?"".concat(this.msg,' ("').concat(t.before,"[").concat(tr[this.level]," ->]").concat(t.after,'")'):this.msg}},{key:"toString",value:function toString(){var t=this.span.details?", ".concat(this.span.details):"";return"".concat(this.contextualMessage(),": ").concat(this.span.start).concat(t)}}]),ParseError}();function r3JitTypeSourceSpan(t,r,i){var a="in ".concat(t," ").concat(r," in ").concat(i),o=new rr("",a);return new ir(new nr(o,-1,-1,-1),new nr(o,-1,-1,-1))}var sr=0;function identifierName(t){if(!t||!t.reference)return null;var r=t.reference;if(r.__anonymousType)return r.__anonymousType;if(r.__forward_ref__)return"__forward_ref__";var i=stringify(r);return i.indexOf("(")>=0?(i="anonymous_".concat(sr++),r.__anonymousType=i):i=sanitizeIdentifier(i),i}function sanitizeIdentifier(t){return t.replace(/\W/g,"_")}var lr,ur='(this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e})',cr=function(t){(0,m.default)(AbstractJsEmitterVisitor,t);var r=(0,y.default)(AbstractJsEmitterVisitor);function AbstractJsEmitterVisitor(){return(0,x.default)(this,AbstractJsEmitterVisitor),r.call(this,!1)}return(0,_.default)(AbstractJsEmitterVisitor,[{key:"visitWrappedNodeExpr",value:function visitWrappedNodeExpr(t,r){throw new Error("Cannot emit a WrappedNodeExpr in Javascript.")}},{key:"visitDeclareVarStmt",value:function visitDeclareVarStmt(t,r){return r.print(t,"var ".concat(t.name)),t.value&&(r.print(t," = "),t.value.visitExpression(this,r)),r.println(t,";"),null}},{key:"visitTaggedTemplateExpr",value:function visitTaggedTemplateExpr(t,r){var i=this,a=t.template.elements;return t.tag.visitExpression(this,r),r.print(t,"(".concat(ur,"(")),r.print(t,"[".concat(a.map((function(t){return escapeIdentifier(t.text,!1)})).join(", "),"], ")),r.print(t,"[".concat(a.map((function(t){return escapeIdentifier(t.rawText,!1)})).join(", "),"])")),t.template.expressions.forEach((function(a){r.print(t,", "),a.visitExpression(i,r)})),r.print(t,")"),null}},{key:"visitFunctionExpr",value:function visitFunctionExpr(t,r){return r.print(t,"function".concat(t.name?" "+t.name:"","(")),this._visitParams(t.params,r),r.println(t,") {"),r.incIndent(),this.visitAllStatements(t.statements,r),r.decIndent(),r.print(t,"}"),null}},{key:"visitDeclareFunctionStmt",value:function visitDeclareFunctionStmt(t,r){return r.print(t,"function ".concat(t.name,"(")),this._visitParams(t.params,r),r.println(t,") {"),r.incIndent(),this.visitAllStatements(t.statements,r),r.decIndent(),r.println(t,"}"),null}},{key:"visitLocalizedString",value:function visitLocalizedString(t,r){var i=this;r.print(t,"$localize(".concat(ur,"("));for(var a=[t.serializeI18nHead()],o=1;o<t.messageParts.length;o++)a.push(t.serializeI18nTemplatePart(o));return r.print(t,"[".concat(a.map((function(t){return escapeIdentifier(t.cooked,!1)})).join(", "),"], ")),r.print(t,"[".concat(a.map((function(t){return escapeIdentifier(t.raw,!1)})).join(", "),"])")),t.expressions.forEach((function(a){r.print(t,", "),a.visitExpression(i,r)})),r.print(t,")"),null}},{key:"_visitParams",value:function _visitParams(t,r){this.visitAllObjects((function(t){return r.print(null,t.name)}),t,r,",")}}]),AbstractJsEmitterVisitor}(Vt);function trustedScriptFromString(t){var r;return(null===(r=function getPolicy(){if(void 0===lr&&(lr=null,oe.trustedTypes))try{lr=oe.trustedTypes.createPolicy("angular#unsafe-jit",{createScript:function createScript(t){return t}})}catch(t){}return lr}())||void 0===r?void 0:r.createScript(t))||t}function newTrustedFunctionForJIT(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];if(!oe.trustedTypes)return(0,u.default)(Function,r);var a=r.slice(0,-1).join(","),o=r[r.length-1],l="(function anonymous(".concat(a,"\n) { ").concat(o,"\n})"),p=oe.eval(trustedScriptFromString(l));return void 0===p.bind?(0,u.default)(Function,r):(p.toString=function(){return l},p.bind(oe))}var pr=function(){function JitEvaluator(){(0,x.default)(this,JitEvaluator)}return(0,_.default)(JitEvaluator,[{key:"evaluateStatements",value:function evaluateStatements(t,r,i,a){var o=new hr(i),l=Bt.createRoot();return r.length>0&&!function isUseStrictStatement(t){return t.isEquivalent(literal("use strict").toStmt())}(r[0])&&(r=[literal("use strict").toStmt()].concat((0,k.default)(r))),o.visitAllStatements(r,l),o.createReturnStmt(l),this.evaluateCode(t,l,o.getArgs(),a)}},{key:"evaluateCode",value:function evaluateCode(t,r,i,a){var o='"use strict";'.concat(r.toSource(),"\n//# sourceURL=").concat(t),l=[],u=[];for(var p in i)u.push(i[p]),l.push(p);if(a){var h=newTrustedFunctionForJIT.apply(void 0,(0,k.default)(l.concat("return null;"))).toString(),d=h.slice(0,h.indexOf("return null;")).split("\n").length-1;o+="\n".concat(r.toSourceMapGenerator(t,d).toJsComment())}var v=newTrustedFunctionForJIT.apply(void 0,(0,k.default)(l.concat(o)));return this.executeFunction(v,u)}},{key:"executeFunction",value:function executeFunction(t,r){return t.apply(void 0,(0,k.default)(r))}}]),JitEvaluator}(),hr=function(t){(0,m.default)(JitEmitterVisitor,t);var r=(0,y.default)(JitEmitterVisitor);function JitEmitterVisitor(t){var i;return(0,x.default)(this,JitEmitterVisitor),(i=r.call(this)).refResolver=t,i._evalArgNames=[],i._evalArgValues=[],i._evalExportedVars=[],i}return(0,_.default)(JitEmitterVisitor,[{key:"createReturnStmt",value:function createReturnStmt(t){new St(new ht(this._evalExportedVars.map((function(t){return new pt(t,variable(t),!1)})))).visitStatement(this,t)}},{key:"getArgs",value:function getArgs(){for(var t={},r=0;r<this._evalArgNames.length;r++)t[this._evalArgNames[r]]=this._evalArgValues[r];return t}},{key:"visitExternalExpr",value:function visitExternalExpr(t,r){return this._emitReferenceToExternal(t,this.refResolver.resolveExternalReference(t.value),r),null}},{key:"visitWrappedNodeExpr",value:function visitWrappedNodeExpr(t,r){return this._emitReferenceToExternal(t,t.node,r),null}},{key:"visitDeclareVarStmt",value:function visitDeclareVarStmt(t,r){return t.hasModifier(Ye.Exported)&&this._evalExportedVars.push(t.name),(0,d.default)((0,v.default)(JitEmitterVisitor.prototype),"visitDeclareVarStmt",this).call(this,t,r)}},{key:"visitDeclareFunctionStmt",value:function visitDeclareFunctionStmt(t,r){return t.hasModifier(Ye.Exported)&&this._evalExportedVars.push(t.name),(0,d.default)((0,v.default)(JitEmitterVisitor.prototype),"visitDeclareFunctionStmt",this).call(this,t,r)}},{key:"_emitReferenceToExternal",value:function _emitReferenceToExternal(t,r,i){var a=this._evalArgValues.indexOf(r);if(-1===a){a=this._evalArgValues.length,this._evalArgValues.push(r);var o=identifierName({reference:r})||"val";this._evalArgNames.push("jit_".concat(o,"_").concat(a))}i.print(t,this._evalArgNames[a])}}]),JitEmitterVisitor}(cr);function _compileInjector(t){var r=new Fn;return null!==t.providers&&r.set("providers",t.providers),t.imports.length>0&&r.set("imports",literalArr(t.imports)),{expression:importExpr(Mt.defineInjector).callFn([r.toLiteralMap()],void 0,!0),type:createInjectorType(t),statements:[]}}function createInjectorType(t){return new Se(importExpr(Mt.InjectorDeclaration,[new Se(t.type.type)]))}var fr,dr,vr=function(){function R3JitReflector(t){(0,x.default)(this,R3JitReflector),this.context=t}return(0,_.default)(R3JitReflector,[{key:"resolveExternalReference",value:function resolveExternalReference(t){if("@angular/core"!==t.moduleName)throw new Error("Cannot resolve external reference to ".concat(t.moduleName,", only references to @angular/core are supported."));if(!this.context.hasOwnProperty(t.name))throw new Error("No value provided for @angular/core symbol '".concat(t.name,"'."));return this.context[t.name]}}]),R3JitReflector}();function _compileNgModule(t){var r=t.adjacentType,i=t.internalType,a=t.bootstrap,o=t.declarations,l=t.imports,u=t.exports,p=t.schemas,h=t.containsForwardDecls,d=t.selectorScopeMode,v=t.id,m=[],y=new Fn;if(y.set("type",i),a.length>0&&y.set("bootstrap",refsToArray(a,h)),d===fr.Inline)o.length>0&&y.set("declarations",refsToArray(o,h)),l.length>0&&y.set("imports",refsToArray(l,h)),u.length>0&&y.set("exports",refsToArray(u,h));else if(d===fr.SideEffect){var E=function generateSetNgModuleScopeCall(t){var r=t.adjacentType,i=t.declarations,a=t.imports,o=t.exports,l=t.containsForwardDecls,u=new Fn;i.length>0&&u.set("declarations",refsToArray(i,l));a.length>0&&u.set("imports",refsToArray(a,l));o.length>0&&u.set("exports",refsToArray(o,l));if(0===Object.keys(u.values).length)return null;var p=function jitOnlyGuardedExpression(t){return guardedExpression("ngJitMode",t)}(new qe(importExpr(Mt.setNgModuleScope),[r,u.toLiteralMap()])),h=new at([],[p.toStmt()]);return new qe(h,[]).toStmt()}(t);null!==E&&m.push(E)}return null!==p&&p.length>0&&y.set("schemas",literalArr(p.map((function(t){return t.value})))),null!==v&&(y.set("id",v),m.push(importExpr(Mt.registerNgModuleType).callFn([r,v]).toStmt())),{expression:importExpr(Mt.defineNgModule).callFn([y.toLiteralMap()],void 0,!0),type:createNgModuleType(t),statements:m}}function createNgModuleType(t){var r=t.type,i=t.declarations,a=t.imports,o=t.exports;return new Se(importExpr(Mt.NgModuleDeclaration,[new Se(r.type),tupleTypeOf(i),tupleTypeOf(a),tupleTypeOf(o)]))}function tupleTypeOf(t){var r=t.map((function(t){return typeofExpr(t.type)}));return t.length>0?expressionType(literalArr(r)):Me}function compilePipeFromMetadata(t){var r=[];return r.push({key:"name",value:literal(t.pipeName),quoted:!1}),r.push({key:"type",value:t.type.value,quoted:!1}),r.push({key:"pure",value:literal(t.pure),quoted:!1}),t.isStandalone&&r.push({key:"standalone",value:literal(!0),quoted:!1}),{expression:importExpr(Mt.definePipe).callFn([literalMap(r)],void 0,!0),type:createPipeType(t),statements:[]}}function createPipeType(t){return new Se(importExpr(Mt.PipeDeclaration,[typeWithParameters(t.type.type,t.typeArgumentCount),new Se(new Ue(t.pipeName)),new Se(new Ue(t.isStandalone))]))}!function(t){t[t.Inline=0]="Inline",t[t.SideEffect=1]="SideEffect",t[t.Omit=2]="Omit"}(fr||(fr={})),function(t){t[t.Directive=0]="Directive",t[t.Pipe=1]="Pipe",t[t.NgModule=2]="NgModule"}(dr||(dr={}));var mr,gr=(0,_.default)((function ParserError(t,r,i,a){(0,x.default)(this,ParserError),this.input=r,this.errLocation=i,this.ctxLocation=a,this.message="Parser Error: ".concat(t," ").concat(i," [").concat(r,"] in ").concat(a)})),yr=function(){function ParseSpan(t,r){(0,x.default)(this,ParseSpan),this.start=t,this.end=r}return(0,_.default)(ParseSpan,[{key:"toAbsolute",value:function toAbsolute(t){return new Ur(t+this.start,t+this.end)}}]),ParseSpan}(),Er=function(){function AST(t,r){(0,x.default)(this,AST),this.span=t,this.sourceSpan=r}return(0,_.default)(AST,[{key:"toString",value:function toString(){return"AST"}}]),AST}(),kr=function(t){(0,m.default)(ASTWithName,t);var r=(0,y.default)(ASTWithName);function ASTWithName(t,i,a){var o;return(0,x.default)(this,ASTWithName),(o=r.call(this,t,i)).nameSpan=a,o}return(0,_.default)(ASTWithName)}(Er),xr=function(t){(0,m.default)(EmptyExpr,t);var r=(0,y.default)(EmptyExpr);function EmptyExpr(){return(0,x.default)(this,EmptyExpr),r.apply(this,arguments)}return(0,_.default)(EmptyExpr,[{key:"visit",value:function visit(t){}}]),EmptyExpr}(Er),Sr=function(t){(0,m.default)(ImplicitReceiver,t);var r=(0,y.default)(ImplicitReceiver);function ImplicitReceiver(){return(0,x.default)(this,ImplicitReceiver),r.apply(this,arguments)}return(0,_.default)(ImplicitReceiver,[{key:"visit",value:function visit(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t.visitImplicitReceiver(this,r)}}]),ImplicitReceiver}(Er),_r=function(t){(0,m.default)(ThisReceiver,t);var r=(0,y.default)(ThisReceiver);function ThisReceiver(){return(0,x.default)(this,ThisReceiver),r.apply(this,arguments)}return(0,_.default)(ThisReceiver,[{key:"visit",value:function visit(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null===(r=t.visitThisReceiver)||void 0===r?void 0:r.call(t,this,i)}}]),ThisReceiver}(Sr),wr=function(t){(0,m.default)(Chain,t);var r=(0,y.default)(Chain);function Chain(t,i,a){var o;return(0,x.default)(this,Chain),(o=r.call(this,t,i)).expressions=a,o}return(0,_.default)(Chain,[{key:"visit",value:function visit(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t.visitChain(this,r)}}]),Chain}(Er),Tr=function(t){(0,m.default)(Conditional,t);var r=(0,y.default)(Conditional);function Conditional(t,i,a,o,l){var u;return(0,x.default)(this,Conditional),(u=r.call(this,t,i)).condition=a,u.trueExp=o,u.falseExp=l,u}return(0,_.default)(Conditional,[{key:"visit",value:function visit(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t.visitConditional(this,r)}}]),Conditional}(Er),br=function(t){(0,m.default)(PropertyRead,t);var r=(0,y.default)(PropertyRead);function PropertyRead(t,i,a,o,l){var u;return(0,x.default)(this,PropertyRead),(u=r.call(this,t,i,a)).receiver=o,u.name=l,u}return(0,_.default)(PropertyRead,[{key:"visit",value:function visit(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t.visitPropertyRead(this,r)}}]),PropertyRead}(kr),Cr=function(t){(0,m.default)(PropertyWrite,t);var r=(0,y.default)(PropertyWrite);function PropertyWrite(t,i,a,o,l,u){var p;return(0,x.default)(this,PropertyWrite),(p=r.call(this,t,i,a)).receiver=o,p.name=l,p.value=u,p}return(0,_.default)(PropertyWrite,[{key:"visit",value:function visit(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t.visitPropertyWrite(this,r)}}]),PropertyWrite}(kr),Ir=function(t){(0,m.default)(SafePropertyRead,t);var r=(0,y.default)(SafePropertyRead);function SafePropertyRead(t,i,a,o,l){var u;return(0,x.default)(this,SafePropertyRead),(u=r.call(this,t,i,a)).receiver=o,u.name=l,u}return(0,_.default)(SafePropertyRead,[{key:"visit",value:function visit(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t.visitSafePropertyRead(this,r)}}]),SafePropertyRead}(kr),Pr=function(t){(0,m.default)(KeyedRead,t);var r=(0,y.default)(KeyedRead);function KeyedRead(t,i,a,o){var l;return(0,x.default)(this,KeyedRead),(l=r.call(this,t,i)).receiver=a,l.key=o,l}return(0,_.default)(KeyedRead,[{key:"visit",value:function visit(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t.visitKeyedRead(this,r)}}]),KeyedRead}(Er),Ar=function(t){(0,m.default)(SafeKeyedRead,t);var r=(0,y.default)(SafeKeyedRead);function SafeKeyedRead(t,i,a,o){var l;return(0,x.default)(this,SafeKeyedRead),(l=r.call(this,t,i)).receiver=a,l.key=o,l}return(0,_.default)(SafeKeyedRead,[{key:"visit",value:function visit(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t.visitSafeKeyedRead(this,r)}}]),SafeKeyedRead}(Er),Nr=function(t){(0,m.default)(KeyedWrite,t);var r=(0,y.default)(KeyedWrite);function KeyedWrite(t,i,a,o,l){var u;return(0,x.default)(this,KeyedWrite),(u=r.call(this,t,i)).receiver=a,u.key=o,u.value=l,u}return(0,_.default)(KeyedWrite,[{key:"visit",value:function visit(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t.visitKeyedWrite(this,r)}}]),KeyedWrite}(Er),Mr=function(t){(0,m.default)(BindingPipe,t);var r=(0,y.default)(BindingPipe);function BindingPipe(t,i,a,o,l,u){var p;return(0,x.default)(this,BindingPipe),(p=r.call(this,t,i,u)).exp=a,p.name=o,p.args=l,p}return(0,_.default)(BindingPipe,[{key:"visit",value:function visit(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t.visitPipe(this,r)}}]),BindingPipe}(kr),Lr=function(t){(0,m.default)(LiteralPrimitive,t);var r=(0,y.default)(LiteralPrimitive);function LiteralPrimitive(t,i,a){var o;return(0,x.default)(this,LiteralPrimitive),(o=r.call(this,t,i)).value=a,o}return(0,_.default)(LiteralPrimitive,[{key:"visit",value:function visit(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t.visitLiteralPrimitive(this,r)}}]),LiteralPrimitive}(Er),Rr=function(t){(0,m.default)(LiteralArray,t);var r=(0,y.default)(LiteralArray);function LiteralArray(t,i,a){var o;return(0,x.default)(this,LiteralArray),(o=r.call(this,t,i)).expressions=a,o}return(0,_.default)(LiteralArray,[{key:"visit",value:function visit(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t.visitLiteralArray(this,r)}}]),LiteralArray}(Er),Dr=function(t){(0,m.default)(LiteralMap,t);var r=(0,y.default)(LiteralMap);function LiteralMap(t,i,a,o){var l;return(0,x.default)(this,LiteralMap),(l=r.call(this,t,i)).keys=a,l.values=o,l}return(0,_.default)(LiteralMap,[{key:"visit",value:function visit(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t.visitLiteralMap(this,r)}}]),LiteralMap}(Er),Or=function(t){(0,m.default)(Interpolation,t);var r=(0,y.default)(Interpolation);function Interpolation(t,i,a,o){var l;return(0,x.default)(this,Interpolation),(l=r.call(this,t,i)).strings=a,l.expressions=o,l}return(0,_.default)(Interpolation,[{key:"visit",value:function visit(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t.visitInterpolation(this,r)}}]),Interpolation}(Er),Fr=function(t){(0,m.default)(Binary,t);var r=(0,y.default)(Binary);function Binary(t,i,a,o,l){var u;return(0,x.default)(this,Binary),(u=r.call(this,t,i)).operation=a,u.left=o,u.right=l,u}return(0,_.default)(Binary,[{key:"visit",value:function visit(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t.visitBinary(this,r)}}]),Binary}(Er),Br=function(t){(0,m.default)(Unary,t);var r=(0,y.default)(Unary);function Unary(t,i,a,o,l,u,p){var h;return(0,x.default)(this,Unary),(h=r.call(this,t,i,l,u,p)).operator=a,h.expr=o,h.left=null,h.right=null,h.operation=null,h}return(0,_.default)(Unary,[{key:"visit",value:function visit(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return void 0!==t.visitUnary?t.visitUnary(this,r):t.visitBinary(this,r)}}],[{key:"createMinus",value:function createMinus(t,r,i){return new Unary(t,r,"-",i,"-",new Lr(t,r,0),i)}},{key:"createPlus",value:function createPlus(t,r,i){return new Unary(t,r,"+",i,"-",i,new Lr(t,r,0))}}]),Unary}(Fr),Vr=function(t){(0,m.default)(PrefixNot,t);var r=(0,y.default)(PrefixNot);function PrefixNot(t,i,a){var o;return(0,x.default)(this,PrefixNot),(o=r.call(this,t,i)).expression=a,o}return(0,_.default)(PrefixNot,[{key:"visit",value:function visit(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t.visitPrefixNot(this,r)}}]),PrefixNot}(Er),qr=function(t){(0,m.default)(NonNullAssert,t);var r=(0,y.default)(NonNullAssert);function NonNullAssert(t,i,a){var o;return(0,x.default)(this,NonNullAssert),(o=r.call(this,t,i)).expression=a,o}return(0,_.default)(NonNullAssert,[{key:"visit",value:function visit(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t.visitNonNullAssert(this,r)}}]),NonNullAssert}(Er),jr=function(t){(0,m.default)(Call,t);var r=(0,y.default)(Call);function Call(t,i,a,o,l){var u;return(0,x.default)(this,Call),(u=r.call(this,t,i)).receiver=a,u.args=o,u.argumentSpan=l,u}return(0,_.default)(Call,[{key:"visit",value:function visit(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t.visitCall(this,r)}}]),Call}(Er),Hr=function(t){(0,m.default)(SafeCall,t);var r=(0,y.default)(SafeCall);function SafeCall(t,i,a,o,l){var u;return(0,x.default)(this,SafeCall),(u=r.call(this,t,i)).receiver=a,u.args=o,u.argumentSpan=l,u}return(0,_.default)(SafeCall,[{key:"visit",value:function visit(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t.visitSafeCall(this,r)}}]),SafeCall}(Er),Ur=(0,_.default)((function AbsoluteSourceSpan(t,r){(0,x.default)(this,AbsoluteSourceSpan),this.start=t,this.end=r})),Wr=function(t){(0,m.default)(ASTWithSource,t);var r=(0,y.default)(ASTWithSource);function ASTWithSource(t,i,a,o,l){var u;return(0,x.default)(this,ASTWithSource),(u=r.call(this,new yr(0,null===i?0:i.length),new Ur(o,null===i?o:o+i.length))).ast=t,u.source=i,u.location=a,u.errors=l,u}return(0,_.default)(ASTWithSource,[{key:"visit",value:function visit(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t.visitASTWithSource?t.visitASTWithSource(this,r):this.ast.visit(t,r)}},{key:"toString",value:function toString(){return"".concat(this.source," in ").concat(this.location)}}]),ASTWithSource}(Er),zr=(0,_.default)((function VariableBinding(t,r,i){(0,x.default)(this,VariableBinding),this.sourceSpan=t,this.key=r,this.value=i})),Kr=(0,_.default)((function ExpressionBinding(t,r,i){(0,x.default)(this,ExpressionBinding),this.sourceSpan=t,this.key=r,this.value=i})),Zr=function(){function RecursiveAstVisitor(){(0,x.default)(this,RecursiveAstVisitor)}return(0,_.default)(RecursiveAstVisitor,[{key:"visit",value:function visit(t,r){t.visit(this,r)}},{key:"visitUnary",value:function visitUnary(t,r){this.visit(t.expr,r)}},{key:"visitBinary",value:function visitBinary(t,r){this.visit(t.left,r),this.visit(t.right,r)}},{key:"visitChain",value:function visitChain(t,r){this.visitAll(t.expressions,r)}},{key:"visitConditional",value:function visitConditional(t,r){this.visit(t.condition,r),this.visit(t.trueExp,r),this.visit(t.falseExp,r)}},{key:"visitPipe",value:function visitPipe(t,r){this.visit(t.exp,r),this.visitAll(t.args,r)}},{key:"visitImplicitReceiver",value:function visitImplicitReceiver(t,r){}},{key:"visitThisReceiver",value:function visitThisReceiver(t,r){}},{key:"visitInterpolation",value:function visitInterpolation(t,r){this.visitAll(t.expressions,r)}},{key:"visitKeyedRead",value:function visitKeyedRead(t,r){this.visit(t.receiver,r),this.visit(t.key,r)}},{key:"visitKeyedWrite",value:function visitKeyedWrite(t,r){this.visit(t.receiver,r),this.visit(t.key,r),this.visit(t.value,r)}},{key:"visitLiteralArray",value:function visitLiteralArray(t,r){this.visitAll(t.expressions,r)}},{key:"visitLiteralMap",value:function visitLiteralMap(t,r){this.visitAll(t.values,r)}},{key:"visitLiteralPrimitive",value:function visitLiteralPrimitive(t,r){}},{key:"visitPrefixNot",value:function visitPrefixNot(t,r){this.visit(t.expression,r)}},{key:"visitNonNullAssert",value:function visitNonNullAssert(t,r){this.visit(t.expression,r)}},{key:"visitPropertyRead",value:function visitPropertyRead(t,r){this.visit(t.receiver,r)}},{key:"visitPropertyWrite",value:function visitPropertyWrite(t,r){this.visit(t.receiver,r),this.visit(t.value,r)}},{key:"visitSafePropertyRead",value:function visitSafePropertyRead(t,r){this.visit(t.receiver,r)}},{key:"visitSafeKeyedRead",value:function visitSafeKeyedRead(t,r){this.visit(t.receiver,r),this.visit(t.key,r)}},{key:"visitCall",value:function visitCall(t,r){this.visit(t.receiver,r),this.visitAll(t.args,r)}},{key:"visitSafeCall",value:function visitSafeCall(t,r){this.visit(t.receiver,r),this.visitAll(t.args,r)}},{key:"visitAll",value:function visitAll(t,r){var i,a=(0,E.default)(t);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.visit(o,r)}}catch(t){a.e(t)}finally{a.f()}}}]),RecursiveAstVisitor}(),$r=function(){function AstTransformer(){(0,x.default)(this,AstTransformer)}return(0,_.default)(AstTransformer,[{key:"visitImplicitReceiver",value:function visitImplicitReceiver(t,r){return t}},{key:"visitThisReceiver",value:function visitThisReceiver(t,r){return t}},{key:"visitInterpolation",value:function visitInterpolation(t,r){return new Or(t.span,t.sourceSpan,t.strings,this.visitAll(t.expressions))}},{key:"visitLiteralPrimitive",value:function visitLiteralPrimitive(t,r){return new Lr(t.span,t.sourceSpan,t.value)}},{key:"visitPropertyRead",value:function visitPropertyRead(t,r){return new br(t.span,t.sourceSpan,t.nameSpan,t.receiver.visit(this),t.name)}},{key:"visitPropertyWrite",value:function visitPropertyWrite(t,r){return new Cr(t.span,t.sourceSpan,t.nameSpan,t.receiver.visit(this),t.name,t.value.visit(this))}},{key:"visitSafePropertyRead",value:function visitSafePropertyRead(t,r){return new Ir(t.span,t.sourceSpan,t.nameSpan,t.receiver.visit(this),t.name)}},{key:"visitLiteralArray",value:function visitLiteralArray(t,r){return new Rr(t.span,t.sourceSpan,this.visitAll(t.expressions))}},{key:"visitLiteralMap",value:function visitLiteralMap(t,r){return new Dr(t.span,t.sourceSpan,t.keys,this.visitAll(t.values))}},{key:"visitUnary",value:function visitUnary(t,r){switch(t.operator){case"+":return Br.createPlus(t.span,t.sourceSpan,t.expr.visit(this));case"-":return Br.createMinus(t.span,t.sourceSpan,t.expr.visit(this));default:throw new Error("Unknown unary operator ".concat(t.operator))}}},{key:"visitBinary",value:function visitBinary(t,r){return new Fr(t.span,t.sourceSpan,t.operation,t.left.visit(this),t.right.visit(this))}},{key:"visitPrefixNot",value:function visitPrefixNot(t,r){return new Vr(t.span,t.sourceSpan,t.expression.visit(this))}},{key:"visitNonNullAssert",value:function visitNonNullAssert(t,r){return new qr(t.span,t.sourceSpan,t.expression.visit(this))}},{key:"visitConditional",value:function visitConditional(t,r){return new Tr(t.span,t.sourceSpan,t.condition.visit(this),t.trueExp.visit(this),t.falseExp.visit(this))}},{key:"visitPipe",value:function visitPipe(t,r){return new Mr(t.span,t.sourceSpan,t.exp.visit(this),t.name,this.visitAll(t.args),t.nameSpan)}},{key:"visitKeyedRead",value:function visitKeyedRead(t,r){return new Pr(t.span,t.sourceSpan,t.receiver.visit(this),t.key.visit(this))}},{key:"visitKeyedWrite",value:function visitKeyedWrite(t,r){return new Nr(t.span,t.sourceSpan,t.receiver.visit(this),t.key.visit(this),t.value.visit(this))}},{key:"visitCall",value:function visitCall(t,r){return new jr(t.span,t.sourceSpan,t.receiver.visit(this),this.visitAll(t.args),t.argumentSpan)}},{key:"visitSafeCall",value:function visitSafeCall(t,r){return new Hr(t.span,t.sourceSpan,t.receiver.visit(this),this.visitAll(t.args),t.argumentSpan)}},{key:"visitAll",value:function visitAll(t){for(var r=[],i=0;i<t.length;++i)r[i]=t[i].visit(this);return r}},{key:"visitChain",value:function visitChain(t,r){return new wr(t.span,t.sourceSpan,this.visitAll(t.expressions))}},{key:"visitSafeKeyedRead",value:function visitSafeKeyedRead(t,r){return new Ar(t.span,t.sourceSpan,t.receiver.visit(this),t.key.visit(this))}}]),AstTransformer}(),Gr=function(){function AstMemoryEfficientTransformer(){(0,x.default)(this,AstMemoryEfficientTransformer)}return(0,_.default)(AstMemoryEfficientTransformer,[{key:"visitImplicitReceiver",value:function visitImplicitReceiver(t,r){return t}},{key:"visitThisReceiver",value:function visitThisReceiver(t,r){return t}},{key:"visitInterpolation",value:function visitInterpolation(t,r){var i=this.visitAll(t.expressions);return i!==t.expressions?new Or(t.span,t.sourceSpan,t.strings,i):t}},{key:"visitLiteralPrimitive",value:function visitLiteralPrimitive(t,r){return t}},{key:"visitPropertyRead",value:function visitPropertyRead(t,r){var i=t.receiver.visit(this);return i!==t.receiver?new br(t.span,t.sourceSpan,t.nameSpan,i,t.name):t}},{key:"visitPropertyWrite",value:function visitPropertyWrite(t,r){var i=t.receiver.visit(this),a=t.value.visit(this);return i!==t.receiver||a!==t.value?new Cr(t.span,t.sourceSpan,t.nameSpan,i,t.name,a):t}},{key:"visitSafePropertyRead",value:function visitSafePropertyRead(t,r){var i=t.receiver.visit(this);return i!==t.receiver?new Ir(t.span,t.sourceSpan,t.nameSpan,i,t.name):t}},{key:"visitLiteralArray",value:function visitLiteralArray(t,r){var i=this.visitAll(t.expressions);return i!==t.expressions?new Rr(t.span,t.sourceSpan,i):t}},{key:"visitLiteralMap",value:function visitLiteralMap(t,r){var i=this.visitAll(t.values);return i!==t.values?new Dr(t.span,t.sourceSpan,t.keys,i):t}},{key:"visitUnary",value:function visitUnary(t,r){var i=t.expr.visit(this);if(i!==t.expr)switch(t.operator){case"+":return Br.createPlus(t.span,t.sourceSpan,i);case"-":return Br.createMinus(t.span,t.sourceSpan,i);default:throw new Error("Unknown unary operator ".concat(t.operator))}return t}},{key:"visitBinary",value:function visitBinary(t,r){var i=t.left.visit(this),a=t.right.visit(this);return i!==t.left||a!==t.right?new Fr(t.span,t.sourceSpan,t.operation,i,a):t}},{key:"visitPrefixNot",value:function visitPrefixNot(t,r){var i=t.expression.visit(this);return i!==t.expression?new Vr(t.span,t.sourceSpan,i):t}},{key:"visitNonNullAssert",value:function visitNonNullAssert(t,r){var i=t.expression.visit(this);return i!==t.expression?new qr(t.span,t.sourceSpan,i):t}},{key:"visitConditional",value:function visitConditional(t,r){var i=t.condition.visit(this),a=t.trueExp.visit(this),o=t.falseExp.visit(this);return i!==t.condition||a!==t.trueExp||o!==t.falseExp?new Tr(t.span,t.sourceSpan,i,a,o):t}},{key:"visitPipe",value:function visitPipe(t,r){var i=t.exp.visit(this),a=this.visitAll(t.args);return i!==t.exp||a!==t.args?new Mr(t.span,t.sourceSpan,i,t.name,a,t.nameSpan):t}},{key:"visitKeyedRead",value:function visitKeyedRead(t,r){var i=t.receiver.visit(this),a=t.key.visit(this);return i!==t.receiver||a!==t.key?new Pr(t.span,t.sourceSpan,i,a):t}},{key:"visitKeyedWrite",value:function visitKeyedWrite(t,r){var i=t.receiver.visit(this),a=t.key.visit(this),o=t.value.visit(this);return i!==t.receiver||a!==t.key||o!==t.value?new Nr(t.span,t.sourceSpan,i,a,o):t}},{key:"visitAll",value:function visitAll(t){for(var r=[],i=!1,a=0;a<t.length;++a){var o=t[a],l=o.visit(this);r[a]=l,i=i||l!==o}return i?r:t}},{key:"visitChain",value:function visitChain(t,r){var i=this.visitAll(t.expressions);return i!==t.expressions?new wr(t.span,t.sourceSpan,i):t}},{key:"visitCall",value:function visitCall(t,r){var i=t.receiver.visit(this),a=this.visitAll(t.args);return i!==t.receiver||a!==t.args?new jr(t.span,t.sourceSpan,i,a,t.argumentSpan):t}},{key:"visitSafeCall",value:function visitSafeCall(t,r){var i=t.receiver.visit(this),a=this.visitAll(t.args);return i!==t.receiver||a!==t.args?new Hr(t.span,t.sourceSpan,i,a,t.argumentSpan):t}},{key:"visitSafeKeyedRead",value:function visitSafeKeyedRead(t,r){var i=t.receiver.visit(this),a=t.key.visit(this);return i!==t.receiver||a!==t.key?new Ar(t.span,t.sourceSpan,i,a):t}}]),AstMemoryEfficientTransformer}(),Xr=(0,_.default)((function ParsedProperty(t,r,i,a,o,l){(0,x.default)(this,ParsedProperty),this.name=t,this.expression=r,this.type=i,this.sourceSpan=a,this.keySpan=o,this.valueSpan=l,this.isLiteral=this.type===mr.LITERAL_ATTR,this.isAnimation=this.type===mr.ANIMATION}));!function(t){t[t.DEFAULT=0]="DEFAULT",t[t.LITERAL_ATTR=1]="LITERAL_ATTR",t[t.ANIMATION=2]="ANIMATION"}(mr||(mr={}));var Jr=(0,_.default)((function ParsedEvent(t,r,i,a,o,l,u){(0,x.default)(this,ParsedEvent),this.name=t,this.targetOrPhase=r,this.type=i,this.handler=a,this.sourceSpan=o,this.handlerSpan=l,this.keySpan=u})),Qr=(0,_.default)((function ParsedVariable(t,r,i,a,o){(0,x.default)(this,ParsedVariable),this.name=t,this.value=r,this.sourceSpan=i,this.keySpan=a,this.valueSpan=o})),Yr=(0,_.default)((function BoundElementProperty(t,r,i,a,o,l,u,p){(0,x.default)(this,BoundElementProperty),this.name=t,this.type=r,this.securityContext=i,this.value=a,this.unit=o,this.sourceSpan=l,this.keySpan=u,this.valueSpan=p})),ei=(0,_.default)((function EventHandlerVars(){(0,x.default)(this,EventHandlerVars)}));function convertActionBinding(t,r,i,a,o,l,u){t||(t=new si(u));var p=function convertPropertyBindingBuiltins(t,r){return function convertBuiltins(t,r){var i=new ri(t);return r.visit(i)}(t,r)}({createLiteralArrayConverter:function createLiteralArrayConverter(t){return function(t){return literalArr(t)}},createLiteralMapConverter:function createLiteralMapConverter(t){return function(r){return literalMap(t.map((function(t,i){return{key:t.key,value:r[i],quoted:t.quoted}})))}},createPipeConverter:function createPipeConverter(t){throw new Error("Illegal State: Actions are not allowed to contain pipes. Pipe: ".concat(t))}},i),h=new ii(t,r,a,!1,o,l),d=[];flattenStatements(p.visit(h,ti.Statement),d),function prependTemporaryDecls(t,r,i){for(var a=t-1;a>=0;a--)i.unshift(temporaryDeclaration(r,a))}(h.temporaryCount,a,d),h.usesImplicitReceiver&&t.notifyImplicitReceiverUse();var v=d.length-1;if(v>=0){var m=d[v];m instanceof xt&&(d[v]=new St(m.expr))}return d}ei.event=variable("$event");var ti,ni=(0,_.default)((function ConvertPropertyBindingResult(t,r){(0,x.default)(this,ConvertPropertyBindingResult),this.stmts=t,this.currValExpr=r}));function _convertPropertyBinding(t,r,i,a){t||(t=new si);var o=new ii(t,r,a,!1),l=i.visit(o,ti.Expression),u=getStatementsFromVisitor(o,a);return o.usesImplicitReceiver&&t.notifyImplicitReceiverUse(),new ni(u,l)}function getStatementsFromVisitor(t,r){for(var i=[],a=0;a<t.temporaryCount;a++)i.push(temporaryDeclaration(r,a));return i}function temporaryName(t,r){return"tmp_".concat(t,"_").concat(r)}function temporaryDeclaration(t,r){return new Et(temporaryName(t,r))}function ensureExpressionMode(t,r){if(t!==ti.Expression)throw new Error("Expected an expression, but saw ".concat(r))}function convertToStatementIfNeeded(t,r){return t===ti.Statement?r.toStmt():r}!function(t){t[t.Statement=0]="Statement",t[t.Expression=1]="Expression"}(ti||(ti={}));var ri=function(t){(0,m.default)(_BuiltinAstConverter,t);var r=(0,y.default)(_BuiltinAstConverter);function _BuiltinAstConverter(t){var i;return(0,x.default)(this,_BuiltinAstConverter),(i=r.call(this))._converterFactory=t,i}return(0,_.default)(_BuiltinAstConverter,[{key:"visitPipe",value:function visitPipe(t,r){var i=this,a=[t.exp].concat((0,k.default)(t.args)).map((function(t){return t.visit(i,r)}));return new oi(t.span,t.sourceSpan,a,this._converterFactory.createPipeConverter(t.name,a.length))}},{key:"visitLiteralArray",value:function visitLiteralArray(t,r){var i=this,a=t.expressions.map((function(t){return t.visit(i,r)}));return new oi(t.span,t.sourceSpan,a,this._converterFactory.createLiteralArrayConverter(t.expressions.length))}},{key:"visitLiteralMap",value:function visitLiteralMap(t,r){var i=this,a=t.values.map((function(t){return t.visit(i,r)}));return new oi(t.span,t.sourceSpan,a,this._converterFactory.createLiteralMapConverter(t.keys))}}]),_BuiltinAstConverter}($r),ii=function(){function _AstToIrVisitor(t,r,i,a,o,l){(0,x.default)(this,_AstToIrVisitor),this._localResolver=t,this._implicitReceiver=r,this.bindingId=i,this.supportsInterpolation=a,this.baseSourceSpan=o,this.implicitReceiverAccesses=l,this._nodeMap=new Map,this._resultMap=new Map,this._currentTemporary=0,this.temporaryCount=0,this.usesImplicitReceiver=!1}return(0,_.default)(_AstToIrVisitor,[{key:"visitUnary",value:function visitUnary(t,r){var i;switch(t.operator){case"+":i=Ee.Plus;break;case"-":i=Ee.Minus;break;default:throw new Error("Unsupported operator ".concat(t.operator))}return convertToStatementIfNeeded(r,new st(i,this._visit(t.expr,ti.Expression),void 0,this.convertSourceSpan(t.span)))}},{key:"visitBinary",value:function visitBinary(t,r){var i;switch(t.operation){case"+":i=ke.Plus;break;case"-":i=ke.Minus;break;case"*":i=ke.Multiply;break;case"/":i=ke.Divide;break;case"%":i=ke.Modulo;break;case"&&":i=ke.And;break;case"||":i=ke.Or;break;case"==":i=ke.Equals;break;case"!=":i=ke.NotEquals;break;case"===":i=ke.Identical;break;case"!==":i=ke.NotIdentical;break;case"<":i=ke.Lower;break;case">":i=ke.Bigger;break;case"<=":i=ke.LowerEquals;break;case">=":i=ke.BiggerEquals;break;case"??":return this.convertNullishCoalesce(t,r);default:throw new Error("Unsupported operation ".concat(t.operation))}return convertToStatementIfNeeded(r,new ot(i,this._visit(t.left,ti.Expression),this._visit(t.right,ti.Expression),void 0,this.convertSourceSpan(t.span)))}},{key:"visitChain",value:function visitChain(t,r){return function ensureStatementMode(t,r){if(t!==ti.Statement)throw new Error("Expected a statement, but saw ".concat(r))}(r,t),this.visitAll(t.expressions,r)}},{key:"visitConditional",value:function visitConditional(t,r){return convertToStatementIfNeeded(r,this._visit(t.condition,ti.Expression).conditional(this._visit(t.trueExp,ti.Expression),this._visit(t.falseExp,ti.Expression),this.convertSourceSpan(t.span)))}},{key:"visitPipe",value:function visitPipe(t,r){throw new Error("Illegal state: Pipes should have been converted into functions. Pipe: ".concat(t.name))}},{key:"visitImplicitReceiver",value:function visitImplicitReceiver(t,r){return ensureExpressionMode(r,t),this.usesImplicitReceiver=!0,this._implicitReceiver}},{key:"visitThisReceiver",value:function visitThisReceiver(t,r){return this.visitImplicitReceiver(t,r)}},{key:"visitInterpolation",value:function visitInterpolation(t,r){if(!this.supportsInterpolation)throw new Error("Unexpected interpolation");ensureExpressionMode(r,t);for(var i=[],a=0;a<t.strings.length-1;a++)i.push(literal(t.strings[a])),i.push(this._visit(t.expressions[a],ti.Expression));i.push(literal(t.strings[t.strings.length-1]));var o=t.strings;return 2===o.length&&""===o[0]&&""===o[1]?i=[i[1]]:t.expressions.length>=9&&(i=[literalArr(i)]),new ai(i)}},{key:"visitKeyedRead",value:function visitKeyedRead(t,r){var i=this.leftMostSafeNode(t);return i?this.convertSafeAccess(t,i,r):convertToStatementIfNeeded(r,this._visit(t.receiver,ti.Expression).key(this._visit(t.key,ti.Expression)))}},{key:"visitKeyedWrite",value:function visitKeyedWrite(t,r){var i=this._visit(t.receiver,ti.Expression),a=this._visit(t.key,ti.Expression),o=this._visit(t.value,ti.Expression);return i===this._implicitReceiver&&this._localResolver.maybeRestoreView(),convertToStatementIfNeeded(r,i.key(a).set(o))}},{key:"visitLiteralArray",value:function visitLiteralArray(t,r){throw new Error("Illegal State: literal arrays should have been converted into functions")}},{key:"visitLiteralMap",value:function visitLiteralMap(t,r){throw new Error("Illegal State: literal maps should have been converted into functions")}},{key:"visitLiteralPrimitive",value:function visitLiteralPrimitive(t,r){var i=null===t.value||void 0===t.value||!0===t.value||!0===t.value?be:void 0;return convertToStatementIfNeeded(r,literal(t.value,i,this.convertSourceSpan(t.span)))}},{key:"_getLocal",value:function _getLocal(t,r){var i;return(null===(i=this._localResolver.globals)||void 0===i?void 0:i.has(t))&&r instanceof _r?null:this._localResolver.getLocal(t)}},{key:"visitPrefixNot",value:function visitPrefixNot(t,r){return convertToStatementIfNeeded(r,not(this._visit(t.expression,ti.Expression)))}},{key:"visitNonNullAssert",value:function visitNonNullAssert(t,r){return convertToStatementIfNeeded(r,this._visit(t.expression,ti.Expression))}},{key:"visitPropertyRead",value:function visitPropertyRead(t,r){var i=this.leftMostSafeNode(t);if(i)return this.convertSafeAccess(t,i,r);var a=null,o=this.usesImplicitReceiver,l=this._visit(t.receiver,ti.Expression);return l===this._implicitReceiver&&(a=this._getLocal(t.name,t.receiver))&&(this.usesImplicitReceiver=o,this.addImplicitReceiverAccess(t.name)),null==a&&(a=l.prop(t.name,this.convertSourceSpan(t.span))),convertToStatementIfNeeded(r,a)}},{key:"visitPropertyWrite",value:function visitPropertyWrite(t,r){var i=this._visit(t.receiver,ti.Expression),a=this.usesImplicitReceiver,o=null;if(i===this._implicitReceiver){var l=this._getLocal(t.name,t.receiver);if(l){if(!(l instanceof lt)){var u=t.name,p=t.value instanceof br?t.value.name:void 0;throw new Error('Cannot assign value "'.concat(p,'" to template variable "').concat(u,'". Template variables are read-only.'))}o=l,this.usesImplicitReceiver=a,this.addImplicitReceiverAccess(t.name)}}return null===o&&(o=i.prop(t.name,this.convertSourceSpan(t.span))),convertToStatementIfNeeded(r,o.set(this._visit(t.value,ti.Expression)))}},{key:"visitSafePropertyRead",value:function visitSafePropertyRead(t,r){return this.convertSafeAccess(t,this.leftMostSafeNode(t),r)}},{key:"visitSafeKeyedRead",value:function visitSafeKeyedRead(t,r){return this.convertSafeAccess(t,this.leftMostSafeNode(t),r)}},{key:"visitAll",value:function visitAll(t,r){var i=this;return t.map((function(t){return i._visit(t,r)}))}},{key:"visitCall",value:function visitCall(t,r){var i=this.leftMostSafeNode(t);if(i)return this.convertSafeAccess(t,i,r);var a=this.visitAll(t.args,ti.Expression);if(t instanceof oi)return convertToStatementIfNeeded(r,t.converter(a));var o=t.receiver;if(o instanceof br&&o.receiver instanceof Sr&&!(o.receiver instanceof _r)&&"$any"===o.name){if(1!==a.length)throw new Error("Invalid call to $any, expected 1 argument but received ".concat(a.length||"none"));return convertToStatementIfNeeded(r,a[0])}return convertToStatementIfNeeded(r,this._visit(o,ti.Expression).callFn(a,this.convertSourceSpan(t.span)))}},{key:"visitSafeCall",value:function visitSafeCall(t,r){return this.convertSafeAccess(t,this.leftMostSafeNode(t),r)}},{key:"_visit",value:function _visit(t,r){var i=this._resultMap.get(t);return i||(this._nodeMap.get(t)||t).visit(this,r)}},{key:"convertSafeAccess",value:function convertSafeAccess(t,r,i){var a=this._visit(r.receiver,ti.Expression),o=void 0;this.needsTemporaryInSafeAccess(r.receiver)&&(a=(o=this.allocateTemporary()).set(a),this._resultMap.set(r.receiver,o));var l=a.isBlank();r instanceof Hr?this._nodeMap.set(r,new jr(r.span,r.sourceSpan,r.receiver,r.args,r.argumentSpan)):r instanceof Ar?this._nodeMap.set(r,new Pr(r.span,r.sourceSpan,r.receiver,r.key)):this._nodeMap.set(r,new br(r.span,r.sourceSpan,r.nameSpan,r.receiver,r.name));var u=this._visit(t,ti.Expression);return this._nodeMap.delete(r),o&&this.releaseTemporary(o),convertToStatementIfNeeded(i,l.conditional(dt,u))}},{key:"convertNullishCoalesce",value:function convertNullishCoalesce(t,r){var i=this._visit(t.left,ti.Expression),a=this._visit(t.right,ti.Expression),o=this.allocateTemporary();return this.releaseTemporary(o),convertToStatementIfNeeded(r,o.set(i).notIdentical(dt).and(o.notIdentical(literal(void 0))).conditional(o,a))}},{key:"leftMostSafeNode",value:function leftMostSafeNode(t){var r=this,i=function visit(t,i){return(r._nodeMap.get(i)||i).visit(t)};return t.visit({visitUnary:function visitUnary(t){return null},visitBinary:function visitBinary(t){return null},visitChain:function visitChain(t){return null},visitConditional:function visitConditional(t){return null},visitCall:function visitCall(t){return i(this,t.receiver)},visitSafeCall:function visitSafeCall(t){return i(this,t.receiver)||t},visitImplicitReceiver:function visitImplicitReceiver(t){return null},visitThisReceiver:function visitThisReceiver(t){return null},visitInterpolation:function visitInterpolation(t){return null},visitKeyedRead:function visitKeyedRead(t){return i(this,t.receiver)},visitKeyedWrite:function visitKeyedWrite(t){return null},visitLiteralArray:function visitLiteralArray(t){return null},visitLiteralMap:function visitLiteralMap(t){return null},visitLiteralPrimitive:function visitLiteralPrimitive(t){return null},visitPipe:function visitPipe(t){return null},visitPrefixNot:function visitPrefixNot(t){return null},visitNonNullAssert:function visitNonNullAssert(t){return null},visitPropertyRead:function visitPropertyRead(t){return i(this,t.receiver)},visitPropertyWrite:function visitPropertyWrite(t){return null},visitSafePropertyRead:function visitSafePropertyRead(t){return i(this,t.receiver)||t},visitSafeKeyedRead:function visitSafeKeyedRead(t){return i(this,t.receiver)||t}})}},{key:"needsTemporaryInSafeAccess",value:function needsTemporaryInSafeAccess(t){var r=this,i=function visit(t,i){return i&&(r._nodeMap.get(i)||i).visit(t)};return t.visit({visitUnary:function visitUnary(t){return i(this,t.expr)},visitBinary:function visitBinary(t){return i(this,t.left)||i(this,t.right)},visitChain:function visitChain(t){return!1},visitConditional:function visitConditional(t){return i(this,t.condition)||i(this,t.trueExp)||i(this,t.falseExp)},visitCall:function visitCall(t){return!0},visitSafeCall:function visitSafeCall(t){return!0},visitImplicitReceiver:function visitImplicitReceiver(t){return!1},visitThisReceiver:function visitThisReceiver(t){return!1},visitInterpolation:function visitInterpolation(t){return function visitSome(t,r){return r.some((function(r){return i(t,r)}))}(this,t.expressions)},visitKeyedRead:function visitKeyedRead(t){return!1},visitKeyedWrite:function visitKeyedWrite(t){return!1},visitLiteralArray:function visitLiteralArray(t){return!0},visitLiteralMap:function visitLiteralMap(t){return!0},visitLiteralPrimitive:function visitLiteralPrimitive(t){return!1},visitPipe:function visitPipe(t){return!0},visitPrefixNot:function visitPrefixNot(t){return i(this,t.expression)},visitNonNullAssert:function visitNonNullAssert(t){return i(this,t.expression)},visitPropertyRead:function visitPropertyRead(t){return!1},visitPropertyWrite:function visitPropertyWrite(t){return!1},visitSafePropertyRead:function visitSafePropertyRead(t){return!1},visitSafeKeyedRead:function visitSafeKeyedRead(t){return!1}})}},{key:"allocateTemporary",value:function allocateTemporary(){var t=this._currentTemporary++;return this.temporaryCount=Math.max(this._currentTemporary,this.temporaryCount),new Re(temporaryName(this.bindingId,t))}},{key:"releaseTemporary",value:function releaseTemporary(t){if(this._currentTemporary--,t.name!=temporaryName(this.bindingId,this._currentTemporary))throw new Error("Temporary ".concat(t.name," released out of order"))}},{key:"convertSourceSpan",value:function convertSourceSpan(t){if(this.baseSourceSpan){var r=this.baseSourceSpan.start.moveBy(t.start),i=this.baseSourceSpan.start.moveBy(t.end),a=this.baseSourceSpan.fullStart.moveBy(t.start);return new ir(r,i,a)}return null}},{key:"addImplicitReceiverAccess",value:function addImplicitReceiverAccess(t){this.implicitReceiverAccesses&&this.implicitReceiverAccesses.add(t)}}]),_AstToIrVisitor}();function flattenStatements(t,r){Array.isArray(t)?t.forEach((function(t){return flattenStatements(t,r)})):r.push(t)}function unsupported(){throw new Error("Unsupported operation")}var ai=function(t){(0,m.default)(InterpolationExpression,t);var r=(0,y.default)(InterpolationExpression);function InterpolationExpression(t){var i;return(0,x.default)(this,InterpolationExpression),(i=r.call(this,null,null)).args=t,i.isConstant=unsupported,i.isEquivalent=unsupported,i.visitExpression=unsupported,i}return(0,_.default)(InterpolationExpression)}(Le),si=function(){function DefaultLocalResolver(t){(0,x.default)(this,DefaultLocalResolver),this.globals=t}return(0,_.default)(DefaultLocalResolver,[{key:"notifyImplicitReceiverUse",value:function notifyImplicitReceiverUse(){}},{key:"maybeRestoreView",value:function maybeRestoreView(){}},{key:"getLocal",value:function getLocal(t){return t===ei.event.name?ei.event:null}}]),DefaultLocalResolver}(),oi=function(t){(0,m.default)(BuiltinFunctionCall,t);var r=(0,y.default)(BuiltinFunctionCall);function BuiltinFunctionCall(t,i,a,o){var l;return(0,x.default)(this,BuiltinFunctionCall),(l=r.call(this,t,i,new xr(t,i),a,null)).converter=o,l}return(0,_.default)(BuiltinFunctionCall)}(jr),li=function(){function ShadowCss(){(0,x.default)(this,ShadowCss),this.strictStyling=!0}return(0,_.default)(ShadowCss,[{key:"shimCssText",value:function shimCssText(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=extractCommentsWithHash(t);t=stripComments(t),t=this._insertDirectives(t);var o=this._scopeCssText(t,r,i);return[o].concat((0,k.default)(a)).join("\n")}},{key:"_insertDirectives",value:function _insertDirectives(t){return t=this._insertPolyfillDirectivesInCssText(t),this._insertPolyfillRulesInCssText(t)}},{key:"_insertPolyfillDirectivesInCssText",value:function _insertPolyfillDirectivesInCssText(t){return t.replace(ci,(function(){return(arguments.length<=2?void 0:arguments[2])+"{"}))}},{key:"_insertPolyfillRulesInCssText",value:function _insertPolyfillRulesInCssText(t){return t.replace(pi,(function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];var a=r[0].replace(r[1],"").replace(r[2],"");return r[4]+a}))}},{key:"_scopeCssText",value:function _scopeCssText(t,r,i){var a=this._extractUnscopedRulesFromCssText(t);return t=this._insertPolyfillHostInCssText(t),t=this._convertColonHost(t),t=this._convertColonHostContext(t),t=this._convertShadowDOMSelectors(t),r&&(t=this._scopeSelectors(t,r,i)),(t=t+"\n"+a).trim()}},{key:"_extractUnscopedRulesFromCssText",value:function _extractUnscopedRulesFromCssText(t){var r,i="";for(hi.lastIndex=0;null!==(r=hi.exec(t));){i+=r[0].replace(r[2],"").replace(r[1],r[4])+"\n\n"}return i}},{key:"_convertColonHost",value:function _convertColonHost(t){return t.replace(mi,(function(t,r,i){if(r){var a,o=[],l=r.split(",").map((function(t){return t.trim()})),u=(0,E.default)(l);try{for(u.s();!(a=u.n()).done;){var p=a.value;if(!p)break;var h=Ei+p.replace(fi,"")+i;o.push(h)}}catch(t){u.e(t)}finally{u.f()}return o.join(",")}return Ei+i}))}},{key:"_convertColonHostContext",value:function _convertColonHostContext(t){return t.replace(gi,(function(t){for(var r,i,a=[[]];i=yi.exec(t);){var o=(null!==(r=i[1])&&void 0!==r?r:"").trim().split(",").map((function(t){return t.trim()})).filter((function(t){return""!==t})),l=a.length;repeatGroups(a,o.length);for(var u=0;u<o.length;u++)for(var p=0;p<l;p++)a[p+u*l].push(o[u]);t=i[2]}return a.map((function(r){return function combineHostContextSelectors(t,r){var i=Ei;wi.lastIndex=0;var a=wi.test(r);if(0===t.length)return i+r;var o=[t.pop()||""];for(;t.length>0;)for(var l=o.length,u=t.pop(),p=0;p<l;p++){var h=o[p];o[2*l+p]=h+" "+u,o[l+p]=u+" "+h,o[p]=u+h}return o.map((function(t){return a?"".concat(t).concat(r):"".concat(t).concat(i).concat(r,", ").concat(t," ").concat(i).concat(r)})).join(",")}(r,t)})).join(", ")}))}},{key:"_convertShadowDOMSelectors",value:function _convertShadowDOMSelectors(t){return xi.reduce((function(t,r){return t.replace(r," ")}),t)}},{key:"_scopeSelectors",value:function _scopeSelectors(t,r,i){var a=this;return processRules(t,(function(t){var o=t.selector,l=t.content;return"@"!==t.selector[0]?o=a._scopeSelector(t.selector,r,i,a.strictStyling):t.selector.startsWith("@media")||t.selector.startsWith("@supports")||t.selector.startsWith("@document")||t.selector.startsWith("@layer")?l=a._scopeSelectors(t.content,r,i):(t.selector.startsWith("@font-face")||t.selector.startsWith("@page"))&&(l=a._stripScopingSelectors(t.content)),new Ri(o,l)}))}},{key:"_stripScopingSelectors",value:function _stripScopingSelectors(t){return processRules(t,(function(t){var r=t.selector.replace(Si," ").replace(ki," ");return new Ri(r,t.content)}))}},{key:"_scopeSelector",value:function _scopeSelector(t,r,i,a){var o=this;return t.split(",").map((function(t){return t.trim().split(Si)})).map((function(t){var u=(0,l.default)(t),p=u[0],h=u.slice(1);return[function applyScope(t){return o._selectorNeedsScoping(t,r)?a?o._applyStrictSelectorScope(t,r,i):o._applySelectorScope(t,r,i):t}(p)].concat((0,k.default)(h)).join(" ")})).join(", ")}},{key:"_selectorNeedsScoping",value:function _selectorNeedsScoping(t,r){return!this._makeScopeMatcher(r).test(t)}},{key:"_makeScopeMatcher",value:function _makeScopeMatcher(t){return t=t.replace(/\[/g,"\\[").replace(/\]/g,"\\]"),new RegExp("^("+t+")"+_i,"m")}},{key:"_applySelectorScope",value:function _applySelectorScope(t,r,i){return this._applySimpleSelectorScope(t,r,i)}},{key:"_applySimpleSelectorScope",value:function _applySimpleSelectorScope(t,r,i){if(wi.lastIndex=0,wi.test(t)){var a=this.strictStyling?"[".concat(i,"]"):r;return t.replace(ki,(function(t,r){return r.replace(/([^:]*)(:*)(.*)/,(function(t,r,i,o){return r+a+i+o}))})).replace(wi,a+" ")}return r+" "+t}},{key:"_applyStrictSelectorScope",value:function _applyStrictSelectorScope(t,r,i){var a=this;r=r.replace(/\[is=([^\]]*)\]/g,(function(t){return arguments.length<=1?void 0:arguments[1]}));for(var o,l="["+r+"]",u=function _scopeSelectorPart(t){var o=t.trim();if(!o)return"";if(t.indexOf(Ei)>-1)o=a._applySimpleSelectorScope(t,r,i);else{var u=t.replace(wi,"");if(u.length>0){var p=u.match(/([^:]*)(:*)(.*)/);p&&(o=p[1]+l+p[2]+p[3])}}return o},p=new ui(t),h="",d=0,v=/( |>|\+|~(?!=))\s*/g,m=!((t=p.content()).indexOf(Ei)>-1);null!==(o=v.exec(t));){var y=o[1],E=t.slice(d,o.index).trim(),k=(m=m||E.indexOf(Ei)>-1)?u(E):E;h+="".concat(k," ").concat(y," "),d=v.lastIndex}var x=t.substring(d);return h+=(m=m||x.indexOf(Ei)>-1)?u(x):x,p.restore(h)}},{key:"_insertPolyfillHostInCssText",value:function _insertPolyfillHostInCssText(t){return t.replace(bi,di).replace(Ti,fi)}}]),ShadowCss}(),ui=function(){function SafeSelector(t){var r=this;(0,x.default)(this,SafeSelector),this.placeholders=[],this.index=0,t=this._escapeRegexMatches(t,/(\[[^\]]*\])/g),t=this._escapeRegexMatches(t,/(\\.)/g),this._content=t.replace(/(:nth-[-\w]+)(\([^)]+\))/g,(function(t,i,a){var o="__ph-".concat(r.index,"__");return r.placeholders.push(a),r.index++,i+o}))}return(0,_.default)(SafeSelector,[{key:"restore",value:function restore(t){var r=this;return t.replace(/__ph-(\d+)__/g,(function(t,i){return r.placeholders[+i]}))}},{key:"content",value:function content(){return this._content}},{key:"_escapeRegexMatches",value:function _escapeRegexMatches(t,r){var i=this;return t.replace(r,(function(t,r){var a="__ph-".concat(i.index,"__");return i.placeholders.push(r),i.index++,a}))}}]),SafeSelector}(),ci=/polyfill-next-selector[^}]*content:[\s]*?(['"])(.*?)\1[;\s]*}([^{]*?){/gim,pi=/(polyfill-rule)[^}]*(content:[\s]*(['"])(.*?)\3)[;\s]*[^}]*}/gim,hi=/(polyfill-unscoped-rule)[^}]*(content:[\s]*(['"])(.*?)\3)[;\s]*[^}]*}/gim,fi="-shadowcsshost",di="-shadowcsscontext",vi="(?:\\(((?:\\([^)(]*\\)|[^)(]*)+?)\\))?([^,{]*)",mi=new RegExp(fi+vi,"gim"),gi=new RegExp(di+vi,"gim"),yi=new RegExp(di+vi,"im"),Ei=fi+"-no-combinator",ki=/-shadowcsshost-no-combinator([^\s]*)/,xi=[/::shadow/g,/::content/g,/\/shadow-deep\//g,/\/shadow\//g],Si=/(?:>>>)|(?:\/deep\/)|(?:::ng-deep)/g,_i="([>\\s~+[.,{:][\\s\\S]*)?$",wi=/-shadowcsshost/gim,Ti=/:host/gim,bi=/:host-context/gim,Ci=/\/\*[\s\S]*?\*\//g;function stripComments(t){return t.replace(Ci,"")}var Ii=/\/\*\s*#\s*source(Mapping)?URL=[\s\S]+?\*\//g;function extractCommentsWithHash(t){return t.match(Ii)||[]}var Pi="%BLOCK%",Ai=/(\s*)([^;\{\}]+?)(\s*)((?:{%BLOCK%}?\s*;?)|(?:\s*;))/g,Ni=/%QUOTED%/g,Mi=new Map([["{","}"]]),Li=new Map([['"','"'],["'","'"]]),Ri=(0,_.default)((function CssRule(t,r){(0,x.default)(this,CssRule),this.selector=t,this.content=r}));function processRules(t,r){var i=escapeBlocks(t,Li,"%QUOTED%"),a=escapeBlocks(i.escapedString,Mi,Pi),o=0,l=0;return a.escapedString.replace(Ai,(function(){var t=arguments.length<=2?void 0:arguments[2],i="",l=arguments.length<=4?void 0:arguments[4],u="";l&&l.startsWith("{%BLOCK%")&&(i=a.blocks[o++],l=l.substring(Pi.length+1),u="{");var p=r(new Ri(t,i));return"".concat(arguments.length<=1?void 0:arguments[1]).concat(p.selector).concat(arguments.length<=3?void 0:arguments[3]).concat(u).concat(p.content).concat(l)})).replace(Ni,(function(){return i.blocks[l++]}))}var Di=(0,_.default)((function StringWithEscapedBlocks(t,r){(0,x.default)(this,StringWithEscapedBlocks),this.escapedString=t,this.blocks=r}));function escapeBlocks(t,r,i){for(var a,o,l=[],u=[],p=0,h=0,d=-1,v=0;v<t.length;v++){var m=t[v];"\\"===m?v++:m===o?0===--p&&(u.push(t.substring(d,v)),l.push(i),h=v,d=-1,a=o=void 0):m===a?p++:0===p&&r.has(m)&&(a=m,o=r.get(m),p=1,d=v+1,l.push(t.substring(h,d)))}return-1!==d?(u.push(t.substring(d)),l.push(i)):l.push(t.substring(h)),new Di(l.join(""),u)}function repeatGroups(t,r){for(var i=t.length,a=1;a<r;a++)for(var o=0;o<i;o++)t[o+a*i]=t[o].slice(0)}function stripUnnecessaryQuotes(t){var r=t.charCodeAt(0);if(r==t.charCodeAt(t.length-1)&&(39==r||34==r)){var i=t.substring(1,t.length-1);-1==i.indexOf("'")&&-1==i.indexOf('"')&&(t=i)}return t}function hyphenate(t){return t.replace(/[a-z][A-Z]/g,(function(t){return t.charAt(0)+"-"+t.charAt(1)})).toLowerCase()}var Oi,Fi=function(){function StylingBuilder(t){(0,x.default)(this,StylingBuilder),this._directiveExpr=t,this._hasInitialValues=!1,this.hasBindings=!1,this.hasBindingsWithPipes=!1,this._classMapInput=null,this._styleMapInput=null,this._singleStyleInputs=null,this._singleClassInputs=null,this._lastStylingInput=null,this._firstStylingInput=null,this._stylesIndex=new Map,this._classesIndex=new Map,this._initialStyleValues=[],this._initialClassValues=[]}return(0,_.default)(StylingBuilder,[{key:"registerBoundInput",value:function registerBoundInput(t){var r=null,i=t.name;switch(t.type){case 0:r=this.registerInputBasedOnName(i,t.value,t.sourceSpan);break;case 3:r=this.registerStyleInput(i,!1,t.value,t.sourceSpan,t.unit);break;case 2:r=this.registerClassInput(i,!1,t.value,t.sourceSpan)}return!!r}},{key:"registerInputBasedOnName",value:function registerInputBasedOnName(t,r,i){var a=null,o=t.substring(0,6),l="style"===t||"style."===o||"style!"===o;if(l||!l&&("class"===t||"class."===o||"class!"===o)){var u="."!==t.charAt(5),p=t.slice(u?5:6);a=l?this.registerStyleInput(p,u,r,i):this.registerClassInput(p,u,r,i)}return a}},{key:"registerStyleInput",value:function registerStyleInput(t,r,i,a,o){if(isEmptyExpression(i))return null;(function isCssCustomProperty(t){return t.startsWith("--")})(t)||(t=hyphenate(t));var l=parseProperty(t),u=l.property,p=l.hasOverrideFlag,h=l.suffix,d={name:u,suffix:o="string"==typeof o&&0!==o.length?o:h,value:i,sourceSpan:a,hasOverrideFlag:p};return r?this._styleMapInput=d:((this._singleStyleInputs=this._singleStyleInputs||[]).push(d),registerIntoMap(this._stylesIndex,u)),this._lastStylingInput=d,this._firstStylingInput=this._firstStylingInput||d,this._checkForPipes(i),this.hasBindings=!0,d}},{key:"registerClassInput",value:function registerClassInput(t,r,i,a){if(isEmptyExpression(i))return null;var o=parseProperty(t),l=o.property,u={name:l,value:i,sourceSpan:a,hasOverrideFlag:o.hasOverrideFlag,suffix:null};return r?this._classMapInput=u:((this._singleClassInputs=this._singleClassInputs||[]).push(u),registerIntoMap(this._classesIndex,l)),this._lastStylingInput=u,this._firstStylingInput=this._firstStylingInput||u,this._checkForPipes(i),this.hasBindings=!0,u}},{key:"_checkForPipes",value:function _checkForPipes(t){t instanceof Wr&&t.ast instanceof Mr&&(this.hasBindingsWithPipes=!0)}},{key:"registerStyleAttr",value:function registerStyleAttr(t){this._initialStyleValues=function parse(t){for(var r=[],i=0,a=0,o=0,l=0,u=0,p=null,h=!1;i<t.length;)switch(t.charCodeAt(i++)){case 40:a++;break;case 41:a--;break;case 39:h=h||l>0,0===o?o=39:39===o&&92!==t.charCodeAt(i-1)&&(o=0);break;case 34:h=h||l>0,0===o?o=34:34===o&&92!==t.charCodeAt(i-1)&&(o=0);break;case 58:p||0!==a||0!==o||(p=hyphenate(t.substring(u,i-1).trim()),l=i);break;case 59:if(p&&l>0&&0===a&&0===o){var d=t.substring(l,i-1).trim();r.push(p,h?stripUnnecessaryQuotes(d):d),u=i,l=0,p=null,h=!1}}if(p&&l){var v=t.slice(l).trim();r.push(p,h?stripUnnecessaryQuotes(v):v)}return r}(t),this._hasInitialValues=!0}},{key:"registerClassAttr",value:function registerClassAttr(t){this._initialClassValues=t.trim().split(/\s+/g),this._hasInitialValues=!0}},{key:"populateInitialStylingAttrs",value:function populateInitialStylingAttrs(t){if(this._initialClassValues.length){t.push(literal(1));for(var r=0;r<this._initialClassValues.length;r++)t.push(literal(this._initialClassValues[r]))}if(this._initialStyleValues.length){t.push(literal(2));for(var i=0;i<this._initialStyleValues.length;i+=2)t.push(literal(this._initialStyleValues[i]),literal(this._initialStyleValues[i+1]))}}},{key:"assignHostAttrs",value:function assignHostAttrs(t,r){this._directiveExpr&&(t.length||this._hasInitialValues)&&(this.populateInitialStylingAttrs(t),r.set("hostAttrs",literalArr(t)))}},{key:"buildClassMapInstruction",value:function buildClassMapInstruction(t){return this._classMapInput?this._buildMapBasedInstruction(t,!0,this._classMapInput):null}},{key:"buildStyleMapInstruction",value:function buildStyleMapInstruction(t){return this._styleMapInput?this._buildMapBasedInstruction(t,!1,this._styleMapInput):null}},{key:"_buildMapBasedInstruction",value:function _buildMapBasedInstruction(t,r,i){var a,o=2,l=i.value.visit(t);return l instanceof Or?(o+=l.expressions.length,a=r?function getClassMapInterpolationExpression(t){switch(getInterpolationArgsLength(t)){case 1:return Mt.classMap;case 3:return Mt.classMapInterpolate1;case 5:return Mt.classMapInterpolate2;case 7:return Mt.classMapInterpolate3;case 9:return Mt.classMapInterpolate4;case 11:return Mt.classMapInterpolate5;case 13:return Mt.classMapInterpolate6;case 15:return Mt.classMapInterpolate7;case 17:return Mt.classMapInterpolate8;default:return Mt.classMapInterpolateV}}(l):function getStyleMapInterpolationExpression(t){switch(getInterpolationArgsLength(t)){case 1:return Mt.styleMap;case 3:return Mt.styleMapInterpolate1;case 5:return Mt.styleMapInterpolate2;case 7:return Mt.styleMapInterpolate3;case 9:return Mt.styleMapInterpolate4;case 11:return Mt.styleMapInterpolate5;case 13:return Mt.styleMapInterpolate6;case 15:return Mt.styleMapInterpolate7;case 17:return Mt.styleMapInterpolate8;default:return Mt.styleMapInterpolateV}}(l)):a=r?Mt.classMap:Mt.styleMap,{reference:a,calls:[{supportsInterpolation:!0,sourceSpan:i.sourceSpan,allocateBindingSlots:o,params:function params(t){var r=t(l),params=Array.isArray(r)?r:[r];return params}}]}}},{key:"_buildSingleInputs",value:function _buildSingleInputs(t,r,i,a,o){var l=[];return r.forEach((function(r){var u=l[l.length-1],p=r.value.visit(i),h=t,d=2;p instanceof Or&&(d+=p.expressions.length,a&&(h=a(p)));var v={sourceSpan:r.sourceSpan,allocateBindingSlots:d,supportsInterpolation:!!a,params:function params(t){var params=[];params.push(literal(r.name));var i=t(p);return Array.isArray(i)?params.push.apply(params,(0,k.default)(i)):params.push(i),o||null===r.suffix||params.push(literal(r.suffix)),params}};u&&u.reference===h?u.calls.push(v):l.push({reference:h,calls:[v]})})),l}},{key:"_buildClassInputs",value:function _buildClassInputs(t){return this._singleClassInputs?this._buildSingleInputs(Mt.classProp,this._singleClassInputs,t,null,!0):[]}},{key:"_buildStyleInputs",value:function _buildStyleInputs(t){return this._singleStyleInputs?this._buildSingleInputs(Mt.styleProp,this._singleStyleInputs,t,getStylePropInterpolationExpression,!1):[]}},{key:"buildUpdateLevelInstructions",value:function buildUpdateLevelInstructions(t){var r=[];if(this.hasBindings){var i=this.buildStyleMapInstruction(t);i&&r.push(i);var a=this.buildClassMapInstruction(t);a&&r.push(a),r.push.apply(r,(0,k.default)(this._buildStyleInputs(t))),r.push.apply(r,(0,k.default)(this._buildClassInputs(t)))}return r}}]),StylingBuilder}();function registerIntoMap(t,r){t.has(r)||t.set(r,t.size)}function parseProperty(t){var r=!1,i=t.indexOf("!important");-1!==i&&(t=i>0?t.substring(0,i):"",r=!0);var a=null,o=t,l=t.lastIndexOf(".");return l>0&&(a=t.slice(l+1),o=t.substring(0,l)),{property:o,suffix:a,hasOverrideFlag:r}}function getStylePropInterpolationExpression(t){switch(getInterpolationArgsLength(t)){case 1:return Mt.styleProp;case 3:return Mt.stylePropInterpolate1;case 5:return Mt.stylePropInterpolate2;case 7:return Mt.stylePropInterpolate3;case 9:return Mt.stylePropInterpolate4;case 11:return Mt.stylePropInterpolate5;case 13:return Mt.stylePropInterpolate6;case 15:return Mt.stylePropInterpolate7;case 17:return Mt.stylePropInterpolate8;default:return Mt.stylePropInterpolateV}}function isEmptyExpression(t){return t instanceof Wr&&(t=t.ast),t instanceof xr}!function(t){t[t.Character=0]="Character",t[t.Identifier=1]="Identifier",t[t.PrivateIdentifier=2]="PrivateIdentifier",t[t.Keyword=3]="Keyword",t[t.String=4]="String",t[t.Operator=5]="Operator",t[t.Number=6]="Number",t[t.Error=7]="Error"}(Oi||(Oi={}));var Bi=["var","let","as","null","undefined","true","false","if","else","this"],Vi=function(){function Lexer(){(0,x.default)(this,Lexer)}return(0,_.default)(Lexer,[{key:"tokenize",value:function tokenize(t){for(var r=new Hi(t),i=[],a=r.scanToken();null!=a;)i.push(a),a=r.scanToken();return i}}]),Lexer}(),qi=function(){function Token(t,r,i,a,o){(0,x.default)(this,Token),this.index=t,this.end=r,this.type=i,this.numValue=a,this.strValue=o}return(0,_.default)(Token,[{key:"isCharacter",value:function isCharacter(t){return this.type==Oi.Character&&this.numValue==t}},{key:"isNumber",value:function isNumber(){return this.type==Oi.Number}},{key:"isString",value:function isString(){return this.type==Oi.String}},{key:"isOperator",value:function isOperator(t){return this.type==Oi.Operator&&this.strValue==t}},{key:"isIdentifier",value:function isIdentifier(){return this.type==Oi.Identifier}},{key:"isPrivateIdentifier",value:function isPrivateIdentifier(){return this.type==Oi.PrivateIdentifier}},{key:"isKeyword",value:function isKeyword(){return this.type==Oi.Keyword}},{key:"isKeywordLet",value:function isKeywordLet(){return this.type==Oi.Keyword&&"let"==this.strValue}},{key:"isKeywordAs",value:function isKeywordAs(){return this.type==Oi.Keyword&&"as"==this.strValue}},{key:"isKeywordNull",value:function isKeywordNull(){return this.type==Oi.Keyword&&"null"==this.strValue}},{key:"isKeywordUndefined",value:function isKeywordUndefined(){return this.type==Oi.Keyword&&"undefined"==this.strValue}},{key:"isKeywordTrue",value:function isKeywordTrue(){return this.type==Oi.Keyword&&"true"==this.strValue}},{key:"isKeywordFalse",value:function isKeywordFalse(){return this.type==Oi.Keyword&&"false"==this.strValue}},{key:"isKeywordThis",value:function isKeywordThis(){return this.type==Oi.Keyword&&"this"==this.strValue}},{key:"isError",value:function isError(){return this.type==Oi.Error}},{key:"toNumber",value:function toNumber(){return this.type==Oi.Number?this.numValue:-1}},{key:"toString",value:function toString(){switch(this.type){case Oi.Character:case Oi.Identifier:case Oi.Keyword:case Oi.Operator:case Oi.PrivateIdentifier:case Oi.String:case Oi.Error:return this.strValue;case Oi.Number:return this.numValue.toString();default:return null}}}]),Token}();function newCharacterToken(t,r,i){return new qi(t,r,Oi.Character,i,String.fromCharCode(i))}function newOperatorToken(t,r,i){return new qi(t,r,Oi.Operator,0,i)}var ji=new qi(-1,-1,Oi.Character,0,""),Hi=function(){function _Scanner(t){(0,x.default)(this,_Scanner),this.input=t,this.peek=0,this.index=-1,this.length=t.length,this.advance()}return(0,_.default)(_Scanner,[{key:"advance",value:function advance(){this.peek=++this.index>=this.length?0:this.input.charCodeAt(this.index)}},{key:"scanToken",value:function scanToken(){for(var t=this.input,r=this.length,i=this.peek,a=this.index;i<=32;){if(++a>=r){i=0;break}i=t.charCodeAt(a)}if(this.peek=i,this.index=a,a>=r)return null;if(isIdentifierStart(i))return this.scanIdentifier();if(isDigit(i))return this.scanNumber(a);var o=a;switch(i){case Un:return this.advance(),isDigit(this.peek)?this.scanNumber(o):newCharacterToken(o,this.index,Un);case 40:case 41:case Yn:case er:case 91:case 93:case Hn:case zn:case Kn:return this.scanCharacter(o,i);case 39:case 34:return this.scanString();case 35:return this.scanPrivateIdentifier();case 43:case 45:case 42:case Wn:case 37:case 94:return this.scanOperator(o,String.fromCharCode(i));case 63:return this.scanQuestion(o);case Zn:case Gn:return this.scanComplexOperator(o,String.fromCharCode(i),$n,"=");case 33:case $n:return this.scanComplexOperator(o,String.fromCharCode(i),$n,"=",$n,"=");case 38:return this.scanComplexOperator(o,"&",38,"&");case 124:return this.scanComplexOperator(o,"|",124,"|");case 160:for(;isWhitespace(this.peek);)this.advance();return this.scanToken()}return this.advance(),this.error("Unexpected character [".concat(String.fromCharCode(i),"]"),0)}},{key:"scanCharacter",value:function scanCharacter(t,r){return this.advance(),newCharacterToken(t,this.index,r)}},{key:"scanOperator",value:function scanOperator(t,r){return this.advance(),newOperatorToken(t,this.index,r)}},{key:"scanComplexOperator",value:function scanComplexOperator(t,r,i,a,o,l){this.advance();var u=r;return this.peek==i&&(this.advance(),u+=a),null!=o&&this.peek==o&&(this.advance(),u+=l),newOperatorToken(t,this.index,u)}},{key:"scanIdentifier",value:function scanIdentifier(){var t=this.index;for(this.advance();isIdentifierPart(this.peek);)this.advance();var r=this.input.substring(t,this.index);return Bi.indexOf(r)>-1?function newKeywordToken(t,r,i){return new qi(t,r,Oi.Keyword,0,i)}(t,this.index,r):function newIdentifierToken(t,r,i){return new qi(t,r,Oi.Identifier,0,i)}(t,this.index,r)}},{key:"scanPrivateIdentifier",value:function scanPrivateIdentifier(){var t=this.index;if(this.advance(),!isIdentifierStart(this.peek))return this.error("Invalid character [#]",-1);for(;isIdentifierPart(this.peek);)this.advance();var r=this.input.substring(t,this.index);return function newPrivateIdentifierToken(t,r,i){return new qi(t,r,Oi.PrivateIdentifier,0,i)}(t,this.index,r)}},{key:"scanNumber",value:function scanNumber(t){var r,i=this.index===t,a=!1;for(this.advance();;){if(isDigit(this.peek));else if(95===this.peek){if(!isDigit(this.input.charCodeAt(this.index-1))||!isDigit(this.input.charCodeAt(this.index+1)))return this.error("Invalid numeric separator",0);a=!0}else if(this.peek===Un)i=!1;else{if(101!=(r=this.peek)&&69!=r)break;if(this.advance(),isExponentSign(this.peek)&&this.advance(),!isDigit(this.peek))return this.error("Invalid exponent",-1);i=!1}this.advance()}var o=this.input.substring(t,this.index);a&&(o=o.replace(/_/g,""));var l=i?function parseIntAutoRadix(t){var r=parseInt(t);if(isNaN(r))throw new Error("Invalid integer literal when parsing "+t);return r}(o):parseFloat(o);return function newNumberToken(t,r,i){return new qi(t,r,Oi.Number,i,"")}(t,this.index,l)}},{key:"scanString",value:function scanString(){var t=this.index,r=this.peek;this.advance();for(var i="",a=this.index,o=this.input;this.peek!=r;)if(92==this.peek){i+=o.substring(a,this.index),this.advance();var l=void 0;if(this.peek=this.peek,117==this.peek){var u=o.substring(this.index+1,this.index+5);if(!/^[0-9a-f]+$/i.test(u))return this.error("Invalid unicode escape [\\u".concat(u,"]"),0);l=parseInt(u,16);for(var p=0;p<5;p++)this.advance()}else l=unescape(this.peek),this.advance();i+=String.fromCharCode(l),a=this.index}else{if(0==this.peek)return this.error("Unterminated quote",0);this.advance()}var h=o.substring(a,this.index);return this.advance(),function newStringToken(t,r,i){return new qi(t,r,Oi.String,0,i)}(t,this.index,i+h)}},{key:"scanQuestion",value:function scanQuestion(t){this.advance();var r="?";return 63!==this.peek&&this.peek!==Un||(r+=this.peek===Un?".":"?",this.advance()),newOperatorToken(t,this.index,r)}},{key:"error",value:function error(t,r){var i=this.index+r;return function newErrorToken(t,r,i){return new qi(t,r,Oi.Error,0,i)}(i,this.index,"Lexer Error: ".concat(t," at column ").concat(i," in expression [").concat(this.input,"]"))}}]),_Scanner}();function isIdentifierStart(t){return Jn<=t&&t<=Qn||Xn<=t&&t<=90||95==t||36==t}function isIdentifier(t){if(0==t.length)return!1;var r=new Hi(t);if(!isIdentifierStart(r.peek))return!1;for(r.advance();0!==r.peek;){if(!isIdentifierPart(r.peek))return!1;r.advance()}return!0}function isIdentifierPart(t){return isAsciiLetter(t)||isDigit(t)||95==t||36==t}function isExponentSign(t){return 45==t||43==t}function unescape(t){switch(t){case 110:return jn;case 102:return 12;case 114:return 13;case 116:return 9;case 118:return 11;default:return t}}var Ui,Wi=(0,_.default)((function SplitInterpolation(t,r,i){(0,x.default)(this,SplitInterpolation),this.strings=t,this.expressions=r,this.offsets=i})),zi=(0,_.default)((function TemplateBindingParseResult(t,r,i){(0,x.default)(this,TemplateBindingParseResult),this.templateBindings=t,this.warnings=r,this.errors=i})),Ki=function(){function Parser$1(t){(0,x.default)(this,Parser$1),this._lexer=t,this.errors=[]}return(0,_.default)(Parser$1,[{key:"parseAction",value:function parseAction(t,r,i,a){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:qn;this._checkNoInterpolation(t,i,o);var l=this._stripComments(t),u=this._lexer.tokenize(l),p=1;r&&(p|=2);var h=new Zi(t,i,a,u,p,this.errors,0).parseChain();return new Wr(h,t,i,a,this.errors)}},{key:"parseBinding",value:function parseBinding(t,r,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:qn,o=this._parseBindingAst(t,r,i,a);return new Wr(o,t,r,i,this.errors)}},{key:"checkSimpleExpression",value:function checkSimpleExpression(t){var r=new $i;return t.visit(r),r.errors}},{key:"parseSimpleBinding",value:function parseSimpleBinding(t,r,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:qn,o=this._parseBindingAst(t,r,i,a),l=this.checkSimpleExpression(o);return l.length>0&&this._reportError("Host binding expression cannot contain ".concat(l.join(" ")),t,r),new Wr(o,t,r,i,this.errors)}},{key:"_reportError",value:function _reportError(t,r,i,a){this.errors.push(new gr(t,r,i,a))}},{key:"_parseBindingAst",value:function _parseBindingAst(t,r,i,a){this._checkNoInterpolation(t,r,a);var o=this._stripComments(t),l=this._lexer.tokenize(o);return new Zi(t,r,i,l,0,this.errors,0).parseChain()}},{key:"parseTemplateBindings",value:function parseTemplateBindings(t,r,i,a,o){var l=this._lexer.tokenize(r);return new Zi(r,i,o,l,0,this.errors,0).parseTemplateBindings({source:t,span:new Ur(a,a+t.length)})}},{key:"parseInterpolation",value:function parseInterpolation(t,r,i,a){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:qn,l=this.splitInterpolation(t,r,a,o),u=l.strings,p=l.expressions,h=l.offsets;if(0===p.length)return null;for(var d=[],v=0;v<p.length;++v){var m=p[v].text,y=this._stripComments(m),E=this._lexer.tokenize(y),k=new Zi(t,r,i,E,0,this.errors,h[v]).parseChain();d.push(k)}return this.createInterpolationAst(u.map((function(t){return t.text})),d,t,r,i)}},{key:"parseInterpolationExpression",value:function parseInterpolationExpression(t,r,i){var a=this._stripComments(t),o=this._lexer.tokenize(a),l=new Zi(t,r,i,o,0,this.errors,0).parseChain();return this.createInterpolationAst(["",""],[l],t,r,i)}},{key:"createInterpolationAst",value:function createInterpolationAst(t,r,i,a,o){var l=new yr(0,i.length),u=new Or(l,l.toAbsolute(o),t,r);return new Wr(u,i,a,o,this.errors)}},{key:"splitInterpolation",value:function splitInterpolation(t,r,i){for(var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:qn,l=[],u=[],p=[],h=i?getIndexMapForOriginalTemplate(i):null,d=0,v=!1,m=!1,y=o.start,E=o.end;d<t.length;)if(v){var k=d,x=k+y.length,_=this._getInterpolationEndIndex(t,E,x);if(-1===_){v=!1,m=!0;break}var w=_+E.length,C=t.substring(x,_);0===C.trim().length&&this._reportError("Blank expressions are not allowed in interpolated strings",t,"at column ".concat(d," in"),r),u.push({text:C,start:k,end:w});var I=null!==(a=null==h?void 0:h.get(k))&&void 0!==a?a:k,A=I+y.length;p.push(A),d=w,v=!1}else{var D=d;-1===(d=t.indexOf(y,d))&&(d=t.length);var O=t.substring(D,d);l.push({text:O,start:D,end:d}),v=!0}if(!v)if(m){var B=l[l.length-1];B.text+=t.substring(d),B.end=t.length}else l.push({text:t.substring(d),start:d,end:t.length});return new Wi(l,u,p)}},{key:"wrapLiteralPrimitive",value:function wrapLiteralPrimitive(t,r,i){var a=new yr(0,null==t?0:t.length);return new Wr(new Lr(a,a.toAbsolute(i),t),t,r,i,this.errors)}},{key:"_stripComments",value:function _stripComments(t){var r=this._commentStart(t);return null!=r?t.substring(0,r):t}},{key:"_commentStart",value:function _commentStart(t){for(var r=null,i=0;i<t.length-1;i++){var a=t.charCodeAt(i),o=t.charCodeAt(i+1);if(a===Wn&&o==Wn&&null==r)return i;r===a?r=null:null==r&&isQuote(a)&&(r=a)}return null}},{key:"_checkNoInterpolation",value:function _checkNoInterpolation(t,r,i){var a,o=i.start,l=i.end,u=-1,p=-1,h=(0,E.default)(this._forEachUnquotedChar(t,0));try{for(h.s();!(a=h.n()).done;){var d=a.value;if(-1===u)t.startsWith(o)&&(u=d);else if((p=this._getInterpolationEndIndex(t,l,d))>-1)break}}catch(t){h.e(t)}finally{h.f()}u>-1&&p>-1&&this._reportError("Got interpolation (".concat(o).concat(l,") where expression was expected"),t,"at column ".concat(u," in"),r)}},{key:"_getInterpolationEndIndex",value:function _getInterpolationEndIndex(t,r,i){var a,o=(0,E.default)(this._forEachUnquotedChar(t,i));try{for(o.s();!(a=o.n()).done;){var l=a.value;if(t.startsWith(r,l))return l;if(t.startsWith("//",l))return t.indexOf(r,l)}}catch(t){o.e(t)}finally{o.f()}return-1}},{key:"_forEachUnquotedChar",value:w.mark((function _forEachUnquotedChar(t,r){var i,a,o,l;return w.wrap((function _forEachUnquotedChar$(u){for(;;)switch(u.prev=u.next){case 0:i=null,a=0,o=r;case 3:if(!(o<t.length)){u.next=16;break}if(l=t[o],!isQuote(t.charCodeAt(o))||null!==i&&i!==l||a%2!=0){u.next=9;break}i=null===i?l:null,u.next=12;break;case 9:if(null!==i){u.next=12;break}return u.next=12,o;case 12:a="\\"===l?a+1:0;case 13:o++,u.next=3;break;case 16:case"end":return u.stop()}}),_forEachUnquotedChar)}))}]),Parser$1}();!function(t){t[t.None=0]="None",t[t.Writable=1]="Writable"}(Ui||(Ui={}));var Zi=function(){function _ParseAST(t,r,i,a,o,l,u){(0,x.default)(this,_ParseAST),this.input=t,this.location=r,this.absoluteOffset=i,this.tokens=a,this.parseFlags=o,this.errors=l,this.offset=u,this.rparensExpected=0,this.rbracketsExpected=0,this.rbracesExpected=0,this.context=Ui.None,this.sourceSpanCache=new Map,this.index=0}return(0,_.default)(_ParseAST,[{key:"peek",value:function peek(t){var r=this.index+t;return r<this.tokens.length?this.tokens[r]:ji}},{key:"next",get:function get(){return this.peek(0)}},{key:"atEOF",get:function get(){return this.index>=this.tokens.length}},{key:"inputIndex",get:function get(){return this.atEOF?this.currentEndIndex:this.next.index+this.offset}},{key:"currentEndIndex",get:function get(){return this.index>0?this.peek(-1).end+this.offset:0===this.tokens.length?this.input.length+this.offset:this.next.index+this.offset}},{key:"currentAbsoluteOffset",get:function get(){return this.absoluteOffset+this.inputIndex}},{key:"span",value:function span(t,r){var i=this.currentEndIndex;if(void 0!==r&&r>this.currentEndIndex&&(i=r),t>i){var a=i;i=t,t=a}return new yr(t,i)}},{key:"sourceSpan",value:function sourceSpan(t,r){var i="".concat(t,"@").concat(this.inputIndex,":").concat(r);return this.sourceSpanCache.has(i)||this.sourceSpanCache.set(i,this.span(t,r).toAbsolute(this.absoluteOffset)),this.sourceSpanCache.get(i)}},{key:"advance",value:function advance(){this.index++}},{key:"withContext",value:function withContext(t,r){this.context|=t;var i=r();return this.context^=t,i}},{key:"consumeOptionalCharacter",value:function consumeOptionalCharacter(t){return!!this.next.isCharacter(t)&&(this.advance(),!0)}},{key:"peekKeywordLet",value:function peekKeywordLet(){return this.next.isKeywordLet()}},{key:"peekKeywordAs",value:function peekKeywordAs(){return this.next.isKeywordAs()}},{key:"expectCharacter",value:function expectCharacter(t){this.consumeOptionalCharacter(t)||this.error("Missing expected ".concat(String.fromCharCode(t)))}},{key:"consumeOptionalOperator",value:function consumeOptionalOperator(t){return!!this.next.isOperator(t)&&(this.advance(),!0)}},{key:"expectOperator",value:function expectOperator(t){this.consumeOptionalOperator(t)||this.error("Missing expected operator ".concat(t))}},{key:"prettyPrintToken",value:function prettyPrintToken(t){return t===ji?"end of input":"token ".concat(t)}},{key:"expectIdentifierOrKeyword",value:function expectIdentifierOrKeyword(){var t=this.next;return t.isIdentifier()||t.isKeyword()?(this.advance(),t.toString()):(t.isPrivateIdentifier()?this._reportErrorForPrivateIdentifier(t,"expected identifier or keyword"):this.error("Unexpected ".concat(this.prettyPrintToken(t),", expected identifier or keyword")),null)}},{key:"expectIdentifierOrKeywordOrString",value:function expectIdentifierOrKeywordOrString(){var t=this.next;return t.isIdentifier()||t.isKeyword()||t.isString()?(this.advance(),t.toString()):(t.isPrivateIdentifier()?this._reportErrorForPrivateIdentifier(t,"expected identifier, keyword or string"):this.error("Unexpected ".concat(this.prettyPrintToken(t),", expected identifier, keyword, or string")),"")}},{key:"parseChain",value:function parseChain(){for(var t=[],r=this.inputIndex;this.index<this.tokens.length;){var i=this.parsePipe();if(t.push(i),this.consumeOptionalCharacter(Kn))for(1&this.parseFlags||this.error("Binding expression cannot contain chained expression");this.consumeOptionalCharacter(Kn););else this.index<this.tokens.length&&this.error("Unexpected token '".concat(this.next,"'"))}if(0==t.length){var a=this.offset,o=this.offset+this.input.length;return new xr(this.span(a,o),this.sourceSpan(a,o))}return 1==t.length?t[0]:new wr(this.span(r),this.sourceSpan(r),t)}},{key:"parsePipe",value:function parsePipe(){var t=this.inputIndex,r=this.parseExpression();if(this.consumeOptionalOperator("|")){1&this.parseFlags&&this.error("Cannot have a pipe in an action expression");do{var i=this.inputIndex,a=this.expectIdentifierOrKeyword(),o=void 0,l=void 0;null!==a?o=this.sourceSpan(i):(a="",l=-1!==this.next.index?this.next.index:this.input.length+this.offset,o=new yr(l,l).toAbsolute(this.absoluteOffset));for(var u=[];this.consumeOptionalCharacter(zn);)u.push(this.parseExpression());r=new Mr(this.span(t),this.sourceSpan(t,l),r,a,u,o)}while(this.consumeOptionalOperator("|"))}return r}},{key:"parseExpression",value:function parseExpression(){return this.parseConditional()}},{key:"parseConditional",value:function parseConditional(){var t=this.inputIndex,r=this.parseLogicalOr();if(this.consumeOptionalOperator("?")){var i,a=this.parsePipe();if(this.consumeOptionalCharacter(zn))i=this.parsePipe();else{var o=this.inputIndex,l=this.input.substring(t,o);this.error("Conditional expression ".concat(l," requires all 3 expressions")),i=new xr(this.span(t),this.sourceSpan(t))}return new Tr(this.span(t),this.sourceSpan(t),r,a,i)}return r}},{key:"parseLogicalOr",value:function parseLogicalOr(){for(var t=this.inputIndex,r=this.parseLogicalAnd();this.consumeOptionalOperator("||");){var i=this.parseLogicalAnd();r=new Fr(this.span(t),this.sourceSpan(t),"||",r,i)}return r}},{key:"parseLogicalAnd",value:function parseLogicalAnd(){for(var t=this.inputIndex,r=this.parseNullishCoalescing();this.consumeOptionalOperator("&&");){var i=this.parseNullishCoalescing();r=new Fr(this.span(t),this.sourceSpan(t),"&&",r,i)}return r}},{key:"parseNullishCoalescing",value:function parseNullishCoalescing(){for(var t=this.inputIndex,r=this.parseEquality();this.consumeOptionalOperator("??");){var i=this.parseEquality();r=new Fr(this.span(t),this.sourceSpan(t),"??",r,i)}return r}},{key:"parseEquality",value:function parseEquality(){for(var t=this.inputIndex,r=this.parseRelational();this.next.type==Oi.Operator;){var i=this.next.strValue;switch(i){case"==":case"===":case"!=":case"!==":this.advance();var a=this.parseRelational();r=new Fr(this.span(t),this.sourceSpan(t),i,r,a);continue}break}return r}},{key:"parseRelational",value:function parseRelational(){for(var t=this.inputIndex,r=this.parseAdditive();this.next.type==Oi.Operator;){var i=this.next.strValue;switch(i){case"<":case">":case"<=":case">=":this.advance();var a=this.parseAdditive();r=new Fr(this.span(t),this.sourceSpan(t),i,r,a);continue}break}return r}},{key:"parseAdditive",value:function parseAdditive(){for(var t=this.inputIndex,r=this.parseMultiplicative();this.next.type==Oi.Operator;){var i=this.next.strValue;switch(i){case"+":case"-":this.advance();var a=this.parseMultiplicative();r=new Fr(this.span(t),this.sourceSpan(t),i,r,a);continue}break}return r}},{key:"parseMultiplicative",value:function parseMultiplicative(){for(var t=this.inputIndex,r=this.parsePrefix();this.next.type==Oi.Operator;){var i=this.next.strValue;switch(i){case"*":case"%":case"/":this.advance();var a=this.parsePrefix();r=new Fr(this.span(t),this.sourceSpan(t),i,r,a);continue}break}return r}},{key:"parsePrefix",value:function parsePrefix(){if(this.next.type==Oi.Operator){var t,r=this.inputIndex;switch(this.next.strValue){case"+":return this.advance(),t=this.parsePrefix(),Br.createPlus(this.span(r),this.sourceSpan(r),t);case"-":return this.advance(),t=this.parsePrefix(),Br.createMinus(this.span(r),this.sourceSpan(r),t);case"!":return this.advance(),t=this.parsePrefix(),new Vr(this.span(r),this.sourceSpan(r),t)}}return this.parseCallChain()}},{key:"parseCallChain",value:function parseCallChain(){for(var t=this.inputIndex,r=this.parsePrimary();;)if(this.consumeOptionalCharacter(Un))r=this.parseAccessMember(r,t,!1);else if(this.consumeOptionalOperator("?."))r=this.consumeOptionalCharacter(40)?this.parseCall(r,t,!0):this.consumeOptionalCharacter(91)?this.parseKeyedReadOrWrite(r,t,!0):this.parseAccessMember(r,t,!0);else if(this.consumeOptionalCharacter(91))r=this.parseKeyedReadOrWrite(r,t,!1);else if(this.consumeOptionalCharacter(40))r=this.parseCall(r,t,!1);else{if(!this.consumeOptionalOperator("!"))return r;r=new qr(this.span(t),this.sourceSpan(t),r)}}},{key:"parsePrimary",value:function parsePrimary(){var t=this.inputIndex;if(this.consumeOptionalCharacter(40)){this.rparensExpected++;var r=this.parsePipe();return this.rparensExpected--,this.expectCharacter(41),r}if(this.next.isKeywordNull())return this.advance(),new Lr(this.span(t),this.sourceSpan(t),null);if(this.next.isKeywordUndefined())return this.advance(),new Lr(this.span(t),this.sourceSpan(t),void 0);if(this.next.isKeywordTrue())return this.advance(),new Lr(this.span(t),this.sourceSpan(t),!0);if(this.next.isKeywordFalse())return this.advance(),new Lr(this.span(t),this.sourceSpan(t),!1);if(this.next.isKeywordThis())return this.advance(),new _r(this.span(t),this.sourceSpan(t));if(this.consumeOptionalCharacter(91)){this.rbracketsExpected++;var i=this.parseExpressionList(93);return this.rbracketsExpected--,this.expectCharacter(93),new Rr(this.span(t),this.sourceSpan(t),i)}if(this.next.isCharacter(Yn))return this.parseLiteralMap();if(this.next.isIdentifier())return this.parseAccessMember(new Sr(this.span(t),this.sourceSpan(t)),t,!1);if(this.next.isNumber()){var a=this.next.toNumber();return this.advance(),new Lr(this.span(t),this.sourceSpan(t),a)}if(this.next.isString()){var o=this.next.toString();return this.advance(),new Lr(this.span(t),this.sourceSpan(t),o)}return this.next.isPrivateIdentifier()?(this._reportErrorForPrivateIdentifier(this.next,null),new xr(this.span(t),this.sourceSpan(t))):this.index>=this.tokens.length?(this.error("Unexpected end of expression: ".concat(this.input)),new xr(this.span(t),this.sourceSpan(t))):(this.error("Unexpected token ".concat(this.next)),new xr(this.span(t),this.sourceSpan(t)))}},{key:"parseExpressionList",value:function parseExpressionList(t){var r=[];do{if(this.next.isCharacter(t))break;r.push(this.parsePipe())}while(this.consumeOptionalCharacter(Hn));return r}},{key:"parseLiteralMap",value:function parseLiteralMap(){var t=[],r=[],i=this.inputIndex;if(this.expectCharacter(Yn),!this.consumeOptionalCharacter(er)){this.rbracesExpected++;do{var a=this.inputIndex,o=this.next.isString(),l=this.expectIdentifierOrKeywordOrString();if(t.push({key:l,quoted:o}),o)this.expectCharacter(zn),r.push(this.parsePipe());else if(this.consumeOptionalCharacter(zn))r.push(this.parsePipe());else{var u=this.span(a),p=this.sourceSpan(a);r.push(new br(u,p,p,new Sr(u,p),l))}}while(this.consumeOptionalCharacter(Hn));this.rbracesExpected--,this.expectCharacter(er)}return new Dr(this.span(i),this.sourceSpan(i),t,r)}},{key:"parseAccessMember",value:function parseAccessMember(t,r,i){var a,o=this,l=this.inputIndex,u=this.withContext(Ui.Writable,(function(){var r,i=null!==(r=o.expectIdentifierOrKeyword())&&void 0!==r?r:"";return 0===i.length&&o.error("Expected identifier for property access",t.span.end),i})),p=this.sourceSpan(l);if(i)this.consumeOptionalAssignment()?(this.error("The '?.' operator cannot be used in the assignment"),a=new xr(this.span(r),this.sourceSpan(r))):a=new Ir(this.span(r),this.sourceSpan(r),p,t,u);else if(this.consumeOptionalAssignment()){if(!(1&this.parseFlags))return this.error("Bindings cannot contain assignments"),new xr(this.span(r),this.sourceSpan(r));var h=this.parseConditional();a=new Cr(this.span(r),this.sourceSpan(r),p,t,u,h)}else a=new br(this.span(r),this.sourceSpan(r),p,t,u);return a}},{key:"parseCall",value:function parseCall(t,r,i){var a=this.inputIndex;this.rparensExpected++;var o=this.parseCallArguments(),l=this.span(a,this.inputIndex).toAbsolute(this.absoluteOffset);this.expectCharacter(41),this.rparensExpected--;var u=this.span(r),p=this.sourceSpan(r);return i?new Hr(u,p,t,o,l):new jr(u,p,t,o,l)}},{key:"consumeOptionalAssignment",value:function consumeOptionalAssignment(){return 2&this.parseFlags&&this.next.isOperator("!")&&this.peek(1).isOperator("=")?(this.advance(),this.advance(),!0):this.consumeOptionalOperator("=")}},{key:"parseCallArguments",value:function parseCallArguments(){if(this.next.isCharacter(41))return[];var t=[];do{t.push(this.parsePipe())}while(this.consumeOptionalCharacter(Hn));return t}},{key:"expectTemplateBindingKey",value:function expectTemplateBindingKey(){var t="",r=!1,i=this.currentAbsoluteOffset;do{t+=this.expectIdentifierOrKeywordOrString(),(r=this.consumeOptionalOperator("-"))&&(t+="-")}while(r);return{source:t,span:new Ur(i,i+t.length)}}},{key:"parseTemplateBindings",value:function parseTemplateBindings(t){var r=[];for(r.push.apply(r,(0,k.default)(this.parseDirectiveKeywordBindings(t)));this.index<this.tokens.length;){var i=this.parseLetBinding();if(i)r.push(i);else{var a=this.expectTemplateBindingKey(),o=this.parseAsBinding(a);o?r.push(o):(a.source=t.source+a.source.charAt(0).toUpperCase()+a.source.substring(1),r.push.apply(r,(0,k.default)(this.parseDirectiveKeywordBindings(a))))}this.consumeStatementTerminator()}return new zi(r,[],this.errors)}},{key:"parseKeyedReadOrWrite",value:function parseKeyedReadOrWrite(t,r,i){var a=this;return this.withContext(Ui.Writable,(function(){a.rbracketsExpected++;var o=a.parsePipe();if(o instanceof xr&&a.error("Key access cannot be empty"),a.rbracketsExpected--,a.expectCharacter(93),!a.consumeOptionalOperator("="))return i?new Ar(a.span(r),a.sourceSpan(r),t,o):new Pr(a.span(r),a.sourceSpan(r),t,o);if(!i){var l=a.parseConditional();return new Nr(a.span(r),a.sourceSpan(r),t,o,l)}return a.error("The '?.' operator cannot be used in the assignment"),new xr(a.span(r),a.sourceSpan(r))}))}},{key:"parseDirectiveKeywordBindings",value:function parseDirectiveKeywordBindings(t){var r=[];this.consumeOptionalCharacter(zn);var i=this.getDirectiveBoundTarget(),a=this.currentAbsoluteOffset,o=this.parseAsBinding(t);o||(this.consumeStatementTerminator(),a=this.currentAbsoluteOffset);var l=new Ur(t.span.start,a);return r.push(new Kr(l,t,i)),o&&r.push(o),r}},{key:"getDirectiveBoundTarget",value:function getDirectiveBoundTarget(){if(this.next===ji||this.peekKeywordAs()||this.peekKeywordLet())return null;var t=this.parsePipe(),r=t.span,i=r.start,a=r.end,o=this.input.substring(i,a);return new Wr(t,o,this.location,this.absoluteOffset+i,this.errors)}},{key:"parseAsBinding",value:function parseAsBinding(t){if(!this.peekKeywordAs())return null;this.advance();var r=this.expectTemplateBindingKey();this.consumeStatementTerminator();var i=new Ur(t.span.start,this.currentAbsoluteOffset);return new zr(i,r,t)}},{key:"parseLetBinding",value:function parseLetBinding(){if(!this.peekKeywordLet())return null;var t=this.currentAbsoluteOffset;this.advance();var r=this.expectTemplateBindingKey(),i=null;this.consumeOptionalOperator("=")&&(i=this.expectTemplateBindingKey()),this.consumeStatementTerminator();var a=new Ur(t,this.currentAbsoluteOffset);return new zr(a,r,i)}},{key:"consumeStatementTerminator",value:function consumeStatementTerminator(){this.consumeOptionalCharacter(Kn)||this.consumeOptionalCharacter(Hn)}},{key:"error",value:function error(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.errors.push(new gr(t,this.input,this.locationText(r),this.location)),this.skip()}},{key:"locationText",value:function locationText(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null==t&&(t=this.index),t<this.tokens.length?"at column ".concat(this.tokens[t].index+1," in"):"at the end of the expression"}},{key:"_reportErrorForPrivateIdentifier",value:function _reportErrorForPrivateIdentifier(t,r){var i="Private identifiers are not supported. Unexpected private identifier: ".concat(t);null!==r&&(i+=", ".concat(r)),this.error(i)}},{key:"skip",value:function skip(){for(var t=this.next;!(!(this.index<this.tokens.length)||t.isCharacter(Kn)||t.isOperator("|")||!(this.rparensExpected<=0)&&t.isCharacter(41)||!(this.rbracesExpected<=0)&&t.isCharacter(er)||!(this.rbracketsExpected<=0)&&t.isCharacter(93)||this.context&Ui.Writable&&t.isOperator("="));)this.next.isError()&&this.errors.push(new gr(this.next.toString(),this.input,this.locationText(),this.location)),this.advance(),t=this.next}}]),_ParseAST}(),$i=function(t){(0,m.default)(SimpleExpressionChecker,t);var r=(0,y.default)(SimpleExpressionChecker);function SimpleExpressionChecker(){var t;return(0,x.default)(this,SimpleExpressionChecker),(t=r.apply(this,arguments)).errors=[],t}return(0,_.default)(SimpleExpressionChecker,[{key:"visitPipe",value:function visitPipe(){this.errors.push("pipes")}}]),SimpleExpressionChecker}(Zr);function getIndexMapForOriginalTemplate(t){for(var r=new Map,i=0,a=0,o=0;o<t.length;){var l=t[o];if(9===l.type){var u=(0,p.default)(l.parts,2),h=u[0];i+=u[1].length,a+=h.length}else{var d=l.parts.reduce((function(t,r){return t+r.length}),0);a+=d,i+=d}r.set(a,i),o++}return r}var Gi=(0,_.default)((function NodeWithI18n(t,r){(0,x.default)(this,NodeWithI18n),this.sourceSpan=t,this.i18n=r})),Xi=function(t){(0,m.default)(Text,t);var r=(0,y.default)(Text);function Text(t,i,a,o){var l;return(0,x.default)(this,Text),(l=r.call(this,i,o)).value=t,l.tokens=a,l}return(0,_.default)(Text,[{key:"visit",value:function visit(t,r){return t.visitText(this,r)}}]),Text}(Gi),Ji=function(t){(0,m.default)(Expansion,t);var r=(0,y.default)(Expansion);function Expansion(t,i,a,o,l,u){var p;return(0,x.default)(this,Expansion),(p=r.call(this,o,u)).switchValue=t,p.type=i,p.cases=a,p.switchValueSourceSpan=l,p}return(0,_.default)(Expansion,[{key:"visit",value:function visit(t,r){return t.visitExpansion(this,r)}}]),Expansion}(Gi),Qi=function(){function ExpansionCase(t,r,i,a,o){(0,x.default)(this,ExpansionCase),this.value=t,this.expression=r,this.sourceSpan=i,this.valueSourceSpan=a,this.expSourceSpan=o}return(0,_.default)(ExpansionCase,[{key:"visit",value:function visit(t,r){return t.visitExpansionCase(this,r)}}]),ExpansionCase}(),Yi=function(t){(0,m.default)(Attribute,t);var r=(0,y.default)(Attribute);function Attribute(t,i,a,o,l,u,p){var h;return(0,x.default)(this,Attribute),(h=r.call(this,a,p)).name=t,h.value=i,h.keySpan=o,h.valueSpan=l,h.valueTokens=u,h}return(0,_.default)(Attribute,[{key:"visit",value:function visit(t,r){return t.visitAttribute(this,r)}}]),Attribute}(Gi),ea=function(t){(0,m.default)(Element,t);var r=(0,y.default)(Element);function Element(t,i,a,o,l){var u,p=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,h=arguments.length>6?arguments[6]:void 0;return(0,x.default)(this,Element),(u=r.call(this,o,h)).name=t,u.attrs=i,u.children=a,u.startSourceSpan=l,u.endSourceSpan=p,u}return(0,_.default)(Element,[{key:"visit",value:function visit(t,r){return t.visitElement(this,r)}}]),Element}(Gi),na=function(){function Comment(t,r){(0,x.default)(this,Comment),this.value=t,this.sourceSpan=r}return(0,_.default)(Comment,[{key:"visit",value:function visit(t,r){return t.visitComment(this,r)}}]),Comment}();function visitAll(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=[],o=t.visit?function(r){return t.visit(r,i)||r.visit(t,i)}:function(r){return r.visit(t,i)};return r.forEach((function(t){var r=o(t);r&&a.push(r)})),a}var ra=function(){function RecursiveVisitor(){(0,x.default)(this,RecursiveVisitor)}return(0,_.default)(RecursiveVisitor,[{key:"visitElement",value:function visitElement(t,r){this.visitChildren(r,(function(r){r(t.attrs),r(t.children)}))}},{key:"visitAttribute",value:function visitAttribute(t,r){}},{key:"visitText",value:function visitText(t,r){}},{key:"visitComment",value:function visitComment(t,r){}},{key:"visitExpansion",value:function visitExpansion(t,r){return this.visitChildren(r,(function(r){r(t.cases)}))}},{key:"visitExpansionCase",value:function visitExpansionCase(t,r){}},{key:"visitChildren",value:function visitChildren(t,r){var i=[],a=this;return r((function visit(r){r&&i.push(visitAll(a,r,t))})),Array.prototype.concat.apply([],i)}}]),RecursiveVisitor}(),ia={AElig:"",AMP:"&",amp:"&",Aacute:"",Abreve:"",Acirc:"",Acy:"",Afr:"",Agrave:"",Alpha:"",Amacr:"",And:"",Aogon:"",Aopf:"",ApplyFunction:"",af:"",Aring:"",angst:"",Ascr:"",Assign:"",colone:"",coloneq:"",Atilde:"",Auml:"",Backslash:"",setminus:"",setmn:"",smallsetminus:"",ssetmn:"",Barv:"",Barwed:"",doublebarwedge:"",Bcy:"",Because:"",becaus:"",because:"",Bernoullis:"",Bscr:"",bernou:"",Beta:"",Bfr:"",Bopf:"",Breve:"",breve:"",Bumpeq:"",HumpDownHump:"",bump:"",CHcy:"",COPY:"",copy:"",Cacute:"",Cap:"",CapitalDifferentialD:"",DD:"",Cayleys:"",Cfr:"",Ccaron:"",Ccedil:"",Ccirc:"",Cconint:"",Cdot:"",Cedilla:"",cedil:"",CenterDot:"",centerdot:"",middot:"",Chi:"",CircleDot:"",odot:"",CircleMinus:"",ominus:"",CirclePlus:"",oplus:"",CircleTimes:"",otimes:"",ClockwiseContourIntegral:"",cwconint:"",CloseCurlyDoubleQuote:"",rdquo:"",rdquor:"",CloseCurlyQuote:"",rsquo:"",rsquor:"",Colon:"",Proportion:"",Colone:"",Congruent:"",equiv:"",Conint:"",DoubleContourIntegral:"",ContourIntegral:"",conint:"",oint:"",Copf:"",complexes:"",Coproduct:"",coprod:"",CounterClockwiseContourIntegral:"",awconint:"",Cross:"",Cscr:"",Cup:"",CupCap:"",asympeq:"",DDotrahd:"",DJcy:"",DScy:"",DZcy:"",Dagger:"",ddagger:"",Darr:"",Dashv:"",DoubleLeftTee:"",Dcaron:"",Dcy:"",Del:"",nabla:"",Delta:"",Dfr:"",DiacriticalAcute:"",acute:"",DiacriticalDot:"",dot:"",DiacriticalDoubleAcute:"",dblac:"",DiacriticalGrave:"`",grave:"`",DiacriticalTilde:"",tilde:"",Diamond:"",diam:"",diamond:"",DifferentialD:"",dd:"",Dopf:"",Dot:"",DoubleDot:"",die:"",uml:"",DotDot:"",DotEqual:"",doteq:"",esdot:"",DoubleDownArrow:"",Downarrow:"",dArr:"",DoubleLeftArrow:"",Leftarrow:"",lArr:"",DoubleLeftRightArrow:"",Leftrightarrow:"",hArr:"",iff:"",DoubleLongLeftArrow:"",Longleftarrow:"",xlArr:"",DoubleLongLeftRightArrow:"",Longleftrightarrow:"",xhArr:"",DoubleLongRightArrow:"",Longrightarrow:"",xrArr:"",DoubleRightArrow:"",Implies:"",Rightarrow:"",rArr:"",DoubleRightTee:"",vDash:"",DoubleUpArrow:"",Uparrow:"",uArr:"",DoubleUpDownArrow:"",Updownarrow:"",vArr:"",DoubleVerticalBar:"",par:"",parallel:"",shortparallel:"",spar:"",DownArrow:"",ShortDownArrow:"",darr:"",downarrow:"",DownArrowBar:"",DownArrowUpArrow:"",duarr:"",DownBreve:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVector:"",leftharpoondown:"",lhard:"",DownLeftVectorBar:"",DownRightTeeVector:"",DownRightVector:"",rhard:"",rightharpoondown:"",DownRightVectorBar:"",DownTee:"",top:"",DownTeeArrow:"",mapstodown:"",Dscr:"",Dstrok:"",ENG:"",ETH:"",Eacute:"",Ecaron:"",Ecirc:"",Ecy:"",Edot:"",Efr:"",Egrave:"",Element:"",in:"",isin:"",isinv:"",Emacr:"",EmptySmallSquare:"",EmptyVerySmallSquare:"",Eogon:"",Eopf:"",Epsilon:"",Equal:"",EqualTilde:"",eqsim:"",esim:"",Equilibrium:"",rightleftharpoons:"",rlhar:"",Escr:"",expectation:"",Esim:"",Eta:"",Euml:"",Exists:"",exist:"",ExponentialE:"",ee:"",exponentiale:"",Fcy:"",Ffr:"",FilledSmallSquare:"",FilledVerySmallSquare:"",blacksquare:"",squarf:"",squf:"",Fopf:"",ForAll:"",forall:"",Fouriertrf:"",Fscr:"",GJcy:"",GT:">",gt:">",Gamma:"",Gammad:"",Gbreve:"",Gcedil:"",Gcirc:"",Gcy:"",Gdot:"",Gfr:"",Gg:"",ggg:"",Gopf:"",GreaterEqual:"",ge:"",geq:"",GreaterEqualLess:"",gel:"",gtreqless:"",GreaterFullEqual:"",gE:"",geqq:"",GreaterGreater:"",GreaterLess:"",gl:"",gtrless:"",GreaterSlantEqual:"",geqslant:"",ges:"",GreaterTilde:"",gsim:"",gtrsim:"",Gscr:"",Gt:"",NestedGreaterGreater:"",gg:"",HARDcy:"",Hacek:"",caron:"",Hat:"^",Hcirc:"",Hfr:"",Poincareplane:"",HilbertSpace:"",Hscr:"",hamilt:"",Hopf:"",quaternions:"",HorizontalLine:"",boxh:"",Hstrok:"",HumpEqual:"",bumpe:"",bumpeq:"",IEcy:"",IJlig:"",IOcy:"",Iacute:"",Icirc:"",Icy:"",Idot:"",Ifr:"",Im:"",image:"",imagpart:"",Igrave:"",Imacr:"",ImaginaryI:"",ii:"",Int:"",Integral:"",int:"",Intersection:"",bigcap:"",xcap:"",InvisibleComma:"",ic:"",InvisibleTimes:"",it:"",Iogon:"",Iopf:"",Iota:"",Iscr:"",imagline:"",Itilde:"",Iukcy:"",Iuml:"",Jcirc:"",Jcy:"",Jfr:"",Jopf:"",Jscr:"",Jsercy:"",Jukcy:"",KHcy:"",KJcy:"",Kappa:"",Kcedil:"",Kcy:"",Kfr:"",Kopf:"",Kscr:"",LJcy:"",LT:"<",lt:"<",Lacute:"",Lambda:"",Lang:"",Laplacetrf:"",Lscr:"",lagran:"",Larr:"",twoheadleftarrow:"",Lcaron:"",Lcedil:"",Lcy:"",LeftAngleBracket:"",lang:"",langle:"",LeftArrow:"",ShortLeftArrow:"",larr:"",leftarrow:"",slarr:"",LeftArrowBar:"",larrb:"",LeftArrowRightArrow:"",leftrightarrows:"",lrarr:"",LeftCeiling:"",lceil:"",LeftDoubleBracket:"",lobrk:"",LeftDownTeeVector:"",LeftDownVector:"",dharl:"",downharpoonleft:"",LeftDownVectorBar:"",LeftFloor:"",lfloor:"",LeftRightArrow:"",harr:"",leftrightarrow:"",LeftRightVector:"",LeftTee:"",dashv:"",LeftTeeArrow:"",mapstoleft:"",LeftTeeVector:"",LeftTriangle:"",vartriangleleft:"",vltri:"",LeftTriangleBar:"",LeftTriangleEqual:"",ltrie:"",trianglelefteq:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVector:"",uharl:"",upharpoonleft:"",LeftUpVectorBar:"",LeftVector:"",leftharpoonup:"",lharu:"",LeftVectorBar:"",LessEqualGreater:"",leg:"",lesseqgtr:"",LessFullEqual:"",lE:"",leqq:"",LessGreater:"",lessgtr:"",lg:"",LessLess:"",LessSlantEqual:"",leqslant:"",les:"",LessTilde:"",lesssim:"",lsim:"",Lfr:"",Ll:"",Lleftarrow:"",lAarr:"",Lmidot:"",LongLeftArrow:"",longleftarrow:"",xlarr:"",LongLeftRightArrow:"",longleftrightarrow:"",xharr:"",LongRightArrow:"",longrightarrow:"",xrarr:"",Lopf:"",LowerLeftArrow:"",swarr:"",swarrow:"",LowerRightArrow:"",searr:"",searrow:"",Lsh:"",lsh:"",Lstrok:"",Lt:"",NestedLessLess:"",ll:"",Map:"",Mcy:"",MediumSpace:"",Mellintrf:"",Mscr:"",phmmat:"",Mfr:"",MinusPlus:"",mnplus:"",mp:"",Mopf:"",Mu:"",NJcy:"",Nacute:"",Ncaron:"",Ncedil:"",Ncy:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",ZeroWidthSpace:"",NewLine:"\n",Nfr:"",NoBreak:"",NonBreakingSpace:"",nbsp:"",Nopf:"",naturals:"",Not:"",NotCongruent:"",nequiv:"",NotCupCap:"",NotDoubleVerticalBar:"",npar:"",nparallel:"",nshortparallel:"",nspar:"",NotElement:"",notin:"",notinva:"",NotEqual:"",ne:"",NotEqualTilde:"",nesim:"",NotExists:"",nexist:"",nexists:"",NotGreater:"",ngt:"",ngtr:"",NotGreaterEqual:"",nge:"",ngeq:"",NotGreaterFullEqual:"",ngE:"",ngeqq:"",NotGreaterGreater:"",nGtv:"",NotGreaterLess:"",ntgl:"",NotGreaterSlantEqual:"",ngeqslant:"",nges:"",NotGreaterTilde:"",ngsim:"",NotHumpDownHump:"",nbump:"",NotHumpEqual:"",nbumpe:"",NotLeftTriangle:"",nltri:"",ntriangleleft:"",NotLeftTriangleBar:"",NotLeftTriangleEqual:"",nltrie:"",ntrianglelefteq:"",NotLess:"",nless:"",nlt:"",NotLessEqual:"",nle:"",nleq:"",NotLessGreater:"",ntlg:"",NotLessLess:"",nLtv:"",NotLessSlantEqual:"",nleqslant:"",nles:"",NotLessTilde:"",nlsim:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",NotPrecedes:"",npr:"",nprec:"",NotPrecedesEqual:"",npre:"",npreceq:"",NotPrecedesSlantEqual:"",nprcue:"",NotReverseElement:"",notni:"",notniva:"",NotRightTriangle:"",nrtri:"",ntriangleright:"",NotRightTriangleBar:"",NotRightTriangleEqual:"",nrtrie:"",ntrianglerighteq:"",NotSquareSubset:"",NotSquareSubsetEqual:"",nsqsube:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",nsqsupe:"",NotSubset:"",nsubset:"",vnsub:"",NotSubsetEqual:"",nsube:"",nsubseteq:"",NotSucceeds:"",nsc:"",nsucc:"",NotSucceedsEqual:"",nsce:"",nsucceq:"",NotSucceedsSlantEqual:"",nsccue:"",NotSucceedsTilde:"",NotSuperset:"",nsupset:"",vnsup:"",NotSupersetEqual:"",nsupe:"",nsupseteq:"",NotTilde:"",nsim:"",NotTildeEqual:"",nsime:"",nsimeq:"",NotTildeFullEqual:"",ncong:"",NotTildeTilde:"",nap:"",napprox:"",NotVerticalBar:"",nmid:"",nshortmid:"",nsmid:"",Nscr:"",Ntilde:"",Nu:"",OElig:"",Oacute:"",Ocirc:"",Ocy:"",Odblac:"",Ofr:"",Ograve:"",Omacr:"",Omega:"",ohm:"",Omicron:"",Oopf:"",OpenCurlyDoubleQuote:"",ldquo:"",OpenCurlyQuote:"",lsquo:"",Or:"",Oscr:"",Oslash:"",Otilde:"",Otimes:"",Ouml:"",OverBar:"",oline:"",OverBrace:"",OverBracket:"",tbrk:"",OverParenthesis:"",PartialD:"",part:"",Pcy:"",Pfr:"",Phi:"",Pi:"",PlusMinus:"",plusmn:"",pm:"",Popf:"",primes:"",Pr:"",Precedes:"",pr:"",prec:"",PrecedesEqual:"",pre:"",preceq:"",PrecedesSlantEqual:"",prcue:"",preccurlyeq:"",PrecedesTilde:"",precsim:"",prsim:"",Prime:"",Product:"",prod:"",Proportional:"",prop:"",propto:"",varpropto:"",vprop:"",Pscr:"",Psi:"",QUOT:'"',quot:'"',Qfr:"",Qopf:"",rationals:"",Qscr:"",RBarr:"",drbkarow:"",REG:"",circledR:"",reg:"",Racute:"",Rang:"",Rarr:"",twoheadrightarrow:"",Rarrtl:"",Rcaron:"",Rcedil:"",Rcy:"",Re:"",Rfr:"",real:"",realpart:"",ReverseElement:"",SuchThat:"",ni:"",niv:"",ReverseEquilibrium:"",leftrightharpoons:"",lrhar:"",ReverseUpEquilibrium:"",duhar:"",Rho:"",RightAngleBracket:"",rang:"",rangle:"",RightArrow:"",ShortRightArrow:"",rarr:"",rightarrow:"",srarr:"",RightArrowBar:"",rarrb:"",RightArrowLeftArrow:"",rightleftarrows:"",rlarr:"",RightCeiling:"",rceil:"",RightDoubleBracket:"",robrk:"",RightDownTeeVector:"",RightDownVector:"",dharr:"",downharpoonright:"",RightDownVectorBar:"",RightFloor:"",rfloor:"",RightTee:"",vdash:"",RightTeeArrow:"",map:"",mapsto:"",RightTeeVector:"",RightTriangle:"",vartriangleright:"",vrtri:"",RightTriangleBar:"",RightTriangleEqual:"",rtrie:"",trianglerighteq:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVector:"",uharr:"",upharpoonright:"",RightUpVectorBar:"",RightVector:"",rharu:"",rightharpoonup:"",RightVectorBar:"",Ropf:"",reals:"",RoundImplies:"",Rrightarrow:"",rAarr:"",Rscr:"",realine:"",Rsh:"",rsh:"",RuleDelayed:"",SHCHcy:"",SHcy:"",SOFTcy:"",Sacute:"",Sc:"",Scaron:"",Scedil:"",Scirc:"",Scy:"",Sfr:"",ShortUpArrow:"",UpArrow:"",uarr:"",uparrow:"",Sigma:"",SmallCircle:"",compfn:"",Sopf:"",Sqrt:"",radic:"",Square:"",squ:"",square:"",SquareIntersection:"",sqcap:"",SquareSubset:"",sqsub:"",sqsubset:"",SquareSubsetEqual:"",sqsube:"",sqsubseteq:"",SquareSuperset:"",sqsup:"",sqsupset:"",SquareSupersetEqual:"",sqsupe:"",sqsupseteq:"",SquareUnion:"",sqcup:"",Sscr:"",Star:"",sstarf:"",Sub:"",Subset:"",SubsetEqual:"",sube:"",subseteq:"",Succeeds:"",sc:"",succ:"",SucceedsEqual:"",sce:"",succeq:"",SucceedsSlantEqual:"",sccue:"",succcurlyeq:"",SucceedsTilde:"",scsim:"",succsim:"",Sum:"",sum:"",Sup:"",Supset:"",Superset:"",sup:"",supset:"",SupersetEqual:"",supe:"",supseteq:"",THORN:"",TRADE:"",trade:"",TSHcy:"",TScy:"",Tab:"\t",Tau:"",Tcaron:"",Tcedil:"",Tcy:"",Tfr:"",Therefore:"",there4:"",therefore:"",Theta:"",ThickSpace:"",ThinSpace:"",thinsp:"",Tilde:"",sim:"",thicksim:"",thksim:"",TildeEqual:"",sime:"",simeq:"",TildeFullEqual:"",cong:"",TildeTilde:"",ap:"",approx:"",asymp:"",thickapprox:"",thkap:"",Topf:"",TripleDot:"",tdot:"",Tscr:"",Tstrok:"",Uacute:"",Uarr:"",Uarrocir:"",Ubrcy:"",Ubreve:"",Ucirc:"",Ucy:"",Udblac:"",Ufr:"",Ugrave:"",Umacr:"",UnderBar:"_",lowbar:"_",UnderBrace:"",UnderBracket:"",bbrk:"",UnderParenthesis:"",Union:"",bigcup:"",xcup:"",UnionPlus:"",uplus:"",Uogon:"",Uopf:"",UpArrowBar:"",UpArrowDownArrow:"",udarr:"",UpDownArrow:"",updownarrow:"",varr:"",UpEquilibrium:"",udhar:"",UpTee:"",bot:"",bottom:"",perp:"",UpTeeArrow:"",mapstoup:"",UpperLeftArrow:"",nwarr:"",nwarrow:"",UpperRightArrow:"",nearr:"",nearrow:"",Upsi:"",upsih:"",Upsilon:"",Uring:"",Uscr:"",Utilde:"",Uuml:"",VDash:"",Vbar:"",Vcy:"",Vdash:"",Vdashl:"",Vee:"",bigvee:"",xvee:"",Verbar:"",Vert:"",VerticalBar:"",mid:"",shortmid:"",smid:"",VerticalLine:"|",verbar:"|",vert:"|",VerticalSeparator:"",VerticalTilde:"",wr:"",wreath:"",VeryThinSpace:"",hairsp:"",Vfr:"",Vopf:"",Vscr:"",Vvdash:"",Wcirc:"",Wedge:"",bigwedge:"",xwedge:"",Wfr:"",Wopf:"",Wscr:"",Xfr:"",Xi:"",Xopf:"",Xscr:"",YAcy:"",YIcy:"",YUcy:"",Yacute:"",Ycirc:"",Ycy:"",Yfr:"",Yopf:"",Yscr:"",Yuml:"",ZHcy:"",Zacute:"",Zcaron:"",Zcy:"",Zdot:"",Zeta:"",Zfr:"",zeetrf:"",Zopf:"",integers:"",Zscr:"",aacute:"",abreve:"",ac:"",mstpos:"",acE:"",acd:"",acirc:"",acy:"",aelig:"",afr:"",agrave:"",alefsym:"",aleph:"",alpha:"",amacr:"",amalg:"",and:"",wedge:"",andand:"",andd:"",andslope:"",andv:"",ang:"",angle:"",ange:"",angmsd:"",measuredangle:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angzarr:"",aogon:"",aopf:"",apE:"",apacir:"",ape:"",approxeq:"",apid:"",apos:"'",aring:"",ascr:"",ast:"*",midast:"*",atilde:"",auml:"",awint:"",bNot:"",backcong:"",bcong:"",backepsilon:"",bepsi:"",backprime:"",bprime:"",backsim:"",bsim:"",backsimeq:"",bsime:"",barvee:"",barwed:"",barwedge:"",bbrktbrk:"",bcy:"",bdquo:"",ldquor:"",bemptyv:"",beta:"",beth:"",between:"",twixt:"",bfr:"",bigcirc:"",xcirc:"",bigodot:"",xodot:"",bigoplus:"",xoplus:"",bigotimes:"",xotime:"",bigsqcup:"",xsqcup:"",bigstar:"",starf:"",bigtriangledown:"",xdtri:"",bigtriangleup:"",xutri:"",biguplus:"",xuplus:"",bkarow:"",rbarr:"",blacklozenge:"",lozf:"",blacktriangle:"",utrif:"",blacktriangledown:"",dtrif:"",blacktriangleleft:"",ltrif:"",blacktriangleright:"",rtrif:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bnot:"",bopf:"",bowtie:"",boxDL:"",boxDR:"",boxDl:"",boxDr:"",boxH:"",boxHD:"",boxHU:"",boxHd:"",boxHu:"",boxUL:"",boxUR:"",boxUl:"",boxUr:"",boxV:"",boxVH:"",boxVL:"",boxVR:"",boxVh:"",boxVl:"",boxVr:"",boxbox:"",boxdL:"",boxdR:"",boxdl:"",boxdr:"",boxhD:"",boxhU:"",boxhd:"",boxhu:"",boxminus:"",minusb:"",boxplus:"",plusb:"",boxtimes:"",timesb:"",boxuL:"",boxuR:"",boxul:"",boxur:"",boxv:"",boxvH:"",boxvL:"",boxvR:"",boxvh:"",boxvl:"",boxvr:"",brvbar:"",bscr:"",bsemi:"",bsol:"\\",bsolb:"",bsolhsub:"",bull:"",bullet:"",bumpE:"",cacute:"",cap:"",capand:"",capbrcup:"",capcap:"",capcup:"",capdot:"",caps:"",caret:"",ccaps:"",ccaron:"",ccedil:"",ccirc:"",ccups:"",ccupssm:"",cdot:"",cemptyv:"",cent:"",cfr:"",chcy:"",check:"",checkmark:"",chi:"",cir:"",cirE:"",circ:"",circeq:"",cire:"",circlearrowleft:"",olarr:"",circlearrowright:"",orarr:"",circledS:"",oS:"",circledast:"",oast:"",circledcirc:"",ocir:"",circleddash:"",odash:"",cirfnint:"",cirmid:"",cirscir:"",clubs:"",clubsuit:"",colon:":",comma:",",commat:"@",comp:"",complement:"",congdot:"",copf:"",copysr:"",crarr:"",cross:"",cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",curlyeqprec:"",cuesc:"",curlyeqsucc:"",cularr:"",curvearrowleft:"",cularrp:"",cup:"",cupbrcap:"",cupcap:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curvearrowright:"",curarrm:"",curlyvee:"",cuvee:"",curlywedge:"",cuwed:"",curren:"",cwint:"",cylcty:"",dHar:"",dagger:"",daleth:"",dash:"",hyphen:"",dbkarow:"",rBarr:"",dcaron:"",dcy:"",ddarr:"",downdownarrows:"",ddotseq:"",eDDot:"",deg:"",delta:"",demptyv:"",dfisht:"",dfr:"",diamondsuit:"",diams:"",digamma:"",gammad:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",djcy:"",dlcorn:"",llcorner:"",dlcrop:"",dollar:"$",dopf:"",doteqdot:"",eDot:"",dotminus:"",minusd:"",dotplus:"",plusdo:"",dotsquare:"",sdotb:"",drcorn:"",lrcorner:"",drcrop:"",dscr:"",dscy:"",dsol:"",dstrok:"",dtdot:"",dtri:"",triangledown:"",dwangle:"",dzcy:"",dzigrarr:"",eacute:"",easter:"",ecaron:"",ecir:"",eqcirc:"",ecirc:"",ecolon:"",eqcolon:"",ecy:"",edot:"",efDot:"",fallingdotseq:"",efr:"",eg:"",egrave:"",egs:"",eqslantgtr:"",egsdot:"",el:"",elinters:"",ell:"",els:"",eqslantless:"",elsdot:"",emacr:"",empty:"",emptyset:"",emptyv:"",varnothing:"",emsp13:"",emsp14:"",emsp:"",eng:"",ensp:"",eogon:"",eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",epsilon:"",epsiv:"",straightepsilon:"",varepsilon:"",equals:"=",equest:"",questeq:"",equivDD:"",eqvparsl:"",erDot:"",risingdotseq:"",erarr:"",escr:"",eta:"",eth:"",euml:"",euro:"",excl:"!",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",ffr:"",filig:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",fopf:"",fork:"",pitchfork:"",forkv:"",fpartint:"",frac12:"",half:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",sfrown:"",fscr:"",gEl:"",gtreqqless:"",gacute:"",gamma:"",gap:"",gtrapprox:"",gbreve:"",gcirc:"",gcy:"",gdot:"",gescc:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",gfr:"",gimel:"",gjcy:"",glE:"",gla:"",glj:"",gnE:"",gneqq:"",gnap:"",gnapprox:"",gne:"",gneq:"",gnsim:"",gopf:"",gscr:"",gsime:"",gsiml:"",gtcc:"",gtcir:"",gtdot:"",gtrdot:"",gtlPar:"",gtquest:"",gtrarr:"",gvertneqq:"",gvnE:"",hardcy:"",harrcir:"",harrw:"",leftrightsquigarrow:"",hbar:"",hslash:"",planck:"",plankv:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",mldr:"",hercon:"",hfr:"",hksearow:"",searhk:"",hkswarow:"",swarhk:"",hoarr:"",homtht:"",hookleftarrow:"",larrhk:"",hookrightarrow:"",rarrhk:"",hopf:"",horbar:"",hscr:"",hstrok:"",hybull:"",iacute:"",icirc:"",icy:"",iecy:"",iexcl:"",ifr:"",igrave:"",iiiint:"",qint:"",iiint:"",tint:"",iinfin:"",iiota:"",ijlig:"",imacr:"",imath:"",inodot:"",imof:"",imped:"",incare:"",infin:"",infintie:"",intcal:"",intercal:"",intlarhk:"",intprod:"",iprod:"",iocy:"",iogon:"",iopf:"",iota:"",iquest:"",iscr:"",isinE:"",isindot:"",isins:"",isinsv:"",itilde:"",iukcy:"",iuml:"",jcirc:"",jcy:"",jfr:"",jmath:"",jopf:"",jscr:"",jsercy:"",jukcy:"",kappa:"",kappav:"",varkappa:"",kcedil:"",kcy:"",kfr:"",kgreen:"",khcy:"",kjcy:"",kopf:"",kscr:"",lAtail:"",lBarr:"",lEg:"",lesseqqgtr:"",lHar:"",lacute:"",laemptyv:"",lambda:"",langd:"",lap:"",lessapprox:"",laquo:"",larrbfs:"",larrfs:"",larrlp:"",looparrowleft:"",larrpl:"",larrsim:"",larrtl:"",leftarrowtail:"",lat:"",latail:"",late:"",lates:"",lbarr:"",lbbrk:"",lbrace:"{",lcub:"{",lbrack:"[",lsqb:"[",lbrke:"",lbrksld:"",lbrkslu:"",lcaron:"",lcedil:"",lcy:"",ldca:"",ldrdhar:"",ldrushar:"",ldsh:"",le:"",leq:"",leftleftarrows:"",llarr:"",leftthreetimes:"",lthree:"",lescc:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessdot:"",ltdot:"",lfisht:"",lfr:"",lgE:"",lharul:"",lhblk:"",ljcy:"",llhard:"",lltri:"",lmidot:"",lmoust:"",lmoustache:"",lnE:"",lneqq:"",lnap:"",lnapprox:"",lne:"",lneq:"",lnsim:"",loang:"",loarr:"",longmapsto:"",xmap:"",looparrowright:"",rarrlp:"",lopar:"",lopf:"",loplus:"",lotimes:"",lowast:"",loz:"",lozenge:"",lpar:"(",lparlt:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",lscr:"",lsime:"",lsimg:"",lsquor:"",sbquo:"",lstrok:"",ltcc:"",ltcir:"",ltimes:"",ltlarr:"",ltquest:"",ltrPar:"",ltri:"",triangleleft:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",mDDot:"",macr:"",strns:"",male:"",malt:"",maltese:"",marker:"",mcomma:"",mcy:"",mdash:"",mfr:"",mho:"",micro:"",midcir:"",minus:"",minusdu:"",mlcp:"",models:"",mopf:"",mscr:"",mu:"",multimap:"",mumap:"",nGg:"",nGt:"",nLeftarrow:"",nlArr:"",nLeftrightarrow:"",nhArr:"",nLl:"",nLt:"",nRightarrow:"",nrArr:"",nVDash:"",nVdash:"",nacute:"",nang:"",napE:"",napid:"",napos:"",natur:"",natural:"",ncap:"",ncaron:"",ncedil:"",ncongdot:"",ncup:"",ncy:"",ndash:"",neArr:"",nearhk:"",nedot:"",nesear:"",toea:"",nfr:"",nharr:"",nleftrightarrow:"",nhpar:"",nis:"",nisd:"",njcy:"",nlE:"",nleqq:"",nlarr:"",nleftarrow:"",nldr:"",nopf:"",not:"",notinE:"",notindot:"",notinvb:"",notinvc:"",notnivb:"",notnivc:"",nparsl:"",npart:"",npolint:"",nrarr:"",nrightarrow:"",nrarrc:"",nrarrw:"",nscr:"",nsub:"",nsubE:"",nsubseteqq:"",nsup:"",nsupE:"",nsupseteqq:"",ntilde:"",nu:"",num:"#",numero:"",numsp:"",nvDash:"",nvHarr:"",nvap:"",nvdash:"",nvge:"",nvgt:">",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwArr:"",nwarhk:"",nwnear:"",oacute:"",ocirc:"",ocy:"",odblac:"",odiv:"",odsold:"",oelig:"",ofcir:"",ofr:"",ogon:"",ograve:"",ogt:"",ohbar:"",olcir:"",olcross:"",olt:"",omacr:"",omega:"",omicron:"",omid:"",oopf:"",opar:"",operp:"",or:"",vee:"",ord:"",order:"",orderof:"",oscr:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oslash:"",osol:"",otilde:"",otimesas:"",ouml:"",ovbar:"",para:"",parsim:"",parsl:"",pcy:"",percnt:"%",period:".",permil:"",pertenk:"",pfr:"",phi:"",phiv:"",straightphi:"",varphi:"",phone:"",pi:"",piv:"",varpi:"",planckh:"",plus:"+",plusacir:"",pluscir:"",plusdu:"",pluse:"",plussim:"",plustwo:"",pointint:"",popf:"",pound:"",prE:"",prap:"",precapprox:"",precnapprox:"",prnap:"",precneqq:"",prnE:"",precnsim:"",prnsim:"",prime:"",profalar:"",profline:"",profsurf:"",prurel:"",pscr:"",psi:"",puncsp:"",qfr:"",qopf:"",qprime:"",qscr:"",quatint:"",quest:"?",rAtail:"",rHar:"",race:"",racute:"",raemptyv:"",rangd:"",range:"",raquo:"",rarrap:"",rarrbfs:"",rarrc:"",rarrfs:"",rarrpl:"",rarrsim:"",rarrtl:"",rightarrowtail:"",rarrw:"",rightsquigarrow:"",ratail:"",ratio:"",rbbrk:"",rbrace:"}",rcub:"}",rbrack:"]",rsqb:"]",rbrke:"",rbrksld:"",rbrkslu:"",rcaron:"",rcedil:"",rcy:"",rdca:"",rdldhar:"",rdsh:"",rect:"",rfisht:"",rfr:"",rharul:"",rho:"",rhov:"",varrho:"",rightrightarrows:"",rrarr:"",rightthreetimes:"",rthree:"",ring:"",rlm:"",rmoust:"",rmoustache:"",rnmid:"",roang:"",roarr:"",ropar:"",ropf:"",roplus:"",rotimes:"",rpar:")",rpargt:"",rppolint:"",rsaquo:"",rscr:"",rtimes:"",rtri:"",triangleright:"",rtriltri:"",ruluhar:"",rx:"",sacute:"",scE:"",scap:"",succapprox:"",scaron:"",scedil:"",scirc:"",scnE:"",succneqq:"",scnap:"",succnapprox:"",scnsim:"",succnsim:"",scpolint:"",scy:"",sdot:"",sdote:"",seArr:"",sect:"",semi:";",seswar:"",tosa:"",sext:"",sfr:"",sharp:"",shchcy:"",shcy:"",shy:"",sigma:"",sigmaf:"",sigmav:"",varsigma:"",simdot:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",smashp:"",smeparsl:"",smile:"",ssmile:"",smt:"",smte:"",smtes:"",softcy:"",sol:"/",solb:"",solbar:"",sopf:"",spades:"",spadesuit:"",sqcaps:"",sqcups:"",sscr:"",star:"",sub:"",subset:"",subE:"",subseteqq:"",subdot:"",subedot:"",submult:"",subnE:"",subsetneqq:"",subne:"",subsetneq:"",subplus:"",subrarr:"",subsim:"",subsub:"",subsup:"",sung:"",sup1:"",sup2:"",sup3:"",supE:"",supseteqq:"",supdot:"",supdsub:"",supedot:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supsetneqq:"",supne:"",supsetneq:"",supplus:"",supsim:"",supsub:"",supsup:"",swArr:"",swnwar:"",szlig:"",target:"",tau:"",tcaron:"",tcedil:"",tcy:"",telrec:"",tfr:"",theta:"",thetasym:"",thetav:"",vartheta:"",thorn:"",times:"",timesbar:"",timesd:"",topbot:"",topcir:"",topf:"",topfork:"",tprime:"",triangle:"",utri:"",triangleq:"",trie:"",tridot:"",triminus:"",triplus:"",trisb:"",tritime:"",trpezium:"",tscr:"",tscy:"",tshcy:"",tstrok:"",uHar:"",uacute:"",ubrcy:"",ubreve:"",ucirc:"",ucy:"",udblac:"",ufisht:"",ufr:"",ugrave:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",umacr:"",uogon:"",uopf:"",upsi:"",upsilon:"",upuparrows:"",uuarr:"",urcorn:"",urcorner:"",urcrop:"",uring:"",urtri:"",uscr:"",utdot:"",utilde:"",uuml:"",uwangle:"",vBar:"",vBarv:"",vangrt:"",varsubsetneq:"",vsubne:"",varsubsetneqq:"",vsubnE:"",varsupsetneq:"",vsupne:"",varsupsetneqq:"",vsupnE:"",vcy:"",veebar:"",veeeq:"",vellip:"",vfr:"",vopf:"",vscr:"",vzigzag:"",wcirc:"",wedbar:"",wedgeq:"",weierp:"",wp:"",wfr:"",wopf:"",wscr:"",xfr:"",xi:"",xnis:"",xopf:"",xscr:"",yacute:"",yacy:"",ycirc:"",ycy:"",yen:"",yfr:"",yicy:"",yopf:"",yscr:"",yucy:"",yuml:"",zacute:"",zcaron:"",zcy:"",zdot:"",zeta:"",zfr:"",zhcy:"",zigrarr:"",zopf:"",zscr:"",zwj:"",zwnj:""};ia.ngsp="";var aa=function(t){(0,m.default)(TokenError,t);var r=(0,y.default)(TokenError);function TokenError(t,i,a){var o;return(0,x.default)(this,TokenError),(o=r.call(this,a,t)).tokenType=i,o}return(0,_.default)(TokenError)}(ar),oa=(0,_.default)((function TokenizeResult(t,r,i){(0,x.default)(this,TokenizeResult),this.tokens=t,this.errors=r,this.nonNormalizedIcuExpressions=i}));var la,ca=/\r\n?/g;function _unexpectedCharacterErrorMsg(t){var r=0===t?"EOF":String.fromCharCode(t);return'Unexpected character "'.concat(r,'"')}function _unknownEntityErrorMsg(t){return'Unknown entity "'.concat(t,'" - use the "&#<decimal>;" or  "&#x<hex>;" syntax')}!function(t){t.HEX="hexadecimal",t.DEC="decimal"}(la||(la={}));var pa=(0,_.default)((function _ControlFlowError(t){(0,x.default)(this,_ControlFlowError),this.error=t})),ha=function(){function _Tokenizer(t,r,i){(0,x.default)(this,_Tokenizer),this._getTagDefinition=r,this._currentTokenStart=null,this._currentTokenType=null,this._expansionCaseStack=[],this._inInterpolation=!1,this.tokens=[],this.errors=[],this.nonNormalizedIcuExpressions=[],this._tokenizeIcu=i.tokenizeExpansionForms||!1,this._interpolationConfig=i.interpolationConfig||qn,this._leadingTriviaCodePoints=i.leadingTriviaChars&&i.leadingTriviaChars.map((function(t){return t.codePointAt(0)||0}));var a=i.range||{endPos:t.content.length,startPos:0,startLine:0,startCol:0};this._cursor=i.escapedString?new da(t,a):new fa(t,a),this._preserveLineEndings=i.preserveLineEndings||!1,this._escapedString=i.escapedString||!1,this._i18nNormalizeLineEndingsInICUs=i.i18nNormalizeLineEndingsInICUs||!1;try{this._cursor.init()}catch(t){this.handleError(t)}}return(0,_.default)(_Tokenizer,[{key:"_processCarriageReturns",value:function _processCarriageReturns(t){return this._preserveLineEndings?t:t.replace(ca,"\n")}},{key:"tokenize",value:function tokenize(){for(var t=this;0!==this._cursor.peek();){var r=this._cursor.clone();try{this._attemptCharCode(Zn)?this._attemptCharCode(33)?this._attemptCharCode(91)?this._consumeCdata(r):this._attemptCharCode(45)?this._consumeComment(r):this._consumeDocType(r):this._attemptCharCode(Wn)?this._consumeTagClose(r):this._consumeTagOpen(r):this._tokenizeIcu&&this._tokenizeExpansionForm()||this._consumeWithInterpolation(5,8,(function(){return t._isTextEnd()}),(function(){return t._isTagStart()}))}catch(t){this.handleError(t)}}this._beginToken(24),this._endToken([])}},{key:"_tokenizeExpansionForm",value:function _tokenizeExpansionForm(){if(this.isExpansionFormStart())return this._consumeExpansionFormStart(),!0;if(function isExpansionCaseStart(t){return t!==er}(this._cursor.peek())&&this._isInExpansionForm())return this._consumeExpansionCaseStart(),!0;if(this._cursor.peek()===er){if(this._isInExpansionCase())return this._consumeExpansionCaseEnd(),!0;if(this._isInExpansionForm())return this._consumeExpansionFormEnd(),!0}return!1}},{key:"_beginToken",value:function _beginToken(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._cursor.clone();this._currentTokenStart=r,this._currentTokenType=t}},{key:"_endToken",value:function _endToken(t,r){if(null===this._currentTokenStart)throw new aa("Programming error - attempted to end a token when there was no start to the token",this._currentTokenType,this._cursor.getSpan(r));if(null===this._currentTokenType)throw new aa("Programming error - attempted to end a token which has no token type",null,this._cursor.getSpan(this._currentTokenStart));var i={type:this._currentTokenType,parts:t,sourceSpan:(null!=r?r:this._cursor).getSpan(this._currentTokenStart,this._leadingTriviaCodePoints)};return this.tokens.push(i),this._currentTokenStart=null,this._currentTokenType=null,i}},{key:"_createError",value:function _createError(t,r){this._isInExpansionForm()&&(t+=' (Do you have an unescaped "{" in your template? Use "{{ \'{\' }}") to escape it.)');var i=new aa(t,this._currentTokenType,r);return this._currentTokenStart=null,this._currentTokenType=null,new pa(i)}},{key:"handleError",value:function handleError(t){if(t instanceof ma&&(t=this._createError(t.msg,this._cursor.getSpan(t.cursor))),!(t instanceof pa))throw t;this.errors.push(t.error)}},{key:"_attemptCharCode",value:function _attemptCharCode(t){return this._cursor.peek()===t&&(this._cursor.advance(),!0)}},{key:"_attemptCharCodeCaseInsensitive",value:function _attemptCharCodeCaseInsensitive(t){return!!function compareCharCodeCaseInsensitive(t,r){return toUpperCaseCharCode(t)===toUpperCaseCharCode(r)}(this._cursor.peek(),t)&&(this._cursor.advance(),!0)}},{key:"_requireCharCode",value:function _requireCharCode(t){var r=this._cursor.clone();if(!this._attemptCharCode(t))throw this._createError(_unexpectedCharacterErrorMsg(this._cursor.peek()),this._cursor.getSpan(r))}},{key:"_attemptStr",value:function _attemptStr(t){var r=t.length;if(this._cursor.charsLeft()<r)return!1;for(var i=this._cursor.clone(),a=0;a<r;a++)if(!this._attemptCharCode(t.charCodeAt(a)))return this._cursor=i,!1;return!0}},{key:"_attemptStrCaseInsensitive",value:function _attemptStrCaseInsensitive(t){for(var r=0;r<t.length;r++)if(!this._attemptCharCodeCaseInsensitive(t.charCodeAt(r)))return!1;return!0}},{key:"_requireStr",value:function _requireStr(t){var r=this._cursor.clone();if(!this._attemptStr(t))throw this._createError(_unexpectedCharacterErrorMsg(this._cursor.peek()),this._cursor.getSpan(r))}},{key:"_attemptCharCodeUntilFn",value:function _attemptCharCodeUntilFn(t){for(;!t(this._cursor.peek());)this._cursor.advance()}},{key:"_requireCharCodeUntilFn",value:function _requireCharCodeUntilFn(t,r){var i=this._cursor.clone();if(this._attemptCharCodeUntilFn(t),this._cursor.diff(i)<r)throw this._createError(_unexpectedCharacterErrorMsg(this._cursor.peek()),this._cursor.getSpan(i))}},{key:"_attemptUntilChar",value:function _attemptUntilChar(t){for(;this._cursor.peek()!==t;)this._cursor.advance()}},{key:"_readChar",value:function _readChar(){var t=String.fromCodePoint(this._cursor.peek());return this._cursor.advance(),t}},{key:"_consumeEntity",value:function _consumeEntity(t){this._beginToken(9);var r=this._cursor.clone();if(this._cursor.advance(),this._attemptCharCode(35)){var i=this._attemptCharCode(120)||this._attemptCharCode(88),a=this._cursor.clone();if(this._attemptCharCodeUntilFn(isDigitEntityEnd),this._cursor.peek()!=Kn){this._cursor.advance();var o=i?la.HEX:la.DEC;throw this._createError(function _unparsableEntityErrorMsg(t,r){return'Unable to parse entity "'.concat(r,'" - ').concat(t,' character reference entities must end with ";"')}(o,this._cursor.getChars(r)),this._cursor.getSpan())}var l=this._cursor.getChars(a);this._cursor.advance();try{var u=parseInt(l,i?16:10);this._endToken([String.fromCharCode(u),this._cursor.getChars(r)])}catch(t){throw this._createError(_unknownEntityErrorMsg(this._cursor.getChars(r)),this._cursor.getSpan())}}else{var p=this._cursor.clone();if(this._attemptCharCodeUntilFn(isNamedEntityEnd),this._cursor.peek()!=Kn)this._beginToken(t,r),this._cursor=p,this._endToken(["&"]);else{var h=this._cursor.getChars(p);this._cursor.advance();var d=ia[h];if(!d)throw this._createError(_unknownEntityErrorMsg(h),this._cursor.getSpan(r));this._endToken([d,"&".concat(h,";")])}}}},{key:"_consumeRawText",value:function _consumeRawText(t,r){this._beginToken(t?6:7);for(var i=[];;){var a=this._cursor.clone(),o=r();if(this._cursor=a,o)break;t&&38===this._cursor.peek()?(this._endToken([this._processCarriageReturns(i.join(""))]),i.length=0,this._consumeEntity(6),this._beginToken(6)):i.push(this._readChar())}this._endToken([this._processCarriageReturns(i.join(""))])}},{key:"_consumeComment",value:function _consumeComment(t){var r=this;this._beginToken(10,t),this._requireCharCode(45),this._endToken([]),this._consumeRawText(!1,(function(){return r._attemptStr("--\x3e")})),this._beginToken(11),this._requireStr("--\x3e"),this._endToken([])}},{key:"_consumeCdata",value:function _consumeCdata(t){var r=this;this._beginToken(12,t),this._requireStr("CDATA["),this._endToken([]),this._consumeRawText(!1,(function(){return r._attemptStr("]]>")})),this._beginToken(13),this._requireStr("]]>"),this._endToken([])}},{key:"_consumeDocType",value:function _consumeDocType(t){this._beginToken(18,t);var r=this._cursor.clone();this._attemptUntilChar(Gn);var i=this._cursor.getChars(r);this._cursor.advance(),this._endToken([i])}},{key:"_consumePrefixAndName",value:function _consumePrefixAndName(){for(var t,r,i=this._cursor.clone(),a="";this._cursor.peek()!==zn&&!(((t=this._cursor.peek())<Jn||Qn<t)&&(t<Xn||90<t)&&(t<48||t>57));)this._cursor.advance();return this._cursor.peek()===zn?(a=this._cursor.getChars(i),this._cursor.advance(),r=this._cursor.clone()):r=i,this._requireCharCodeUntilFn(isNameEnd,""===a?0:1),[a,this._cursor.getChars(r)]}},{key:"_consumeTagOpen",value:function _consumeTagOpen(t){var r,i,o;try{if(!isAsciiLetter(this._cursor.peek()))throw this._createError(_unexpectedCharacterErrorMsg(this._cursor.peek()),this._cursor.getSpan(t));for(i=(o=this._consumeTagOpenStart(t)).parts[0],r=o.parts[1],this._attemptCharCodeUntilFn(isNotWhitespace);this._cursor.peek()!==Wn&&this._cursor.peek()!==Gn&&this._cursor.peek()!==Zn&&0!==this._cursor.peek();)this._consumeAttributeName(),this._attemptCharCodeUntilFn(isNotWhitespace),this._attemptCharCode($n)&&(this._attemptCharCodeUntilFn(isNotWhitespace),this._consumeAttributeValue()),this._attemptCharCodeUntilFn(isNotWhitespace);this._consumeTagOpenEnd()}catch(r){if(r instanceof pa)return void(o?o.type=4:(this._beginToken(5,t),this._endToken(["<"])));throw r}var l=this._getTagDefinition(r).getContentType(i);l===a.RAW_TEXT?this._consumeRawTextWithTagClose(i,r,!1):l===a.ESCAPABLE_RAW_TEXT&&this._consumeRawTextWithTagClose(i,r,!0)}},{key:"_consumeRawTextWithTagClose",value:function _consumeRawTextWithTagClose(t,r,i){var a=this;this._consumeRawText(i,(function(){return!!a._attemptCharCode(Zn)&&(!!a._attemptCharCode(Wn)&&(a._attemptCharCodeUntilFn(isNotWhitespace),!!a._attemptStrCaseInsensitive(r)&&(a._attemptCharCodeUntilFn(isNotWhitespace),a._attemptCharCode(Gn))))})),this._beginToken(3),this._requireCharCodeUntilFn((function(t){return t===Gn}),3),this._cursor.advance(),this._endToken([t,r])}},{key:"_consumeTagOpenStart",value:function _consumeTagOpenStart(t){this._beginToken(0,t);var r=this._consumePrefixAndName();return this._endToken(r)}},{key:"_consumeAttributeName",value:function _consumeAttributeName(){var t=this._cursor.peek();if(39===t||34===t)throw this._createError(_unexpectedCharacterErrorMsg(t),this._cursor.getSpan());this._beginToken(14);var r=this._consumePrefixAndName();this._endToken(r)}},{key:"_consumeAttributeValue",value:function _consumeAttributeValue(){var t=this;if(39===this._cursor.peek()||34===this._cursor.peek()){var r=this._cursor.peek();this._consumeQuote(r);var i=function endPredicate(){return t._cursor.peek()===r};this._consumeWithInterpolation(16,17,i,i),this._consumeQuote(r)}else{var a=function _endPredicate(){return isNameEnd(t._cursor.peek())};this._consumeWithInterpolation(16,17,a,a)}}},{key:"_consumeQuote",value:function _consumeQuote(t){this._beginToken(15),this._requireCharCode(t),this._endToken([String.fromCodePoint(t)])}},{key:"_consumeTagOpenEnd",value:function _consumeTagOpenEnd(){var t=this._attemptCharCode(Wn)?2:1;this._beginToken(t),this._requireCharCode(Gn),this._endToken([])}},{key:"_consumeTagClose",value:function _consumeTagClose(t){this._beginToken(3,t),this._attemptCharCodeUntilFn(isNotWhitespace);var r=this._consumePrefixAndName();this._attemptCharCodeUntilFn(isNotWhitespace),this._requireCharCode(Gn),this._endToken(r)}},{key:"_consumeExpansionFormStart",value:function _consumeExpansionFormStart(){this._beginToken(19),this._requireCharCode(Yn),this._endToken([]),this._expansionCaseStack.push(19),this._beginToken(7);var t=this._readUntil(Hn),r=this._processCarriageReturns(t);if(this._i18nNormalizeLineEndingsInICUs)this._endToken([r]);else{var i=this._endToken([t]);r!==t&&this.nonNormalizedIcuExpressions.push(i)}this._requireCharCode(Hn),this._attemptCharCodeUntilFn(isNotWhitespace),this._beginToken(7);var a=this._readUntil(Hn);this._endToken([a]),this._requireCharCode(Hn),this._attemptCharCodeUntilFn(isNotWhitespace)}},{key:"_consumeExpansionCaseStart",value:function _consumeExpansionCaseStart(){this._beginToken(20);var t=this._readUntil(Yn).trim();this._endToken([t]),this._attemptCharCodeUntilFn(isNotWhitespace),this._beginToken(21),this._requireCharCode(Yn),this._endToken([]),this._attemptCharCodeUntilFn(isNotWhitespace),this._expansionCaseStack.push(21)}},{key:"_consumeExpansionCaseEnd",value:function _consumeExpansionCaseEnd(){this._beginToken(22),this._requireCharCode(er),this._endToken([]),this._attemptCharCodeUntilFn(isNotWhitespace),this._expansionCaseStack.pop()}},{key:"_consumeExpansionFormEnd",value:function _consumeExpansionFormEnd(){this._beginToken(23),this._requireCharCode(er),this._endToken([]),this._expansionCaseStack.pop()}},{key:"_consumeWithInterpolation",value:function _consumeWithInterpolation(t,r,i,a){this._beginToken(t);for(var o=[];!i();){var l=this._cursor.clone();this._interpolationConfig&&this._attemptStr(this._interpolationConfig.start)?(this._endToken([this._processCarriageReturns(o.join(""))],l),o.length=0,this._consumeInterpolation(r,l,a),this._beginToken(t)):38===this._cursor.peek()?(this._endToken([this._processCarriageReturns(o.join(""))]),o.length=0,this._consumeEntity(t),this._beginToken(t)):o.push(this._readChar())}this._inInterpolation=!1,this._endToken([this._processCarriageReturns(o.join(""))])}},{key:"_consumeInterpolation",value:function _consumeInterpolation(t,r,i){var a=[];this._beginToken(t,r),a.push(this._interpolationConfig.start);for(var o=this._cursor.clone(),l=null,u=!1;0!==this._cursor.peek()&&(null===i||!i());){var p=this._cursor.clone();if(this._isTagStart())return this._cursor=p,a.push(this._getProcessedChars(o,p)),void this._endToken(a);if(null===l){if(this._attemptStr(this._interpolationConfig.end))return a.push(this._getProcessedChars(o,p)),a.push(this._interpolationConfig.end),void this._endToken(a);this._attemptStr("//")&&(u=!0)}var h=this._cursor.peek();this._cursor.advance(),92===h?this._cursor.advance():h===l?l=null:!u&&null===l&&isQuote(h)&&(l=h)}a.push(this._getProcessedChars(o,this._cursor)),this._endToken(a)}},{key:"_getProcessedChars",value:function _getProcessedChars(t,r){return this._processCarriageReturns(r.getChars(t))}},{key:"_isTextEnd",value:function _isTextEnd(){if(this._isTagStart()||0===this._cursor.peek())return!0;if(this._tokenizeIcu&&!this._inInterpolation){if(this.isExpansionFormStart())return!0;if(this._cursor.peek()===er&&this._isInExpansionCase())return!0}return!1}},{key:"_isTagStart",value:function _isTagStart(){if(this._cursor.peek()===Zn){var t=this._cursor.clone();t.advance();var r=t.peek();if(Jn<=r&&r<=Qn||Xn<=r&&r<=90||r===Wn||33===r)return!0}return!1}},{key:"_readUntil",value:function _readUntil(t){var r=this._cursor.clone();return this._attemptUntilChar(t),this._cursor.getChars(r)}},{key:"_isInExpansionCase",value:function _isInExpansionCase(){return this._expansionCaseStack.length>0&&21===this._expansionCaseStack[this._expansionCaseStack.length-1]}},{key:"_isInExpansionForm",value:function _isInExpansionForm(){return this._expansionCaseStack.length>0&&19===this._expansionCaseStack[this._expansionCaseStack.length-1]}},{key:"isExpansionFormStart",value:function isExpansionFormStart(){if(this._cursor.peek()!==Yn)return!1;if(this._interpolationConfig){var t=this._cursor.clone(),r=this._attemptStr(this._interpolationConfig.start);return this._cursor=t,!r}return!0}}]),_Tokenizer}();function isNotWhitespace(t){return!isWhitespace(t)||0===t}function isNameEnd(t){return isWhitespace(t)||t===Gn||t===Zn||t===Wn||39===t||34===t||t===$n||0===t}function isDigitEntityEnd(t){return t===Kn||0===t||!function isAsciiHexDigit(t){return t>=Jn&&t<=102||t>=Xn&&t<=70||isDigit(t)}(t)}function isNamedEntityEnd(t){return t===Kn||0===t||!isAsciiLetter(t)}function toUpperCaseCharCode(t){return t>=Jn&&t<=Qn?t-Jn+Xn:t}function mergeTextTokens(t){for(var r=[],i=void 0,a=0;a<t.length;a++){var o=t[a];i&&5===i.type&&5===o.type||i&&16===i.type&&16===o.type?(i.parts[0]+=o.parts[0],i.sourceSpan.end=o.sourceSpan.end):(i=o,r.push(i))}return r}var fa=function(){function PlainCharacterCursor(t,r){if((0,x.default)(this,PlainCharacterCursor),t instanceof PlainCharacterCursor){this.file=t.file,this.input=t.input,this.end=t.end;var i=t.state;this.state={peek:i.peek,offset:i.offset,line:i.line,column:i.column}}else{if(!r)throw new Error("Programming error: the range argument must be provided with a file argument.");this.file=t,this.input=t.content,this.end=r.endPos,this.state={peek:-1,offset:r.startPos,line:r.startLine,column:r.startCol}}}return(0,_.default)(PlainCharacterCursor,[{key:"clone",value:function clone(){return new PlainCharacterCursor(this)}},{key:"peek",value:function peek(){return this.state.peek}},{key:"charsLeft",value:function charsLeft(){return this.end-this.state.offset}},{key:"diff",value:function diff(t){return this.state.offset-t.state.offset}},{key:"advance",value:function advance(){this.advanceState(this.state)}},{key:"init",value:function init(){this.updatePeek(this.state)}},{key:"getSpan",value:function getSpan(t,r){var i=t=t||this;if(r)for(;this.diff(t)>0&&-1!==r.indexOf(t.peek());)i===t&&(t=t.clone()),t.advance();var a=this.locationFromCursor(t),o=this.locationFromCursor(this),l=i!==t?this.locationFromCursor(i):a;return new ir(a,o,l)}},{key:"getChars",value:function getChars(t){return this.input.substring(t.state.offset,this.state.offset)}},{key:"charAt",value:function charAt(t){return this.input.charCodeAt(t)}},{key:"advanceState",value:function advanceState(t){if(t.offset>=this.end)throw this.state=t,new ma('Unexpected character "EOF"',this);var r=this.charAt(t.offset);r===jn?(t.line++,t.column=0):isNewLine(r)||t.column++,t.offset++,this.updatePeek(t)}},{key:"updatePeek",value:function updatePeek(t){t.peek=t.offset>=this.end?0:this.charAt(t.offset)}},{key:"locationFromCursor",value:function locationFromCursor(t){return new nr(t.file,t.state.offset,t.state.line,t.state.column)}}]),PlainCharacterCursor}(),da=function(t){(0,m.default)(EscapedCharacterCursor,t);var r=(0,y.default)(EscapedCharacterCursor);function EscapedCharacterCursor(t,i){var a;return(0,x.default)(this,EscapedCharacterCursor),t instanceof EscapedCharacterCursor?(a=r.call(this,t)).internalState=Object.assign({},t.internalState):(a=r.call(this,t,i)).internalState=a.state,(0,o.default)(a)}return(0,_.default)(EscapedCharacterCursor,[{key:"advance",value:function advance(){this.state=this.internalState,(0,d.default)((0,v.default)(EscapedCharacterCursor.prototype),"advance",this).call(this),this.processEscapeSequence()}},{key:"init",value:function init(){(0,d.default)((0,v.default)(EscapedCharacterCursor.prototype),"init",this).call(this),this.processEscapeSequence()}},{key:"clone",value:function clone(){return new EscapedCharacterCursor(this)}},{key:"getChars",value:function getChars(t){for(var r=t.clone(),i="";r.internalState.offset<this.internalState.offset;)i+=String.fromCodePoint(r.peek()),r.advance();return i}},{key:"processEscapeSequence",value:function processEscapeSequence(){var t=this,r=function peek(){return t.internalState.peek};if(92===r())if(this.internalState=Object.assign({},this.state),this.advanceState(this.internalState),110===r())this.state.peek=jn;else if(114===r())this.state.peek=13;else if(118===r())this.state.peek=11;else if(116===r())this.state.peek=9;else if(98===r())this.state.peek=8;else if(102===r())this.state.peek=12;else if(117===r())if(this.advanceState(this.internalState),r()===Yn){this.advanceState(this.internalState);for(var i=this.clone(),a=0;r()!==er;)this.advanceState(this.internalState),a++;this.state.peek=this.decodeHexDigits(i,a)}else{var o=this.clone();this.advanceState(this.internalState),this.advanceState(this.internalState),this.advanceState(this.internalState),this.state.peek=this.decodeHexDigits(o,4)}else if(120===r()){this.advanceState(this.internalState);var l=this.clone();this.advanceState(this.internalState),this.state.peek=this.decodeHexDigits(l,2)}else if(isOctalDigit(r())){for(var u="",p=0,h=this.clone();isOctalDigit(r())&&p<3;)h=this.clone(),u+=String.fromCodePoint(r()),this.advanceState(this.internalState),p++;this.state.peek=parseInt(u,8),this.internalState=h.internalState}else isNewLine(this.internalState.peek)?(this.advanceState(this.internalState),this.state=this.internalState):this.state.peek=this.internalState.peek}},{key:"decodeHexDigits",value:function decodeHexDigits(t,r){var i=this.input.slice(t.internalState.offset,t.internalState.offset+r),a=parseInt(i,16);if(isNaN(a))throw t.state=t.internalState,new ma("Invalid hexadecimal escape sequence",t);return a}}]),EscapedCharacterCursor}(fa),ma=(0,_.default)((function CursorError(t,r){(0,x.default)(this,CursorError),this.msg=t,this.cursor=r})),ga=function(t){(0,m.default)(TreeError,t);var r=(0,y.default)(TreeError);function TreeError(t,i,a){var o;return(0,x.default)(this,TreeError),(o=r.call(this,i,a)).elementName=t,o}return(0,_.default)(TreeError,null,[{key:"create",value:function create(t,r,i){return new TreeError(t,r,i)}}]),TreeError}(ar),Ea=(0,_.default)((function ParseTreeResult(t,r){(0,x.default)(this,ParseTreeResult),this.rootNodes=t,this.errors=r})),ka=function(){function Parser(t){(0,x.default)(this,Parser),this.getTagDefinition=t}return(0,_.default)(Parser,[{key:"parse",value:function parse(t,r,i){var a=function tokenize(t,r,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=new ha(new rr(t,r),i,a);return o.tokenize(),new oa(mergeTextTokens(o.tokens),o.errors,o.nonNormalizedIcuExpressions)}(t,r,this.getTagDefinition,i),o=new Sa(a.tokens,this.getTagDefinition);return o.build(),new Ea(o.rootNodes,a.errors.concat(o.errors))}}]),Parser}(),Sa=function(){function _TreeBuilder(t,r){(0,x.default)(this,_TreeBuilder),this.tokens=t,this.getTagDefinition=r,this._index=-1,this._elementStack=[],this.rootNodes=[],this.errors=[],this._advance()}return(0,_.default)(_TreeBuilder,[{key:"build",value:function build(){for(;24!==this._peek.type;)0===this._peek.type||4===this._peek.type?this._consumeStartTag(this._advance()):3===this._peek.type?this._consumeEndTag(this._advance()):12===this._peek.type?(this._closeVoidElement(),this._consumeCdata(this._advance())):10===this._peek.type?(this._closeVoidElement(),this._consumeComment(this._advance())):5===this._peek.type||7===this._peek.type||6===this._peek.type?(this._closeVoidElement(),this._consumeText(this._advance())):19===this._peek.type?this._consumeExpansion(this._advance()):this._advance()}},{key:"_advance",value:function _advance(){var t=this._peek;return this._index<this.tokens.length-1&&this._index++,this._peek=this.tokens[this._index],t}},{key:"_advanceIf",value:function _advanceIf(t){return this._peek.type===t?this._advance():null}},{key:"_consumeCdata",value:function _consumeCdata(t){this._consumeText(this._advance()),this._advanceIf(13)}},{key:"_consumeComment",value:function _consumeComment(t){var r=this._advanceIf(7);this._advanceIf(11);var i=null!=r?r.parts[0].trim():null;this._addToParent(new na(i,t.sourceSpan))}},{key:"_consumeExpansion",value:function _consumeExpansion(t){for(var r=this._advance(),i=this._advance(),a=[];20===this._peek.type;){var o=this._parseExpansionCase();if(!o)return;a.push(o)}if(23===this._peek.type){var l=new ir(t.sourceSpan.start,this._peek.sourceSpan.end,t.sourceSpan.fullStart);this._addToParent(new Ji(r.parts[0],i.parts[0],a,l,r.sourceSpan)),this._advance()}else this.errors.push(ga.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '}'."))}},{key:"_parseExpansionCase",value:function _parseExpansionCase(){var t=this._advance();if(21!==this._peek.type)return this.errors.push(ga.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '{'.")),null;var r=this._advance(),i=this._collectExpansionExpTokens(r);if(!i)return null;var a=this._advance();i.push({type:24,parts:[],sourceSpan:a.sourceSpan});var o=new _TreeBuilder(i,this.getTagDefinition);if(o.build(),o.errors.length>0)return this.errors=this.errors.concat(o.errors),null;var l=new ir(t.sourceSpan.start,a.sourceSpan.end,t.sourceSpan.fullStart),u=new ir(r.sourceSpan.start,a.sourceSpan.end,r.sourceSpan.fullStart);return new Qi(t.parts[0],o.rootNodes,l,t.sourceSpan,u)}},{key:"_collectExpansionExpTokens",value:function _collectExpansionExpTokens(t){for(var r=[],i=[21];;){if(19!==this._peek.type&&21!==this._peek.type||i.push(this._peek.type),22===this._peek.type){if(!lastOnStack(i,21))return this.errors.push(ga.create(null,t.sourceSpan,"Invalid ICU message. Missing '}'.")),null;if(i.pop(),0===i.length)return r}if(23===this._peek.type){if(!lastOnStack(i,19))return this.errors.push(ga.create(null,t.sourceSpan,"Invalid ICU message. Missing '}'.")),null;i.pop()}if(24===this._peek.type)return this.errors.push(ga.create(null,t.sourceSpan,"Invalid ICU message. Missing '}'.")),null;r.push(this._advance())}}},{key:"_consumeText",value:function _consumeText(t){var r=[t],i=t.sourceSpan,a=t.parts[0];if(a.length>0&&"\n"===a[0]){var o=this._getParentElement();null!=o&&0===o.children.length&&this.getTagDefinition(o.name).ignoreFirstLf&&(a=a.substring(1),r[0]={type:t.type,sourceSpan:t.sourceSpan,parts:[a]})}for(;8===this._peek.type||5===this._peek.type||9===this._peek.type;)t=this._advance(),r.push(t),8===t.type?a+=t.parts.join("").replace(/&([^;]+);/g,decodeEntity):9===t.type?a+=t.parts[0]:a+=t.parts.join("");if(a.length>0){var l=t.sourceSpan;this._addToParent(new Xi(a,new ir(i.start,l.end,i.fullStart,i.details),r))}}},{key:"_closeVoidElement",value:function _closeVoidElement(){var t=this._getParentElement();t&&this.getTagDefinition(t.name).isVoid&&this._elementStack.pop()}},{key:"_consumeStartTag",value:function _consumeStartTag(t){for(var r=(0,p.default)(t.parts,2),i=r[0],a=r[1],o=[];14===this._peek.type;)o.push(this._consumeAttr(this._advance()));var l=this._getElementFullName(i,a,this._getParentElement()),u=!1;if(2===this._peek.type){this._advance(),u=!0;var h=this.getTagDefinition(l);h.canSelfClose||null!==getNsPrefix(l)||h.isVoid||this.errors.push(ga.create(l,t.sourceSpan,'Only void and foreign elements can be self closed "'.concat(t.parts[1],'"')))}else 1===this._peek.type&&(this._advance(),u=!1);var d=this._peek.sourceSpan.fullStart,v=new ir(t.sourceSpan.start,d,t.sourceSpan.fullStart),m=new ir(t.sourceSpan.start,d,t.sourceSpan.fullStart),y=new ea(l,o,[],v,m,void 0);this._pushElement(y),u?this._popElement(l,v):4===t.type&&(this._popElement(l,null),this.errors.push(ga.create(l,v,'Opening tag "'.concat(l,'" not terminated.'))))}},{key:"_pushElement",value:function _pushElement(t){var r=this._getParentElement();r&&this.getTagDefinition(r.name).isClosedByChild(t.name)&&this._elementStack.pop(),this._addToParent(t),this._elementStack.push(t)}},{key:"_consumeEndTag",value:function _consumeEndTag(t){var r=this._getElementFullName(t.parts[0],t.parts[1],this._getParentElement());if(this.getTagDefinition(r).isVoid)this.errors.push(ga.create(r,t.sourceSpan,'Void elements do not have end tags "'.concat(t.parts[1],'"')));else if(!this._popElement(r,t.sourceSpan)){var i='Unexpected closing tag "'.concat(r,'". It may happen when the tag has already been closed by another tag. For more info see https://www.w3.org/TR/html5/syntax.html#closing-elements-that-have-implied-end-tags');this.errors.push(ga.create(r,t.sourceSpan,i))}}},{key:"_popElement",value:function _popElement(t,r){for(var i=!1,a=this._elementStack.length-1;a>=0;a--){var o=this._elementStack[a];if(o.name===t)return o.endSourceSpan=r,o.sourceSpan.end=null!==r?r.end:o.sourceSpan.end,this._elementStack.splice(a,this._elementStack.length-a),!i;this.getTagDefinition(o.name).closedByParent||(i=!0)}return!1}},{key:"_consumeAttr",value:function _consumeAttr(t){var r=mergeNsAndName(t.parts[0],t.parts[1]),i=t.sourceSpan.end;15===this._peek.type&&this._advance();var a="",o=[],l=void 0,u=void 0;if(16===this._peek.type)for(l=this._peek.sourceSpan,u=this._peek.sourceSpan.end;16===this._peek.type||17===this._peek.type||9===this._peek.type;){var p=this._advance();o.push(p),17===p.type?a+=p.parts.join("").replace(/&([^;]+);/g,decodeEntity):9===p.type?a+=p.parts[0]:a+=p.parts.join(""),u=i=p.sourceSpan.end}15===this._peek.type&&(i=this._advance().sourceSpan.end);var h=l&&u&&new ir(l.start,u,l.fullStart);return new Yi(r,a,new ir(t.sourceSpan.start,i,t.sourceSpan.fullStart),t.sourceSpan,h,o.length>0?o:void 0,void 0)}},{key:"_getParentElement",value:function _getParentElement(){return this._elementStack.length>0?this._elementStack[this._elementStack.length-1]:null}},{key:"_addToParent",value:function _addToParent(t){var r=this._getParentElement();null!=r?r.children.push(t):this.rootNodes.push(t)}},{key:"_getElementFullName",value:function _getElementFullName(t,r,i){if(""===t&&""===(t=this.getTagDefinition(r).implicitNamespacePrefix||"")&&null!=i){var a=splitNsName(i.name)[1];this.getTagDefinition(a).preventNamespaceInheritance||(t=getNsPrefix(i.name))}return mergeNsAndName(t,r)}}]),_TreeBuilder}();function lastOnStack(t,r){return t.length>0&&t[t.length-1]===r}function decodeEntity(t,r){return void 0!==ia[r]?ia[r]||t:/^#x[a-f0-9]+$/i.test(r)?String.fromCodePoint(parseInt(r.slice(2),16)):/^#\d+$/.test(r)?String.fromCodePoint(parseInt(r.slice(1),10)):t}var _a=function(t){(0,m.default)(HtmlParser,t);var r=(0,y.default)(HtmlParser);function HtmlParser(){return(0,x.default)(this,HtmlParser),r.call(this,getHtmlTagDefinition)}return(0,_.default)(HtmlParser,[{key:"parse",value:function parse(t,r,i){return(0,d.default)((0,v.default)(HtmlParser.prototype),"parse",this).call(this,t,r,i)}}]),HtmlParser}(ka),Ta="ngPreserveWhitespaces",ba=new Set(["pre","template","textarea","script","style"]),Ia=" \f\n\r\t\v-\u2028\u2029\ufeff",Pa=new RegExp("[^".concat(Ia,"]")),Na=new RegExp("[".concat(Ia,"]{2,}"),"g");function replaceNgsp(t){return t.replace(new RegExp("","g")," ")}var Ma,La=function(){function WhitespaceVisitor(){(0,x.default)(this,WhitespaceVisitor)}return(0,_.default)(WhitespaceVisitor,[{key:"visitElement",value:function visitElement(t,r){return ba.has(t.name)||function hasPreserveWhitespacesAttr(t){return t.some((function(t){return t.name===Ta}))}(t.attrs)?new ea(t.name,visitAll(this,t.attrs),t.children,t.sourceSpan,t.startSourceSpan,t.endSourceSpan,t.i18n):new ea(t.name,t.attrs,function visitAllWithSiblings(t,r){var i=[];return r.forEach((function(a,o){var l={prev:r[o-1],next:r[o+1]},u=a.visit(t,l);u&&i.push(u)})),i}(this,t.children),t.sourceSpan,t.startSourceSpan,t.endSourceSpan,t.i18n)}},{key:"visitAttribute",value:function visitAttribute(t,r){return t.name!==Ta?t:null}},{key:"visitText",value:function visitText(t,r){var i=t.value.match(Pa),a=r&&(r.prev instanceof Ji||r.next instanceof Ji);if(i||a){var o=t.tokens.map((function(t){return 5===t.type?function createWhitespaceProcessedTextToken(t){var r=t.type,i=t.parts,a=t.sourceSpan;return{type:r,parts:[processWhitespace(i[0])],sourceSpan:a}}(t):t})),l=processWhitespace(t.value);return new Xi(l,t.sourceSpan,o,t.i18n)}return null}},{key:"visitComment",value:function visitComment(t,r){return t}},{key:"visitExpansion",value:function visitExpansion(t,r){return t}},{key:"visitExpansionCase",value:function visitExpansionCase(t,r){return t}}]),WhitespaceVisitor}();function processWhitespace(t){return replaceNgsp(t).replace(Na," ")}function mapLiteral(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return literalMap(Object.keys(t).map((function(i){return{key:i,quoted:r,value:t[i]}})))}function SECURITY_SCHEMA(){return Ma||(Ma={},registerContext(G.HTML,["iframe|srcdoc","*|innerHTML","*|outerHTML"]),registerContext(G.STYLE,["*|style"]),registerContext(G.URL,["*|formAction","area|href","area|ping","audio|src","a|href","a|ping","blockquote|cite","body|background","del|cite","form|action","img|src","img|srcset","input|src","ins|cite","q|cite","source|src","source|srcset","track|src","video|poster","video|src"]),registerContext(G.RESOURCE_URL,["applet|code","applet|codebase","base|href","embed|src","frame|src","head|profile","html|manifest","iframe|src","link|href","media|src","object|codebase","object|data","script|src"])),Ma}function registerContext(t,r){var i,a=(0,E.default)(r);try{for(a.s();!(i=a.n()).done;){var o=i.value;Ma[o.toLowerCase()]=t}}catch(t){a.e(t)}finally{a.f()}}var Ra=(0,_.default)((function ElementSchemaRegistry(){(0,x.default)(this,ElementSchemaRegistry)})),Oa=["[Element]|textContent,%classList,className,id,innerHTML,*beforecopy,*beforecut,*beforepaste,*copy,*cut,*paste,*search,*selectstart,*webkitfullscreenchange,*webkitfullscreenerror,*wheel,outerHTML,#scrollLeft,#scrollTop,slot,*message,*mozfullscreenchange,*mozfullscreenerror,*mozpointerlockchange,*mozpointerlockerror,*webglcontextcreationerror,*webglcontextlost,*webglcontextrestored","[HTMLElement]^[Element]|accessKey,contentEditable,dir,!draggable,!hidden,innerText,lang,*abort,*auxclick,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*cuechange,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*seeked,*seeking,*select,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,outerText,!spellcheck,%style,#tabIndex,title,!translate","abbr,address,article,aside,b,bdi,bdo,cite,code,dd,dfn,dt,em,figcaption,figure,footer,header,i,kbd,main,mark,nav,noscript,rb,rp,rt,rtc,ruby,s,samp,section,small,strong,sub,sup,u,var,wbr^[HTMLElement]|accessKey,contentEditable,dir,!draggable,!hidden,innerText,lang,*abort,*auxclick,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*cuechange,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*seeked,*seeking,*select,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,outerText,!spellcheck,%style,#tabIndex,title,!translate","media^[HTMLElement]|!autoplay,!controls,%controlsList,%crossOrigin,#currentTime,!defaultMuted,#defaultPlaybackRate,!disableRemotePlayback,!loop,!muted,*encrypted,*waitingforkey,#playbackRate,preload,src,%srcObject,#volume",":svg:^[HTMLElement]|*abort,*auxclick,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*cuechange,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*seeked,*seeking,*select,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,%style,#tabIndex",":svg:graphics^:svg:|",":svg:animation^:svg:|*begin,*end,*repeat",":svg:geometry^:svg:|",":svg:componentTransferFunction^:svg:|",":svg:gradient^:svg:|",":svg:textContent^:svg:graphics|",":svg:textPositioning^:svg:textContent|","a^[HTMLElement]|charset,coords,download,hash,host,hostname,href,hreflang,name,password,pathname,ping,port,protocol,referrerPolicy,rel,rev,search,shape,target,text,type,username","area^[HTMLElement]|alt,coords,download,hash,host,hostname,href,!noHref,password,pathname,ping,port,protocol,referrerPolicy,rel,search,shape,target,username","audio^media|","br^[HTMLElement]|clear","base^[HTMLElement]|href,target","body^[HTMLElement]|aLink,background,bgColor,link,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,text,vLink","button^[HTMLElement]|!autofocus,!disabled,formAction,formEnctype,formMethod,!formNoValidate,formTarget,name,type,value","canvas^[HTMLElement]|#height,#width","content^[HTMLElement]|select","dl^[HTMLElement]|!compact","datalist^[HTMLElement]|","details^[HTMLElement]|!open","dialog^[HTMLElement]|!open,returnValue","dir^[HTMLElement]|!compact","div^[HTMLElement]|align","embed^[HTMLElement]|align,height,name,src,type,width","fieldset^[HTMLElement]|!disabled,name","font^[HTMLElement]|color,face,size","form^[HTMLElement]|acceptCharset,action,autocomplete,encoding,enctype,method,name,!noValidate,target","frame^[HTMLElement]|frameBorder,longDesc,marginHeight,marginWidth,name,!noResize,scrolling,src","frameset^[HTMLElement]|cols,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,rows","hr^[HTMLElement]|align,color,!noShade,size,width","head^[HTMLElement]|","h1,h2,h3,h4,h5,h6^[HTMLElement]|align","html^[HTMLElement]|version","iframe^[HTMLElement]|align,!allowFullscreen,frameBorder,height,longDesc,marginHeight,marginWidth,name,referrerPolicy,%sandbox,scrolling,src,srcdoc,width","img^[HTMLElement]|align,alt,border,%crossOrigin,#height,#hspace,!isMap,longDesc,lowsrc,name,referrerPolicy,sizes,src,srcset,useMap,#vspace,#width","input^[HTMLElement]|accept,align,alt,autocapitalize,autocomplete,!autofocus,!checked,!defaultChecked,defaultValue,dirName,!disabled,%files,formAction,formEnctype,formMethod,!formNoValidate,formTarget,#height,!incremental,!indeterminate,max,#maxLength,min,#minLength,!multiple,name,pattern,placeholder,!readOnly,!required,selectionDirection,#selectionEnd,#selectionStart,#size,src,step,type,useMap,value,%valueAsDate,#valueAsNumber,#width","li^[HTMLElement]|type,#value","label^[HTMLElement]|htmlFor","legend^[HTMLElement]|align","link^[HTMLElement]|as,charset,%crossOrigin,!disabled,href,hreflang,integrity,media,referrerPolicy,rel,%relList,rev,%sizes,target,type","map^[HTMLElement]|name","marquee^[HTMLElement]|behavior,bgColor,direction,height,#hspace,#loop,#scrollAmount,#scrollDelay,!trueSpeed,#vspace,width","menu^[HTMLElement]|!compact","meta^[HTMLElement]|content,httpEquiv,name,scheme","meter^[HTMLElement]|#high,#low,#max,#min,#optimum,#value","ins,del^[HTMLElement]|cite,dateTime","ol^[HTMLElement]|!compact,!reversed,#start,type","object^[HTMLElement]|align,archive,border,code,codeBase,codeType,data,!declare,height,#hspace,name,standby,type,useMap,#vspace,width","optgroup^[HTMLElement]|!disabled,label","option^[HTMLElement]|!defaultSelected,!disabled,label,!selected,text,value","output^[HTMLElement]|defaultValue,%htmlFor,name,value","p^[HTMLElement]|align","param^[HTMLElement]|name,type,value,valueType","picture^[HTMLElement]|","pre^[HTMLElement]|#width","progress^[HTMLElement]|#max,#value","q,blockquote,cite^[HTMLElement]|","script^[HTMLElement]|!async,charset,%crossOrigin,!defer,event,htmlFor,integrity,src,text,type","select^[HTMLElement]|autocomplete,!autofocus,!disabled,#length,!multiple,name,!required,#selectedIndex,#size,value","shadow^[HTMLElement]|","slot^[HTMLElement]|name","source^[HTMLElement]|media,sizes,src,srcset,type","span^[HTMLElement]|","style^[HTMLElement]|!disabled,media,type","caption^[HTMLElement]|align","th,td^[HTMLElement]|abbr,align,axis,bgColor,ch,chOff,#colSpan,headers,height,!noWrap,#rowSpan,scope,vAlign,width","col,colgroup^[HTMLElement]|align,ch,chOff,#span,vAlign,width","table^[HTMLElement]|align,bgColor,border,%caption,cellPadding,cellSpacing,frame,rules,summary,%tFoot,%tHead,width","tr^[HTMLElement]|align,bgColor,ch,chOff,vAlign","tfoot,thead,tbody^[HTMLElement]|align,ch,chOff,vAlign","template^[HTMLElement]|","textarea^[HTMLElement]|autocapitalize,autocomplete,!autofocus,#cols,defaultValue,dirName,!disabled,#maxLength,#minLength,name,placeholder,!readOnly,!required,#rows,selectionDirection,#selectionEnd,#selectionStart,value,wrap","title^[HTMLElement]|text","track^[HTMLElement]|!default,kind,label,src,srclang","ul^[HTMLElement]|!compact,type","unknown^[HTMLElement]|","video^media|#height,poster,#width",":svg:a^:svg:graphics|",":svg:animate^:svg:animation|",":svg:animateMotion^:svg:animation|",":svg:animateTransform^:svg:animation|",":svg:circle^:svg:geometry|",":svg:clipPath^:svg:graphics|",":svg:defs^:svg:graphics|",":svg:desc^:svg:|",":svg:discard^:svg:|",":svg:ellipse^:svg:geometry|",":svg:feBlend^:svg:|",":svg:feColorMatrix^:svg:|",":svg:feComponentTransfer^:svg:|",":svg:feComposite^:svg:|",":svg:feConvolveMatrix^:svg:|",":svg:feDiffuseLighting^:svg:|",":svg:feDisplacementMap^:svg:|",":svg:feDistantLight^:svg:|",":svg:feDropShadow^:svg:|",":svg:feFlood^:svg:|",":svg:feFuncA^:svg:componentTransferFunction|",":svg:feFuncB^:svg:componentTransferFunction|",":svg:feFuncG^:svg:componentTransferFunction|",":svg:feFuncR^:svg:componentTransferFunction|",":svg:feGaussianBlur^:svg:|",":svg:feImage^:svg:|",":svg:feMerge^:svg:|",":svg:feMergeNode^:svg:|",":svg:feMorphology^:svg:|",":svg:feOffset^:svg:|",":svg:fePointLight^:svg:|",":svg:feSpecularLighting^:svg:|",":svg:feSpotLight^:svg:|",":svg:feTile^:svg:|",":svg:feTurbulence^:svg:|",":svg:filter^:svg:|",":svg:foreignObject^:svg:graphics|",":svg:g^:svg:graphics|",":svg:image^:svg:graphics|",":svg:line^:svg:geometry|",":svg:linearGradient^:svg:gradient|",":svg:mpath^:svg:|",":svg:marker^:svg:|",":svg:mask^:svg:|",":svg:metadata^:svg:|",":svg:path^:svg:geometry|",":svg:pattern^:svg:|",":svg:polygon^:svg:geometry|",":svg:polyline^:svg:geometry|",":svg:radialGradient^:svg:gradient|",":svg:rect^:svg:geometry|",":svg:svg^:svg:graphics|#currentScale,#zoomAndPan",":svg:script^:svg:|type",":svg:set^:svg:animation|",":svg:stop^:svg:|",":svg:style^:svg:|!disabled,media,title,type",":svg:switch^:svg:graphics|",":svg:symbol^:svg:|",":svg:tspan^:svg:textPositioning|",":svg:text^:svg:textPositioning|",":svg:textPath^:svg:textContent|",":svg:title^:svg:|",":svg:use^:svg:graphics|",":svg:view^:svg:|#zoomAndPan","data^[HTMLElement]|value","keygen^[HTMLElement]|!autofocus,challenge,!disabled,form,keytype,name","menuitem^[HTMLElement]|type,label,icon,!disabled,!checked,radiogroup,!default","summary^[HTMLElement]|","time^[HTMLElement]|dateTime",":svg:cursor^:svg:|"],Va={class:"className",for:"htmlFor",formaction:"formAction",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},ja=Object.keys(Va).reduce((function(t,r){return t[Va[r]]=r,t}),{}),Ua=function(t){(0,m.default)(DomElementSchemaRegistry,t);var r=(0,y.default)(DomElementSchemaRegistry);function DomElementSchemaRegistry(){var t;return(0,x.default)(this,DomElementSchemaRegistry),(t=r.call(this))._schema={},t._eventSchema={},Oa.forEach((function(r){var i={},a=new Set,o=r.split("|"),l=(0,p.default)(o,2),u=l[0],h=l[1].split(","),d=u.split("^"),v=(0,p.default)(d,2),m=v[0],y=v[1];m.split(",").forEach((function(r){t._schema[r.toLowerCase()]=i,t._eventSchema[r.toLowerCase()]=a}));var k=y&&t._schema[y.toLowerCase()];if(k){Object.keys(k).forEach((function(t){i[t]=k[t]}));var x,_=(0,E.default)(t._eventSchema[y.toLowerCase()]);try{for(_.s();!(x=_.n()).done;){var w=x.value;a.add(w)}}catch(t){_.e(t)}finally{_.f()}}h.forEach((function(t){if(t.length>0)switch(t[0]){case"*":a.add(t.substring(1));break;case"!":i[t.substring(1)]="boolean";break;case"#":i[t.substring(1)]="number";break;case"%":i[t.substring(1)]="object";break;default:i[t]="string"}}))})),t}return(0,_.default)(DomElementSchemaRegistry,[{key:"hasProperty",value:function hasProperty(t,r,i){if(i.some((function(t){return t.name===ne.name})))return!0;if(t.indexOf("-")>-1){if(isNgContainer(t)||isNgContent(t))return!1;if(i.some((function(t){return t.name===te.name})))return!0}return!!(this._schema[t.toLowerCase()]||this._schema.unknown)[r]}},{key:"hasElement",value:function hasElement(t,r){if(r.some((function(t){return t.name===ne.name})))return!0;if(t.indexOf("-")>-1){if(isNgContainer(t)||isNgContent(t))return!0;if(r.some((function(t){return t.name===te.name})))return!0}return!!this._schema[t.toLowerCase()]}},{key:"securityContext",value:function securityContext(t,r,i){i&&(r=this.getMappedPropName(r)),t=t.toLowerCase(),r=r.toLowerCase();var a=SECURITY_SCHEMA()[t+"|"+r];return a||((a=SECURITY_SCHEMA()["*|"+r])||G.NONE)}},{key:"getMappedPropName",value:function getMappedPropName(t){return Va[t]||t}},{key:"getDefaultComponentElementName",value:function getDefaultComponentElementName(){return"ng-component"}},{key:"validateProperty",value:function validateProperty(t){return t.toLowerCase().startsWith("on")?{error:!0,msg:"Binding to event property '".concat(t,"' is disallowed for security reasons, ")+"please use (".concat(t.slice(2),")=...")+"\nIf '".concat(t,"' is a directive input, make sure the directive is imported by the")+" current module."}:{error:!1}}},{key:"validateAttribute",value:function validateAttribute(t){return t.toLowerCase().startsWith("on")?{error:!0,msg:"Binding to event attribute '".concat(t,"' is disallowed for security reasons, ")+"please use (".concat(t.slice(2),")=...")}:{error:!1}}},{key:"allKnownElementNames",value:function allKnownElementNames(){return Object.keys(this._schema)}},{key:"allKnownAttributesOfElement",value:function allKnownAttributesOfElement(t){var r=this._schema[t.toLowerCase()]||this._schema.unknown;return Object.keys(r).map((function(t){var r;return null!==(r=ja[t])&&void 0!==r?r:t}))}},{key:"allKnownEventsOfElement",value:function allKnownEventsOfElement(t){var r;return Array.from(null!==(r=this._eventSchema[t.toLowerCase()])&&void 0!==r?r:[])}},{key:"normalizeAnimationStyleProperty",value:function normalizeAnimationStyleProperty(t){return function dashCaseToCamelCase(t){return t.replace(ae,(function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return r[1].toUpperCase()}))}(t)}},{key:"normalizeAnimationStyleValue",value:function normalizeAnimationStyleValue(t,r,i){var a="",o=i.toString().trim(),l=null;if(function _isPixelDimensionStyle(t){switch(t){case"width":case"height":case"minWidth":case"minHeight":case"maxWidth":case"maxHeight":case"left":case"top":case"bottom":case"right":case"fontSize":case"outlineWidth":case"outlineOffset":case"paddingTop":case"paddingLeft":case"paddingBottom":case"paddingRight":case"marginTop":case"marginLeft":case"marginBottom":case"marginRight":case"borderRadius":case"borderWidth":case"borderTopWidth":case"borderLeftWidth":case"borderRightWidth":case"borderBottomWidth":case"textIndent":return!0;default:return!1}}(t)&&0!==i&&"0"!==i)if("number"==typeof i)a="px";else{var u=i.match(/^[+-]?[\d\.]+([a-z]*)$/);u&&0==u[1].length&&(l="Please provide a CSS unit value for ".concat(r,":").concat(i))}return{error:l,value:o+a}}}]),DomElementSchemaRegistry}(Ra);var Wa=new Set(["iframe|srcdoc","*|innerhtml","*|outerhtml","embed|src","object|codebase","object|data"]);function isTrustedTypesSink(t,r){return t=t.toLowerCase(),r=r.toLowerCase(),Wa.has(t+"|"+r)||Wa.has("*|"+r)}var Ka=".",Za="attr",$a="class",Xa="style",Ja="animate-",Qa=function(){function BindingParser(t,r,i,a){(0,x.default)(this,BindingParser),this._exprParser=t,this._interpolationConfig=r,this._schemaRegistry=i,this.errors=a}return(0,_.default)(BindingParser,[{key:"interpolationConfig",get:function get(){return this._interpolationConfig}},{key:"createBoundHostProperties",value:function createBoundHostProperties(t,r){for(var i=[],a=0,o=Object.keys(t);a<o.length;a++){var l=o[a],u=t[l];"string"==typeof u?this.parsePropertyBinding(l,u,!0,r,r.start.offset,void 0,[],i,r):this._reportError('Value of the host property binding "'.concat(l,'" needs to be a string representing an expression but got "').concat(u,'" (').concat(typeof u,")"),r)}return i}},{key:"createDirectiveHostEventAsts",value:function createDirectiveHostEventAsts(t,r){for(var i=[],a=0,o=Object.keys(t);a<o.length;a++){var l=o[a],u=t[l];"string"==typeof u?this.parseEvent(l,u,!1,r,r,[],i,r):this._reportError('Value of the host listener "'.concat(l,'" needs to be a string representing an expression but got "').concat(u,'" (').concat(typeof u,")"),r)}return i}},{key:"parseInterpolation",value:function parseInterpolation(t,r,i){var a=r.start.toString(),o=r.fullStart.offset;try{var l=this._exprParser.parseInterpolation(t,a,o,i,this._interpolationConfig);return l&&this._reportExpressionParserErrors(l.errors,r),l}catch(t){return this._reportError("".concat(t),r),this._exprParser.wrapLiteralPrimitive("ERROR",a,o)}}},{key:"parseInterpolationExpression",value:function parseInterpolationExpression(t,r){var i=r.start.toString(),a=r.start.offset;try{var o=this._exprParser.parseInterpolationExpression(t,i,a);return o&&this._reportExpressionParserErrors(o.errors,r),o}catch(t){return this._reportError("".concat(t),r),this._exprParser.wrapLiteralPrimitive("ERROR",i,a)}}},{key:"parseInlineTemplateBinding",value:function parseInlineTemplateBinding(t,r,i,a,o,l,u,p){var h,d=i.start.offset+"*".length,v=this._parseTemplateBindings(t,r,i,d,a),m=(0,E.default)(v);try{for(m.s();!(h=m.n()).done;){var y=h.value,k=moveParseSourceSpan(i,y.sourceSpan),x=y.key.source,_=moveParseSourceSpan(i,y.key.span);if(y instanceof zr){var w=y.value?y.value.source:"$implicit",C=y.value?moveParseSourceSpan(i,y.value.span):void 0;u.push(new Qr(x,w,k,_,C))}else if(y.value){var I=p?k:i,A=moveParseSourceSpan(i,y.value.ast.sourceSpan);this._parsePropertyAst(x,y.value,I,_,A,o,l)}else o.push([x,""]),this.parseLiteralAttr(x,null,_,a,void 0,o,l,_)}}catch(t){m.e(t)}finally{m.f()}}},{key:"_parseTemplateBindings",value:function _parseTemplateBindings(t,r,i,a,o){var l=this,u=i.start.toString();try{var p=this._exprParser.parseTemplateBindings(t,r,u,a,o);return this._reportExpressionParserErrors(p.errors,i),p.warnings.forEach((function(t){l._reportError(t,i,tr.WARNING)})),p.templateBindings}catch(t){return this._reportError("".concat(t),i),[]}}},{key:"parseLiteralAttr",value:function parseLiteralAttr(t,r,i,a,o,l,u,p){isAnimationLabel(t)?(t=t.substring(1),void 0!==p&&(p=moveParseSourceSpan(p,new Ur(p.start.offset+1,p.end.offset))),r&&this._reportError('Assigning animation triggers via @prop="exp" attributes with an expression is invalid. Use property bindings (e.g. [@prop]="exp") or use an attribute without a value (e.g. @prop) instead.',i,tr.ERROR),this._parseAnimation(t,r,i,a,p,o,l,u)):u.push(new Xr(t,this._exprParser.wrapLiteralPrimitive(r,"",a),mr.LITERAL_ATTR,i,p,o))}},{key:"parsePropertyBinding",value:function parsePropertyBinding(t,r,i,a,o,l,u,p,h){0===t.length&&this._reportError("Property name is missing in binding",a);var d=!1;t.startsWith(Ja)?(d=!0,t=t.substring(Ja.length),void 0!==h&&(h=moveParseSourceSpan(h,new Ur(h.start.offset+Ja.length,h.end.offset)))):isAnimationLabel(t)&&(d=!0,t=t.substring(1),void 0!==h&&(h=moveParseSourceSpan(h,new Ur(h.start.offset+1,h.end.offset)))),d?this._parseAnimation(t,r,a,o,h,l,u,p):this._parsePropertyAst(t,this._parseBinding(r,i,l||a,o),a,h,l,u,p)}},{key:"parsePropertyInterpolation",value:function parsePropertyInterpolation(t,r,i,a,o,l,u,p){var h=this.parseInterpolation(r,a||i,p);return!!h&&(this._parsePropertyAst(t,h,i,u,a,o,l),!0)}},{key:"_parsePropertyAst",value:function _parsePropertyAst(t,r,i,a,o,l,u){l.push([t,r.source]),u.push(new Xr(t,r,mr.DEFAULT,i,a,o))}},{key:"_parseAnimation",value:function _parseAnimation(t,r,i,a,o,l,u,p){0===t.length&&this._reportError("Animation trigger is missing",i);var h=this._parseBinding(r||"undefined",!1,l||i,a);u.push([t,h.source]),p.push(new Xr(t,h,mr.ANIMATION,i,o,l))}},{key:"_parseBinding",value:function _parseBinding(t,r,i,a){var o=(i&&i.start||"(unknown)").toString();try{var l=r?this._exprParser.parseSimpleBinding(t,o,a,this._interpolationConfig):this._exprParser.parseBinding(t,o,a,this._interpolationConfig);return l&&this._reportExpressionParserErrors(l.errors,i),l}catch(t){return this._reportError("".concat(t),i),this._exprParser.wrapLiteralPrimitive("ERROR",o,a)}}},{key:"createBoundElementProperty",value:function createBoundElementProperty(t,r){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(r.isAnimation)return new Yr(r.name,4,G.NONE,r.expression,null,r.sourceSpan,r.keySpan,r.valueSpan);var o=null,l=void 0,u=null,p=r.name.split(Ka),h=void 0;if(p.length>1)if(p[0]==Za){u=p.slice(1).join(Ka),i||this._validatePropertyOrAttributeName(u,r.sourceSpan,!0),h=_calcPossibleSecurityContexts(this._schemaRegistry,t,u,!0);var d=u.indexOf(":");if(d>-1){var v=u.substring(0,d),m=u.substring(d+1);u=mergeNsAndName(v,m)}l=1}else p[0]==$a?(u=p[1],l=2,h=[G.NONE]):p[0]==Xa&&(o=p.length>2?p[2]:null,u=p[1],l=3,h=[G.STYLE]);if(null===u){var y=this._schemaRegistry.getMappedPropName(r.name);u=a?y:r.name,h=_calcPossibleSecurityContexts(this._schemaRegistry,t,y,!1),l=0,i||this._validatePropertyOrAttributeName(y,r.sourceSpan,!1)}return new Yr(u,l,h[0],r.expression,o,r.sourceSpan,r.keySpan,r.valueSpan)}},{key:"parseEvent",value:function parseEvent(t,r,i,a,o,l,u,p){0===t.length&&this._reportError("Event name is missing in binding",a),isAnimationLabel(t)?(t=t.slice(1),void 0!==p&&(p=moveParseSourceSpan(p,new Ur(p.start.offset+1,p.end.offset))),this._parseAnimationEvent(t,r,i,a,o,u,p)):this._parseRegularEvent(t,r,i,a,o,l,u,p)}},{key:"calcPossibleSecurityContexts",value:function calcPossibleSecurityContexts(t,r,i){var a=this._schemaRegistry.getMappedPropName(r);return _calcPossibleSecurityContexts(this._schemaRegistry,t,a,i)}},{key:"_parseAnimationEvent",value:function _parseAnimationEvent(t,r,i,a,o,l,u){var p=function splitAtPeriod(t,r){return _splitAt(t,".",r)}(t,[t,""]),h=p[0],d=p[1].toLowerCase(),v=this._parseAction(r,i,o);l.push(new Jr(h,d,1,v,a,o,u)),0===h.length&&this._reportError("Animation event name is missing in binding",a),d?"start"!==d&&"done"!==d&&this._reportError('The provided animation output phase value "'.concat(d,'" for "@').concat(h,'" is not supported (use start or done)'),a):this._reportError("The animation trigger output event (@".concat(h,") is missing its phase value name (start or done are currently supported)"),a)}},{key:"_parseRegularEvent",value:function _parseRegularEvent(t,r,i,a,o,l,u,h){var d=splitAtColon(t,[null,t]),v=(0,p.default)(d,2),m=v[0],y=v[1],E=this._parseAction(r,i,o);l.push([t,E.source]),u.push(new Jr(y,m,0,E,a,o,h))}},{key:"_parseAction",value:function _parseAction(t,r,i){var a=(i&&i.start||"(unknown").toString(),o=i&&i.start?i.start.offset:0;try{var l=this._exprParser.parseAction(t,r,a,o,this._interpolationConfig);return l&&this._reportExpressionParserErrors(l.errors,i),!l||l.ast instanceof xr?(this._reportError("Empty expressions are not allowed",i),this._exprParser.wrapLiteralPrimitive("ERROR",a,o)):l}catch(t){return this._reportError("".concat(t),i),this._exprParser.wrapLiteralPrimitive("ERROR",a,o)}}},{key:"_reportError",value:function _reportError(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:tr.ERROR;this.errors.push(new ar(r,t,i))}},{key:"_reportExpressionParserErrors",value:function _reportExpressionParserErrors(t,r){var i,a=(0,E.default)(t);try{for(a.s();!(i=a.n()).done;){var o=i.value;this._reportError(o.message,r)}}catch(t){a.e(t)}finally{a.f()}}},{key:"_validatePropertyOrAttributeName",value:function _validatePropertyOrAttributeName(t,r,i){var a=i?this._schemaRegistry.validateAttribute(t):this._schemaRegistry.validateProperty(t);a.error&&this._reportError(a.msg,r,tr.ERROR)}}]),BindingParser}();function isAnimationLabel(t){return"@"==t[0]}function _calcPossibleSecurityContexts(t,r,i,a){var o=[];return q.parse(r).forEach((function(r){var l=r.element?[r.element]:t.allKnownElementNames(),u=new Set(r.notSelectors.filter((function(t){return t.isElementSelector()})).map((function(t){return t.element}))),p=l.filter((function(t){return!u.has(t)}));o.push.apply(o,(0,k.default)(p.map((function(r){return t.securityContext(r,i,a)}))))})),0===o.length?[G.NONE]:Array.from(new Set(o)).sort()}function moveParseSourceSpan(t,r){var i=r.start-t.start.offset,a=r.end-t.end.offset;return new ir(t.start.moveBy(i),t.end.moveBy(a),t.fullStart.moveBy(i),t.details)}var Ya,es=/^([^:/?#]+):/;function preparseElement(t){var r=null,i=null,a=null,o=!1,l="";t.attrs.forEach((function(t){var u=t.name.toLowerCase();"select"==u?r=t.value:"href"==u?i=t.value:"rel"==u?a=t.value:"ngNonBindable"==t.name?o=!0:"ngProjectAs"==t.name&&t.value.length>0&&(l=t.value)})),r=function normalizeNgContentSelect(t){if(null===t||0===t.length)return"*";return t}(r);var u=t.name.toLowerCase(),p=Ya.OTHER;return isNgContent(u)?p=Ya.NG_CONTENT:"style"==u?p=Ya.STYLE:"script"==u?p=Ya.SCRIPT:"link"==u&&"stylesheet"==a&&(p=Ya.STYLESHEET),new ts(p,r,i,o,l)}!function(t){t[t.NG_CONTENT=0]="NG_CONTENT",t[t.STYLE=1]="STYLE",t[t.STYLESHEET=2]="STYLESHEET",t[t.SCRIPT=3]="SCRIPT",t[t.OTHER=4]="OTHER"}(Ya||(Ya={}));var ts=(0,_.default)((function PreparsedElement(t,r,i,a,o){(0,x.default)(this,PreparsedElement),this.type=t,this.selectAttr=r,this.hrefAttr=i,this.nonBindable=a,this.projectAs=o}));var ns=/^(?:(bind-)|(let-)|(ref-|#)|(on-)|(bindon-)|(@))(.*)$/,rs={start:"[(",end:")]"},is={start:"[",end:"]"},as={start:"(",end:")"};function htmlAstToRender3Ast(t,r,i){var a=new os(r,i),o={nodes:visitAll(a,t),errors:r.errors.concat(a.errors),styleUrls:a.styleUrls,styles:a.styles,ngContentSelectors:a.ngContentSelectors};return i.collectCommentNodes&&(o.commentNodes=a.commentNodes),o}var ss,os=function(){function HtmlAstToIvyAst(t,r){(0,x.default)(this,HtmlAstToIvyAst),this.bindingParser=t,this.options=r,this.errors=[],this.styles=[],this.styleUrls=[],this.ngContentSelectors=[],this.commentNodes=[],this.inI18nBlock=!1}return(0,_.default)(HtmlAstToIvyAst,[{key:"visitElement",value:function visitElement(t){var r=this,i=isI18nRootNode(t.i18n);i&&(this.inI18nBlock&&this.reportError("Cannot mark an element as translatable inside of a translatable section. Please remove the nested i18n marker.",t.sourceSpan),this.inI18nBlock=!0);var a=preparseElement(t);if(a.type===Ya.SCRIPT)return null;if(a.type===Ya.STYLE){var o=function textContents(t){return 1===t.children.length&&t.children[0]instanceof Xi?t.children[0].value:null}(t);return null!==o&&this.styles.push(o),null}if(a.type===Ya.STYLESHEET&&function isStyleUrlResolvable(t){if(null==t||0===t.length||"/"==t[0])return!1;var r=t.match(es);return null===r||"package"==r[1]||"asset"==r[1]}(a.hrefAttr))return this.styleUrls.push(a.hrefAttr),null;var l,u=isNgTemplate(t.name),p=[],h=[],d=[],v=[],m=[],y={},x=[],_=[],w=!1,C=(0,E.default)(t.attrs);try{for(C.s();!(l=C.n()).done;){var I=l.value,A=!1,D=normalizeAttributeName(I.name),O=!1;if(I.i18n&&(y[I.name]=I.i18n),D.startsWith("*")){w&&this.reportError("Can't have multiple template bindings on one element. Use only one attribute prefixed with *",I.sourceSpan),O=!0,w=!0;var B=I.value,q=D.substring("*".length),j=[],H=I.valueSpan?I.valueSpan.start.offset:I.sourceSpan.start.offset+I.name.length;this.bindingParser.parseInlineTemplateBinding(q,B,I.sourceSpan,H,[],x,j,!0),_.push.apply(_,(0,k.default)(j.map((function(t){return new Jt(t.name,t.value,t.sourceSpan,t.keySpan,t.valueSpan)}))))}else A=this.parseAttribute(u,I,[],p,h,d,v);A||O||m.push(this.visitAttribute(I))}}catch(t){C.e(t)}finally{C.f()}var z,$=visitAll(a.nonBindable?ls:this,t.children);if(a.type===Ya.NG_CONTENT){t.children&&!t.children.every((function(t){return function isEmptyTextNode(t){return t instanceof Xi&&0==t.value.trim().length}(t)||function isCommentNode(t){return t instanceof na}(t)}))&&this.reportError("<ng-content> element cannot have content.",t.sourceSpan);var G=a.selectAttr,ee=t.attrs.map((function(t){return r.visitAttribute(t)}));z=new Xt(G,ee,t.sourceSpan,t.i18n),this.ngContentSelectors.push(G)}else if(u){var te=this.extractAttributes(t.name,p,y);z=new Gt(t.name,m,te.bound,h,[],$,v,d,t.sourceSpan,t.startSourceSpan,t.endSourceSpan,t.i18n)}else{var ne=this.extractAttributes(t.name,p,y);z=new $t(t.name,m,ne.bound,h,$,v,t.sourceSpan,t.startSourceSpan,t.endSourceSpan,t.i18n)}if(w){var re=this.extractAttributes("ng-template",x,y),ie=[];re.literal.forEach((function(t){return ie.push(t)})),re.bound.forEach((function(t){return ie.push(t)}));var ae=z instanceof $t?{attributes:z.attributes,inputs:z.inputs,outputs:z.outputs}:{attributes:[],inputs:[],outputs:[]},se=u&&i?void 0:t.i18n,oe=z instanceof Gt?null:z.name;z=new Gt(oe,ae.attributes,ae.inputs,ae.outputs,ie,[z],[],_,t.sourceSpan,t.startSourceSpan,t.endSourceSpan,se)}return i&&(this.inI18nBlock=!1),z}},{key:"visitAttribute",value:function visitAttribute(t){return new zt(t.name,t.value,t.sourceSpan,t.keySpan,t.valueSpan,t.i18n)}},{key:"visitText",value:function visitText(t){return this._visitTextWithInterpolation(t.value,t.sourceSpan,t.tokens,t.i18n)}},{key:"visitExpansion",value:function visitExpansion(t){var r=this;if(!t.i18n)return null;if(!isI18nRootNode(t.i18n))throw new Error('Invalid type "'.concat(t.i18n.constructor,'" for "i18n" property of ').concat(t.sourceSpan.toString(),'. Expected a "Message"'));var i=t.i18n,a={},o={};return Object.keys(i.placeholders).forEach((function(t){var l=i.placeholders[t];if(t.startsWith("VAR_")){var u=t.trim(),p=r.bindingParser.parseInterpolationExpression(l.text,l.sourceSpan);a[u]=new Wt(p,l.sourceSpan)}else o[t]=r._visitTextWithInterpolation(l.text,l.sourceSpan,null)})),new Yt(a,o,t.sourceSpan,i)}},{key:"visitExpansionCase",value:function visitExpansionCase(t){return null}},{key:"visitComment",value:function visitComment(t){return this.options.collectCommentNodes&&this.commentNodes.push(new Ht(t.value||"",t.sourceSpan)),null}},{key:"extractAttributes",value:function extractAttributes(t,r,i){var a=this,o=[],l=[];return r.forEach((function(r){var u=i[r.name];if(r.isLiteral)l.push(new zt(r.name,r.expression.source||"",r.sourceSpan,r.keySpan,r.valueSpan,u));else{var p=a.bindingParser.createBoundElementProperty(t,r,!0,!1);o.push(Kt.fromBoundElementProperty(p,u))}})),{bound:o,literal:l}}},{key:"parseAttribute",value:function parseAttribute(t,r,i,a,o,l,u){var p,h=normalizeAttributeName(r.name),d=r.value,v=r.sourceSpan,m=r.valueSpan?r.valueSpan.start.offset:v.start.offset;function createKeySpan(t,i,a){var o=r.name.length-h.length,l=t.start.moveBy(i.length+o),u=l.moveBy(a.length);return new ir(l,u,l,a)}var y=h.match(ns);if(y){if(null!=y[1]){var E=y[7],k=createKeySpan(v,y[1],E);this.bindingParser.parsePropertyBinding(E,d,!1,v,m,r.valueSpan,i,a,k)}else if(y[2])if(t){var x=y[7],_=createKeySpan(v,y[2],x);this.parseVariable(x,d,v,_,r.valueSpan,l)}else this.reportError('"let-" is only supported on ng-template elements.',v);else if(y[3]){var w=y[7],C=createKeySpan(v,y[3],w);this.parseReference(w,d,v,C,r.valueSpan,u)}else if(y[4]){var I=[],A=y[7],D=createKeySpan(v,y[4],A);this.bindingParser.parseEvent(A,d,!1,v,r.valueSpan||v,i,I,D),addEvents(I,o)}else if(y[5]){var O=y[7],B=createKeySpan(v,y[5],O);this.bindingParser.parsePropertyBinding(O,d,!1,v,m,r.valueSpan,i,a,B),this.parseAssignmentEvent(O,d,v,r.valueSpan,i,o,B)}else if(y[6]){var q=createKeySpan(v,"",h);this.bindingParser.parseLiteralAttr(h,d,v,m,r.valueSpan,i,a,q)}return!0}var j=null;if(h.startsWith(rs.start)?j=rs:h.startsWith(is.start)?j=is:h.startsWith(as.start)&&(j=as),null!==j&&h.endsWith(j.end)&&h.length>j.start.length+j.end.length){var H=h.substring(j.start.length,h.length-j.end.length),z=createKeySpan(v,j.start,H);if(j.start===rs.start)this.bindingParser.parsePropertyBinding(H,d,!1,v,m,r.valueSpan,i,a,z),this.parseAssignmentEvent(H,d,v,r.valueSpan,i,o,z);else if(j.start===is.start)this.bindingParser.parsePropertyBinding(H,d,!1,v,m,r.valueSpan,i,a,z);else{var $=[];this.bindingParser.parseEvent(H,d,!1,v,r.valueSpan||v,i,$,z),addEvents($,o)}return!0}var G=createKeySpan(v,"",h);return this.bindingParser.parsePropertyInterpolation(h,d,v,r.valueSpan,i,a,G,null!==(p=r.valueTokens)&&void 0!==p?p:null)}},{key:"_visitTextWithInterpolation",value:function _visitTextWithInterpolation(t,r,i,a){var o=replaceNgsp(t),l=this.bindingParser.parseInterpolation(o,r,i);return l?new Wt(l,r,a):new Ut(o,r)}},{key:"parseVariable",value:function parseVariable(t,r,i,a,o,l){t.indexOf("-")>-1?this.reportError('"-" is not allowed in variable names',i):0===t.length&&this.reportError("Variable does not have a name",i),l.push(new Jt(t,r,i,a,o))}},{key:"parseReference",value:function parseReference(t,r,i,a,o,l){t.indexOf("-")>-1?this.reportError('"-" is not allowed in reference names',i):0===t.length?this.reportError("Reference does not have a name",i):l.some((function(r){return r.name===t}))&&this.reportError('Reference "#'.concat(t,'" is defined more than once'),i),l.push(new Qt(t,r,i,a,o))}},{key:"parseAssignmentEvent",value:function parseAssignmentEvent(t,r,i,a,o,l,u){var p=[];this.bindingParser.parseEvent("".concat(t,"Change"),"".concat(r," =$event"),!0,i,a||i,o,p,u),addEvents(p,l)}},{key:"reportError",value:function reportError(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:tr.ERROR;this.errors.push(new ar(r,t,i))}}]),HtmlAstToIvyAst}(),ls=new(function(){function NonBindableVisitor(){(0,x.default)(this,NonBindableVisitor)}return(0,_.default)(NonBindableVisitor,[{key:"visitElement",value:function visitElement(t){var r=preparseElement(t);if(r.type===Ya.SCRIPT||r.type===Ya.STYLE||r.type===Ya.STYLESHEET)return null;var i=visitAll(this,t.children,null);return new $t(t.name,visitAll(this,t.attrs),[],[],i,[],t.sourceSpan,t.startSourceSpan,t.endSourceSpan)}},{key:"visitComment",value:function visitComment(t){return null}},{key:"visitAttribute",value:function visitAttribute(t){return new zt(t.name,t.value,t.sourceSpan,t.keySpan,t.valueSpan,t.i18n)}},{key:"visitText",value:function visitText(t){return new Ut(t.value,t.sourceSpan)}},{key:"visitExpansion",value:function visitExpansion(t){return null}},{key:"visitExpansionCase",value:function visitExpansionCase(t){return null}}]),NonBindableVisitor}());function normalizeAttributeName(t){return/^data-/i.test(t)?t.substring(5):t}function addEvents(t,r){r.push.apply(r,(0,k.default)(t.map((function(t){return Zt.fromParsedEvent(t)}))))}function setupRegistry(){return{getUniqueId:getSeqNumberGenerator(),icus:new Map}}!function(t){t[t.ELEMENT=0]="ELEMENT",t[t.TEMPLATE=1]="TEMPLATE"}(ss||(ss={}));var us=function(){function I18nContext(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4?arguments[4]:void 0,l=arguments.length>5?arguments[5]:void 0;(0,x.default)(this,I18nContext),this.index=t,this.ref=r,this.level=i,this.templateIndex=a,this.meta=o,this.registry=l,this.bindings=new Set,this.placeholders=new Map,this.isEmitted=!1,this._unresolvedCtxCount=0,this._registry=l||setupRegistry(),this.id=this._registry.getUniqueId()}return(0,_.default)(I18nContext,[{key:"appendTag",value:function appendTag(t,r,i,a){if(!r.isVoid||!a){var o=r.isVoid||!a?r.startName:r.closeName,l={type:t,index:i,ctx:this.id,isVoid:r.isVoid,closed:a};updatePlaceholderMap(this.placeholders,o,l)}}},{key:"icus",get:function get(){return this._registry.icus}},{key:"isRoot",get:function get(){return 0===this.level}},{key:"isResolved",get:function get(){return 0===this._unresolvedCtxCount}},{key:"getSerializedPlaceholders",value:function getSerializedPlaceholders(){var t=new Map;return this.placeholders.forEach((function(r,i){return t.set(i,r.map(serializePlaceholderValue))})),t}},{key:"appendBinding",value:function appendBinding(t){this.bindings.add(t)}},{key:"appendIcu",value:function appendIcu(t,r){updatePlaceholderMap(this._registry.icus,t,r)}},{key:"appendBoundText",value:function appendBoundText(t){var r=this;assembleBoundTextPlaceholders(t,this.bindings.size,this.id).forEach((function(t,i){return updatePlaceholderMap.apply(void 0,[r.placeholders,i].concat((0,k.default)(t)))}))}},{key:"appendTemplate",value:function appendTemplate(t,r){this.appendTag(ss.TEMPLATE,t,r,!1),this.appendTag(ss.TEMPLATE,t,r,!0),this._unresolvedCtxCount++}},{key:"appendElement",value:function appendElement(t,r,i){this.appendTag(ss.ELEMENT,t,r,i)}},{key:"appendProjection",value:function appendProjection(t,r){this.appendTag(ss.ELEMENT,t,r,!1),this.appendTag(ss.ELEMENT,t,r,!0)}},{key:"forkChildContext",value:function forkChildContext(t,r,i){return new I18nContext(t,this.ref,this.level+1,r,i,this._registry)}},{key:"reconcileChildContext",value:function reconcileChildContext(t){var r=this;["start","close"].forEach((function(i){var a=t.meta["".concat(i,"Name")],o=(r.placeholders.get(a)||[]).find(findTemplateFn(r.id,t.templateIndex));o&&(o.ctx=t.id)})),t.placeholders.forEach((function(i,a){var o=r.placeholders.get(a);if(o){var l=o.findIndex(findTemplateFn(t.id,t.templateIndex));if(l>=0){var u=a.startsWith("CLOSE");if(a.endsWith("NG-TEMPLATE"))o.splice.apply(o,[l+(u?0:1),0].concat((0,k.default)(i)));else i[u?i.length-1:0].tmpl=o[l],o.splice.apply(o,[l,1].concat((0,k.default)(i)))}else o.push.apply(o,(0,k.default)(i));r.placeholders.set(a,o)}else r.placeholders.set(a,i)})),this._unresolvedCtxCount--}}]),I18nContext}();function wrap(t,r,i,a){return wrapI18nPlaceholder("".concat(a?"/":"").concat(t).concat(r),i)}function wrapTag(t,r,i){var a=r.index,o=r.ctx;return r.isVoid?wrap(t,a,o)+wrap(t,a,o,!0):wrap(t,a,o,i)}function findTemplateFn(t,r){return function(i){return"object"==typeof i&&i.type===ss.TEMPLATE&&i.index===r&&i.ctx===t}}function serializePlaceholderValue(t){var r=function element(t,r){return wrapTag("#",t,r)},i=function template(t,r){return wrapTag("*",t,r)};switch(t.type){case ss.ELEMENT:return t.closed?r(t,!0)+(t.tmpl?i(t.tmpl,!0):""):t.tmpl?i(t.tmpl)+r(t)+(t.isVoid?i(t.tmpl,!0):""):r(t);case ss.TEMPLATE:return i(t,t.closed);default:return t}}var cs=new(function(){function IcuSerializerVisitor(){(0,x.default)(this,IcuSerializerVisitor)}return(0,_.default)(IcuSerializerVisitor,[{key:"visitText",value:function visitText(t){return t.value}},{key:"visitContainer",value:function visitContainer(t){var r=this;return t.children.map((function(t){return t.visit(r)})).join("")}},{key:"visitIcu",value:function visitIcu(t){var r=this,i=Object.keys(t.cases).map((function(i){return"".concat(i," {").concat(t.cases[i].visit(r),"}")}));return"{".concat(t.expressionPlaceholder,", ").concat(t.type,", ").concat(i.join(" "),"}")}},{key:"visitTagPlaceholder",value:function visitTagPlaceholder(t){var r=this;return t.isVoid?this.formatPh(t.startName):"".concat(this.formatPh(t.startName)).concat(t.children.map((function(t){return t.visit(r)})).join("")).concat(this.formatPh(t.closeName))}},{key:"visitPlaceholder",value:function visitPlaceholder(t){return this.formatPh(t.name)}},{key:"visitIcuPlaceholder",value:function visitIcuPlaceholder(t,r){return this.formatPh(t.name)}},{key:"formatPh",value:function formatPh(t){return"{".concat(formatI18nPlaceholderName(t,!1),"}")}}]),IcuSerializerVisitor}());function serializeIcuNode(t){return t.visit(cs)}var ps={A:"LINK",B:"BOLD_TEXT",BR:"LINE_BREAK",EM:"EMPHASISED_TEXT",H1:"HEADING_LEVEL1",H2:"HEADING_LEVEL2",H3:"HEADING_LEVEL3",H4:"HEADING_LEVEL4",H5:"HEADING_LEVEL5",H6:"HEADING_LEVEL6",HR:"HORIZONTAL_RULE",I:"ITALIC_TEXT",LI:"LIST_ITEM",LINK:"MEDIA_LINK",OL:"ORDERED_LIST",P:"PARAGRAPH",Q:"QUOTATION",S:"STRIKETHROUGH_TEXT",SMALL:"SMALL_TEXT",SUB:"SUBSTRIPT",SUP:"SUPERSCRIPT",TBODY:"TABLE_BODY",TD:"TABLE_CELL",TFOOT:"TABLE_FOOTER",TH:"TABLE_HEADER_CELL",THEAD:"TABLE_HEADER",TR:"TABLE_ROW",TT:"MONOSPACED_TEXT",U:"UNDERLINED_TEXT",UL:"UNORDERED_LIST"},hs=function(){function PlaceholderRegistry(){(0,x.default)(this,PlaceholderRegistry),this._placeHolderNameCounts={},this._signatureToName={}}return(0,_.default)(PlaceholderRegistry,[{key:"getStartTagPlaceholderName",value:function getStartTagPlaceholderName(t,r,i){var a=this._hashTag(t,r,i);if(this._signatureToName[a])return this._signatureToName[a];var o=t.toUpperCase(),l=ps[o]||"TAG_".concat(o),u=this._generateUniqueName(i?l:"START_".concat(l));return this._signatureToName[a]=u,u}},{key:"getCloseTagPlaceholderName",value:function getCloseTagPlaceholderName(t){var r=this._hashClosingTag(t);if(this._signatureToName[r])return this._signatureToName[r];var i=t.toUpperCase(),a=ps[i]||"TAG_".concat(i),o=this._generateUniqueName("CLOSE_".concat(a));return this._signatureToName[r]=o,o}},{key:"getPlaceholderName",value:function getPlaceholderName(t,r){var i=t.toUpperCase(),a="PH: ".concat(i,"=").concat(r);if(this._signatureToName[a])return this._signatureToName[a];var o=this._generateUniqueName(i);return this._signatureToName[a]=o,o}},{key:"getUniquePlaceholder",value:function getUniquePlaceholder(t){return this._generateUniqueName(t.toUpperCase())}},{key:"_hashTag",value:function _hashTag(t,r,i){return"<".concat(t)+Object.keys(r).sort().map((function(t){return" ".concat(t,"=").concat(r[t])})).join("")+(i?"/>":"></".concat(t,">"))}},{key:"_hashClosingTag",value:function _hashClosingTag(t){return this._hashTag("/".concat(t),{},!1)}},{key:"_generateUniqueName",value:function _generateUniqueName(t){if(!this._placeHolderNameCounts.hasOwnProperty(t))return this._placeHolderNameCounts[t]=1,t;var r=this._placeHolderNameCounts[t];return this._placeHolderNameCounts[t]=r+1,"".concat(t,"_").concat(r)}}]),PlaceholderRegistry}(),fs=new Ki(new Vi);function createI18nMessageFactory(t){var r=new ds(fs,t);return function(t,i,a,o,l){return r.toI18nMessage(t,i,a,o,l)}}function noopVisitNodeFn(t,r){return r}var ds=function(){function _I18nVisitor(t,r){(0,x.default)(this,_I18nVisitor),this._expressionParser=t,this._interpolationConfig=r}return(0,_.default)(_I18nVisitor,[{key:"toI18nMessage",value:function toI18nMessage(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4?arguments[4]:void 0,l={isIcu:1==t.length&&t[0]instanceof Ji,icuDepth:0,placeholderRegistry:new hs,placeholderToContent:{},placeholderToMessage:{},visitNodeFn:o||noopVisitNodeFn},u=visitAll(this,t,l);return new tn(u,l.placeholderToContent,l.placeholderToMessage,r,i,a)}},{key:"visitElement",value:function visitElement(t,r){var i,a=visitAll(this,t.children,r),o={};t.attrs.forEach((function(t){o[t.name]=t.value}));var l=getHtmlTagDefinition(t.name).isVoid,u=r.placeholderRegistry.getStartTagPlaceholderName(t.name,o,l);r.placeholderToContent[u]={text:t.startSourceSpan.toString(),sourceSpan:t.startSourceSpan};var p="";l||(p=r.placeholderRegistry.getCloseTagPlaceholderName(t.name),r.placeholderToContent[p]={text:"</".concat(t.name,">"),sourceSpan:null!==(i=t.endSourceSpan)&&void 0!==i?i:t.sourceSpan});var h=new sn(t.name,o,u,p,a,l,t.sourceSpan,t.startSourceSpan,t.endSourceSpan);return r.visitNodeFn(t,h)}},{key:"visitAttribute",value:function visitAttribute(t,r){var i=void 0===t.valueTokens||1===t.valueTokens.length?new nn(t.value,t.valueSpan||t.sourceSpan):this._visitTextWithInterpolation(t.valueTokens,t.valueSpan||t.sourceSpan,r,t.i18n);return r.visitNodeFn(t,i)}},{key:"visitText",value:function visitText(t,r){var i=1===t.tokens.length?new nn(t.value,t.sourceSpan):this._visitTextWithInterpolation(t.tokens,t.sourceSpan,r,t.i18n);return r.visitNodeFn(t,i)}},{key:"visitComment",value:function visitComment(t,r){return null}},{key:"visitExpansion",value:function visitExpansion(t,r){var i=this;r.icuDepth++;var a={},o=new an(t.switchValue,t.type,a,t.sourceSpan);if(t.cases.forEach((function(t){a[t.value]=new rn(t.expression.map((function(t){return t.visit(i,r)})),t.expSourceSpan)})),r.icuDepth--,r.isIcu||r.icuDepth>0){var l=r.placeholderRegistry.getUniquePlaceholder("VAR_".concat(t.type));return o.expressionPlaceholder=l,r.placeholderToContent[l]={text:t.switchValue,sourceSpan:t.switchValueSourceSpan},r.visitNodeFn(t,o)}var u=r.placeholderRegistry.getPlaceholderName("ICU",t.sourceSpan.toString());r.placeholderToMessage[u]=this.toI18nMessage([t],"","","",void 0);var p=new ln(o,u,t.sourceSpan);return r.visitNodeFn(t,p)}},{key:"visitExpansionCase",value:function visitExpansionCase(t,r){throw new Error("Unreachable code")}},{key:"_visitTextWithInterpolation",value:function _visitTextWithInterpolation(t,r,i,a){var o,l=[],u=!1,p=(0,E.default)(t);try{for(p.s();!(o=p.n()).done;){var h=o.value;switch(h.type){case 8:case 17:u=!0;var d=h.parts[1],v=d.split(vs)[2]||"INTERPOLATION",m=i.placeholderRegistry.getPlaceholderName(v,d);i.placeholderToContent[m]={text:h.parts.join(""),sourceSpan:h.sourceSpan},l.push(new on(d,m,h.sourceSpan));break;default:if(h.parts[0].length>0){var y=l[l.length-1];y instanceof nn?(y.value+=h.parts[0],y.sourceSpan=new ir(y.sourceSpan.start,h.sourceSpan.end,y.sourceSpan.fullStart,y.sourceSpan.details)):l.push(new nn(h.parts[0],h.sourceSpan))}}}}catch(t){p.e(t)}finally{p.f()}return u?(function reusePreviousSourceSpans(t,r){r instanceof tn&&(!function assertSingleContainerMessage(t){var r=t.nodes;if(1!==r.length||!(r[0]instanceof rn))throw new Error("Unexpected previous i18n message - expected it to consist of only a single `Container` node.")}(r),r=r.nodes[0]);if(r instanceof rn){!function assertEquivalentNodes(t,r){if(t.length!==r.length)throw new Error("The number of i18n message children changed between first and second pass.");if(t.some((function(t,i){return r[i].constructor!==t.constructor})))throw new Error("The types of the i18n message children changed between first and second pass.")}(r.children,t);for(var i=0;i<t.length;i++)t[i].sourceSpan=r.children[i].sourceSpan}}(l,a),new rn(l,r)):l[0]}}]),_I18nVisitor}();var vs=/\/\/[\s\S]*i18n[\s\S]*\([\s\S]*ph[\s\S]*=[\s\S]*("|')([\s\S]*?)\1[\s\S]*\)/g;var ms=function(t){(0,m.default)(I18nError,t);var r=(0,y.default)(I18nError);function I18nError(t,i){return(0,x.default)(this,I18nError),r.call(this,t,i)}return(0,_.default)(I18nError)}(ar),gs=function setI18nRefs(t,r){return t instanceof Gi&&(r instanceof ln&&t.i18n instanceof tn&&(r.previousMessage=t.i18n),t.i18n=r),r},ys=function(){function I18nMetaVisitor(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,x.default)(this,I18nMetaVisitor),this.interpolationConfig=t,this.keepI18nAttrs=r,this.enableI18nLegacyMessageIdFormat=i,this.hasI18nMeta=!1,this._errors=[],this._createI18nMessage=createI18nMessageFactory(this.interpolationConfig)}return(0,_.default)(I18nMetaVisitor,[{key:"_generateI18nMessage",value:function _generateI18nMessage(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2?arguments[2]:void 0,a=this._parseMetadata(r),o=a.meaning,l=a.description,u=a.customId,p=this._createI18nMessage(t,o,l,u,i);return this._setMessageId(p,r),this._setLegacyIds(p,r),p}},{key:"visitAllWithErrors",value:function visitAllWithErrors(t){var r=this,i=t.map((function(t){return t.visit(r,null)}));return new Ea(i,this._errors)}},{key:"visitElement",value:function visitElement(t){var r=void 0;if(function hasI18nAttrs(t){return t.attrs.some((function(t){return isI18nAttribute(t.name)}))}(t)){this.hasI18nMeta=!0;var i,a=[],o={},l=(0,E.default)(t.attrs);try{for(l.s();!(i=l.n()).done;){var u=i.value;if(u.name===In){var p=t.i18n||u.value;0===(r=this._generateI18nMessage(t.children,p,gs)).nodes.length&&(r=void 0),t.i18n=r}else if(u.name.startsWith(Pn)){var h=u.name.slice(Pn.length);isTrustedTypesSink(t.name,h)?this._reportError(u,"Translating attribute '".concat(h,"' is disallowed for security reasons.")):o[h]=u.value}else a.push(u)}}catch(t){l.e(t)}finally{l.f()}if(Object.keys(o).length){var d,v=(0,E.default)(a);try{for(v.s();!(d=v.n()).done;){var m=d.value,y=o[m.name];void 0!==y&&m.value&&(m.i18n=this._generateI18nMessage([m],m.i18n||y))}}catch(t){v.e(t)}finally{v.f()}}this.keepI18nAttrs||(t.attrs=a)}return visitAll(this,t.children,r),t}},{key:"visitExpansion",value:function visitExpansion(t,r){var i,a=t.i18n;if(this.hasI18nMeta=!0,a instanceof ln){var o=a.name;icuFromI18nMessage(i=this._generateI18nMessage([t],a)).name=o,null!==r&&(r.placeholderToMessage[o]=i)}else i=this._generateI18nMessage([t],r||a);return t.i18n=i,t}},{key:"visitText",value:function visitText(t){return t}},{key:"visitAttribute",value:function visitAttribute(t){return t}},{key:"visitComment",value:function visitComment(t){return t}},{key:"visitExpansionCase",value:function visitExpansionCase(t){return t}},{key:"_parseMetadata",value:function _parseMetadata(t){return"string"==typeof t?function parseI18nMeta(){var t,r,i,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(a=a.trim()){var o,l=a.indexOf(Es),u=a.indexOf("|"),h=l>-1?[a.slice(0,l),a.slice(l+2)]:[a,""],d=(0,p.default)(h,2);o=d[0],t=d[1];var v=u>-1?[o.slice(0,u),o.slice(u+1)]:["",o],m=(0,p.default)(v,2);r=m[0],i=m[1]}return{customId:t,meaning:r,description:i}}(t):t instanceof tn?t:{}}},{key:"_setMessageId",value:function _setMessageId(t,r){t.id||(t.id=r instanceof tn&&r.id||decimalDigest(t))}},{key:"_setLegacyIds",value:function _setLegacyIds(t,r){if(this.enableI18nLegacyMessageIdFormat)t.legacyIds=[computeDigest(t),computeDecimalDigest(t)];else if("string"!=typeof r){var i=r instanceof tn?r:r instanceof ln?r.previousMessage:void 0;t.legacyIds=i?i.legacyIds:[]}}},{key:"_reportError",value:function _reportError(t,r){this._errors.push(new ms(t.sourceSpan,r))}}]),I18nMetaVisitor}(),Es="@@";function createGoogleGetMsgStatements(t,r,i,a){var o=function serializeI18nMessageForGetMsg(t){return t.nodes.map((function(t){return t.visit(ks,null)})).join("")}(r),l=[literal(o)];Object.keys(a).length&&(l.push(mapLiteral(formatI18nPlaceholderNamesInMap(a,!0),!0)),l.push(mapLiteral({original_code:literalMap(Object.keys(a).map((function(t){return{key:formatI18nPlaceholderName(t),quoted:!0,value:r.placeholders[t]?literal(r.placeholders[t].sourceSpan.toString()):literal(r.placeholderToMessage[t].nodes.map((function(t){return t.sourceSpan.toString()})).join(""))}})))})));var u=i.set(variable("goog.getMsg").callFn(l)).toConstDecl();return u.addLeadingComment(function i18nMetaToJSDoc(t){var r=[];return t.description?r.push({tagName:"desc",text:t.description}):r.push({tagName:"suppress",text:"{msgDescriptions}"}),t.meaning&&r.push({tagName:"meaning",text:t.meaning}),jsDocComment(r)}(r)),[u,new xt(t.set(i))]}var ks=new(function(){function GetMsgSerializerVisitor(){(0,x.default)(this,GetMsgSerializerVisitor)}return(0,_.default)(GetMsgSerializerVisitor,[{key:"formatPh",value:function formatPh(t){return"{$".concat(formatI18nPlaceholderName(t),"}")}},{key:"visitText",value:function visitText(t){return t.value}},{key:"visitContainer",value:function visitContainer(t){var r=this;return t.children.map((function(t){return t.visit(r)})).join("")}},{key:"visitIcu",value:function visitIcu(t){return serializeIcuNode(t)}},{key:"visitTagPlaceholder",value:function visitTagPlaceholder(t){var r=this;return t.isVoid?this.formatPh(t.startName):"".concat(this.formatPh(t.startName)).concat(t.children.map((function(t){return t.visit(r)})).join("")).concat(this.formatPh(t.closeName))}},{key:"visitPlaceholder",value:function visitPlaceholder(t){return this.formatPh(t.name)}},{key:"visitIcuPlaceholder",value:function visitIcuPlaceholder(t,r){return this.formatPh(t.name)}}]),GetMsgSerializerVisitor}());function createLocalizeStatements(t,r,i){var a=function serializeI18nMessageForLocalize(t){var r=[],i=new xs(t.placeholderToMessage,r);return t.nodes.forEach((function(t){return t.visit(i)})),function processMessagePieces(t){var r=[],i=[];t[0]instanceof Ze&&r.push(createEmptyMessagePart(t[0].sourceSpan.start));for(var a=0;a<t.length;a++){var o=t[a];o instanceof Ke?r.push(o):(i.push(o),t[a-1]instanceof Ze&&r.push(createEmptyMessagePart(t[a-1].sourceSpan.end)))}t[t.length-1]instanceof Ze&&r.push(createEmptyMessagePart(t[t.length-1].sourceSpan.end));return{messageParts:r,placeHolders:i}}(r)}(r),o=a.messageParts,l=a.placeHolders,u=function getSourceSpan(t){var r=t.nodes[0],i=t.nodes[t.nodes.length-1];return new ir(r.sourceSpan.fullStart,i.sourceSpan.end,r.sourceSpan.fullStart,r.sourceSpan.details)}(r),p=l.map((function(t){return i[t.text]})),h=localizedString(r,o,l,p,u),d=t.set(h);return[new xt(d)]}var xs=function(){function LocalizeSerializerVisitor(t,r){(0,x.default)(this,LocalizeSerializerVisitor),this.placeholderToMessage=t,this.pieces=r}return(0,_.default)(LocalizeSerializerVisitor,[{key:"visitText",value:function visitText(t){if(this.pieces[this.pieces.length-1]instanceof Ke)this.pieces[this.pieces.length-1].text+=t.value;else{var r=new ir(t.sourceSpan.fullStart,t.sourceSpan.end,t.sourceSpan.fullStart,t.sourceSpan.details);this.pieces.push(new Ke(t.value,r))}}},{key:"visitContainer",value:function visitContainer(t){var r=this;t.children.forEach((function(t){return t.visit(r)}))}},{key:"visitIcu",value:function visitIcu(t){this.pieces.push(new Ke(serializeIcuNode(t),t.sourceSpan))}},{key:"visitTagPlaceholder",value:function visitTagPlaceholder(t){var r,i,a=this;this.pieces.push(this.createPlaceholderPiece(t.startName,null!==(r=t.startSourceSpan)&&void 0!==r?r:t.sourceSpan)),t.isVoid||(t.children.forEach((function(t){return t.visit(a)})),this.pieces.push(this.createPlaceholderPiece(t.closeName,null!==(i=t.endSourceSpan)&&void 0!==i?i:t.sourceSpan)))}},{key:"visitPlaceholder",value:function visitPlaceholder(t){this.pieces.push(this.createPlaceholderPiece(t.name,t.sourceSpan))}},{key:"visitIcuPlaceholder",value:function visitIcuPlaceholder(t){this.pieces.push(this.createPlaceholderPiece(t.name,t.sourceSpan,this.placeholderToMessage[t.name]))}},{key:"createPlaceholderPiece",value:function createPlaceholderPiece(t,r,i){return new Ze(formatI18nPlaceholderName(t,!1),r,i)}}]),LocalizeSerializerVisitor}();function createEmptyMessagePart(t){return new Ke("",new ir(t,t))}var Ss="ngProjectAs",_s=new Set(["$event"]),ws=new Map([["window",Mt.resolveWindow],["document",Mt.resolveDocument],["body",Mt.resolveBody]]),Ts=[" ","\n","\r","\t"];function renderFlagCheckIfStmt(t,r){return ifStmt(variable(Rn).bitwiseAnd(literal(t),null,!1),r)}function prepareEventListenerParameters(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=t.type,o=t.name,l=t.target,u=t.phase,p=t.handler;if(l&&!ws.has(l))throw new Error("Unexpected global target '".concat(l,"' defined for '").concat(o,"' event.\n        Supported list of global targets: ").concat(Array.from(ws.keys()),"."));var h="$event",d=new Set,v=null===i||0===i.bindingLevel?variable(Ln):i.getOrCreateSharedContextVar(0),m=convertActionBinding(i,v,p,"b",t.handlerSpan,d,_s),y=[],E=null==i?void 0:i.variableDeclarations(),x=null==i?void 0:i.restoreViewStatement();if(E&&y.push.apply(y,(0,k.default)(E)),y.push.apply(y,(0,k.default)(m)),x){y.unshift(x);var _=y[y.length-1];_ instanceof St?y[y.length-1]=new St(invokeInstruction(_.value.sourceSpan,Mt.resetView,[_.value])):y.push(new xt(invokeInstruction(null,Mt.resetView,[])))}var w=1===a?prepareSyntheticListenerName(o,u):o,C=r&&sanitizeIdentifier(r),I=[];d.has(h)&&I.push(new it(h,Te));var A=fn(I,y,be,null,C),D=[literal(w),A];return l&&D.push(literal(!1),importExpr(ws.get(l))),D}function createComponentDefConsts(){return{prepareStatements:[],constExpressions:[],i18nVarRefsCache:new Map}}var bs=function(){function TemplateDefinitionBuilder(t,r){var i=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3?arguments[3]:void 0,l=arguments.length>4?arguments[4]:void 0,u=arguments.length>5?arguments[5]:void 0,p=arguments.length>6?arguments[6]:void 0,h=arguments.length>7?arguments[7]:void 0,d=arguments.length>8?arguments[8]:void 0,v=arguments.length>9?arguments[9]:void 0,m=arguments.length>10&&void 0!==arguments[10]?arguments[10]:createComponentDefConsts();(0,x.default)(this,TemplateDefinitionBuilder),this.constantPool=t,this.level=a,this.contextName=o,this.i18nContext=l,this.templateIndex=u,this.templateName=p,this._namespace=h,this.i18nUseExternalIds=v,this._constants=m,this._dataIndex=0,this._bindingContext=0,this._prefixCode=[],this._creationCodeFns=[],this._updateCodeFns=[],this._currentIndex=0,this._tempVariables=[],this._nestedTemplateFns=[],this.i18n=null,this._pureFunctionSlots=0,this._bindingSlots=0,this._ngContentReservedSlots=[],this._ngContentSelectorsOffset=0,this._implicitReceiverExpr=null,this.visitReference=invalid,this.visitVariable=invalid,this.visitTextAttribute=invalid,this.visitBoundAttribute=invalid,this.visitBoundEvent=invalid,this._bindingScope=r.nestedScope(a),this.fileBasedI18nSuffix=d.replace(/[^A-Za-z0-9]/g,"_")+"_",this._valueConverter=new Cs(t,(function(){return i.allocateDataSlot()}),(function(t){return i.allocatePureFunctionSlots(t)}),(function(t,r,a,o){i._bindingScope.set(i.level,r,o),i.creationInstruction(null,Mt.pipe,[literal(a),literal(t)])}))}return(0,_.default)(TemplateDefinitionBuilder,[{key:"buildTemplateFunction",value:function buildTemplateFunction(t,r){var i=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3?arguments[3]:void 0;this._ngContentSelectorsOffset=a,this._namespace!==Mt.namespaceHTML&&this.creationInstruction(null,this._namespace),r.forEach((function(t){return i.registerContextVariables(t)}));var l=this.i18nContext||isI18nRootNode(o)&&!isSingleI18nIcu(o)&&!(isSingleElementTemplate(t)&&t[0].i18n===o),u=hasTextChildrenOnly(t);if(l&&this.i18nStart(null,o,u),visitAll$1(this,t),this._pureFunctionSlots+=this._bindingSlots,this._valueConverter.updatePipeSlotOffsets(this._bindingSlots),this._nestedTemplateFns.forEach((function(t){return t()})),0===this.level&&this._ngContentReservedSlots.length){var p=[];if(this._ngContentReservedSlots.length>1||"*"!==this._ngContentReservedSlots[0]){var h=this._ngContentReservedSlots.map((function(t){return"*"!==t?parseSelectorToR3Selector(t):t}));p.push(this.constantPool.getConstLiteral(asLiteral(h),!0))}this.creationInstruction(null,Mt.projectionDef,p,!0)}l&&this.i18nEnd(null,u);var d=getInstructionStatements(this._creationCodeFns),v=getInstructionStatements(this._updateCodeFns),m=this._bindingScope.viewSnapshotStatements(),y=this._bindingScope.variableDeclarations().concat(this._tempVariables),E=d.length>0?[renderFlagCheckIfStmt(1,m.concat(d))]:[],x=v.length>0?[renderFlagCheckIfStmt(2,y.concat(v))]:[];return fn([new it(Rn,Pe),new it(Ln,null)],[].concat((0,k.default)(this._prefixCode),E,x),be,null,this.templateName)}},{key:"getLocal",value:function getLocal(t){return this._bindingScope.get(t)}},{key:"notifyImplicitReceiverUse",value:function notifyImplicitReceiverUse(){this._bindingScope.notifyImplicitReceiverUse()}},{key:"maybeRestoreView",value:function maybeRestoreView(){this._bindingScope.maybeRestoreView()}},{key:"i18nTranslate",value:function i18nTranslate(t){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,l=a||this.i18nGenerateMainBlockVar(),u=this.i18nGenerateClosureVar(t.id),p=getTranslationDeclStmts(t,l,u,i,o);return(r=this._constants.prepareStatements).push.apply(r,(0,k.default)(p)),l}},{key:"registerContextVariables",value:function registerContextVariables(t){var r=this._bindingScope.freshReferenceName(),i=this.level,a=variable(t.name+r);this._bindingScope.set(i,t.name,a,1,(function(r,o){var l;if(r.bindingLevel===i)r.isListenerScope()&&r.hasRestoreViewVariable()?(l=variable(Dn),r.notifyRestoredViewContextUse()):l=variable(Ln);else{var u=r.getSharedContextName(i);l=u||generateNextContextExpr(o)}return[a.set(l.prop(t.value||"$implicit")).toConstDecl()]}))}},{key:"i18nAppendBindings",value:function i18nAppendBindings(t){var r=this;t.length>0&&t.forEach((function(t){return r.i18n.appendBinding(t)}))}},{key:"i18nBindProps",value:function i18nBindProps(t){var r=this,i={};return Object.keys(t).forEach((function(a){var o=t[a];if(o instanceof Ut)i[a]=literal(o.value);else{var l=o.value.visit(r._valueConverter);if(r.allocateBindingSlots(l),l instanceof Or){var u=l.strings,p=l.expressions,h=r.i18n,d=h.id,v=function assembleI18nBoundString(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!t.length)return"";for(var a="",o=t.length-1,l=0;l<o;l++)a+="".concat(t[l]).concat(wrapI18nPlaceholder(r+l,i));return a+t[o]}(u,h.bindings.size,d);r.i18nAppendBindings(p),i[a]=literal(v)}}})),i}},{key:"i18nGenerateMainBlockVar",value:function i18nGenerateMainBlockVar(){return variable(this.constantPool.uniqueName("i18n_"))}},{key:"i18nGenerateClosureVar",value:function i18nGenerateClosureVar(t){var r,i=this.fileBasedI18nSuffix.toUpperCase();if(this.i18nUseExternalIds){var a=getTranslationConstPrefix("EXTERNAL_"),o=this.constantPool.uniqueName(i);r="".concat(a).concat(sanitizeIdentifier(t),"$$").concat(o)}else{var l=getTranslationConstPrefix(i);r=this.constantPool.uniqueName(l)}return variable(r)}},{key:"i18nUpdateRef",value:function i18nUpdateRef(t){var r=t.icus,i=t.meta,a=t.isRoot,o=t.isResolved,l=t.isEmitted;if(a&&o&&!l&&!isSingleI18nIcu(i)){t.isEmitted=!0;var u,p=t.getSerializedPlaceholders(),h={},d=p.size?placeholdersToParams(p):{};r.size&&r.forEach((function(t,r){if(1===t.length)d[r]=t[0];else{var i=wrapI18nPlaceholder("".concat("I18N_EXP_").concat(r));d[r]=literal(i),h[r]=literalArr(t)}})),(Array.from(p.values()).some((function(t){return t.length>1}))||Object.keys(h).length)&&(u=function transformFn(t){var r=[t];return Object.keys(h).length&&r.push(mapLiteral(h,!0)),invokeInstruction(null,Mt.i18nPostprocess,r)}),this.i18nTranslate(i,d,t.ref,u)}}},{key:"i18nStart",value:function i18nStart(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,a=this.allocateDataSlot();this.i18n=this.i18nContext?this.i18nContext.forkChildContext(a,this.templateIndex,r):new us(a,this.i18nGenerateMainBlockVar(),0,this.templateIndex,r);var o=this.i18n,l=o.id,u=o.ref,p=[literal(a),this.addToConsts(u)];l>0&&p.push(literal(l)),this.creationInstruction(t,i?Mt.i18n:Mt.i18nStart,p)}},{key:"i18nEnd",value:function i18nEnd(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1?arguments[1]:void 0;if(!this.i18n)throw new Error("i18nEnd is executed with no i18n context present");this.i18nContext?(this.i18nContext.reconcileChildContext(this.i18n),this.i18nUpdateRef(this.i18nContext)):this.i18nUpdateRef(this.i18n);var a=this.i18n,o=a.index,l=a.bindings;if(l.size){var u,p=(0,E.default)(l);try{var h=function _loop(){var i=u.value;t.updateInstructionWithAdvance(t.getConstCount()-1,r,Mt.i18nExp,(function(){return t.convertPropertyBinding(i)}))};for(p.s();!(u=p.n()).done;)h()}catch(t){p.e(t)}finally{p.f()}this.updateInstruction(r,Mt.i18nApply,[literal(o)])}i||this.creationInstruction(r,Mt.i18nEnd),this.i18n=null}},{key:"i18nAttributesInstruction",value:function i18nAttributesInstruction(t,r,i){var a=this,o=!1,l=[];if(r.forEach((function(r){var u=r.i18n,p=r.value.visit(a._valueConverter);if(a.allocateBindingSlots(p),p instanceof Or){var h=placeholdersToParams(assembleBoundTextPlaceholders(u));l.push(literal(r.name),a.i18nTranslate(u,h)),p.expressions.forEach((function(r){o=!0,a.updateInstructionWithAdvance(t,i,Mt.i18nExp,(function(){return a.convertPropertyBinding(r)}))}))}})),l.length>0){var u=literal(this.allocateDataSlot()),p=this.addToConsts(literalArr(l));this.creationInstruction(i,Mt.i18nAttributes,[u,p]),o&&this.updateInstruction(i,Mt.i18nApply,[u])}}},{key:"getNamespaceInstruction",value:function getNamespaceInstruction(t){switch(t){case"math":return Mt.namespaceMathML;case"svg":return Mt.namespaceSVG;default:return Mt.namespaceHTML}}},{key:"addNamespaceInstruction",value:function addNamespaceInstruction(t,r){this._namespace=t,this.creationInstruction(r.startSourceSpan,t)}},{key:"interpolatedUpdateInstruction",value:function interpolatedUpdateInstruction(t,r,i,a,o,l){var u=this;this.updateInstructionWithAdvance(r,a.sourceSpan,t,(function(){return[literal(i)].concat((0,k.default)(u.getUpdateInstructionArguments(o)),(0,k.default)(l))}))}},{key:"visitContent",value:function visitContent(t){var r=this.allocateDataSlot(),i=this._ngContentSelectorsOffset+this._ngContentReservedSlots.length,a=[literal(r)];this._ngContentReservedSlots.push(t.selector);var o=t.attributes.filter((function(t){return"select"!==t.name.toLowerCase()})),l=this.getAttributeExpressions(t.name,o,[],[]);l.length>0?a.push(literal(i),literalArr(l)):0!==i&&a.push(literal(i)),this.creationInstruction(t.sourceSpan,Mt.projection,a),this.i18n&&this.i18n.appendProjection(t.i18n,r)}},{key:"visitElement",value:function visitElement(t){var r,i,a,o=this,l=this.allocateDataSlot(),u=new Fi(null),h=!1,d=isI18nRootNode(t.i18n)&&!isSingleI18nIcu(t.i18n),v=[],m=splitNsName(t.name),y=(0,p.default)(m,2),k=y[0],x=y[1],_=isNgContainer(t.name),w=(0,E.default)(t.attributes);try{for(w.s();!(a=w.n()).done;){var C=a.value,I=C.name,A=C.value;"ngNonBindable"===I?h=!0:"style"===I?u.registerStyleAttr(A):"class"===I?u.registerClassAttr(A):v.push(C)}}catch(t){w.e(t)}finally{w.f()}var D=[literal(l)];_||D.push(literal(x));var O=[],B=[];t.inputs.forEach((function(t){u.registerBoundInput(t)||(0===t.type&&t.i18n?B.push(t):O.push(t))}));var q=this.getAttributeExpressions(t.name,v,O,t.outputs,u,[],B);D.push(this.addAttrsToConsts(q));var j=this.prepareRefsArray(t.references);D.push(this.addToConsts(j));var H=this._namespace,z=this.getNamespaceInstruction(k);z!==H&&this.addNamespaceInstruction(z,t),this.i18n&&this.i18n.appendElement(t.i18n,l);var $=!d&&this.i18n?!hasTextChildrenOnly(t.children):t.children.length>0,G=!u.hasBindingsWithPipes&&0===t.outputs.length&&0===B.length&&!$,ee=!G&&hasTextChildrenOnly(t.children);if(G)this.creationInstruction(t.sourceSpan,_?Mt.elementContainer:Mt.element,trimTrailingNulls(D));else{if(this.creationInstruction(t.startSourceSpan,_?Mt.elementContainerStart:Mt.elementStart,trimTrailingNulls(D)),h&&this.creationInstruction(t.startSourceSpan,Mt.disableBindings),B.length>0&&this.i18nAttributesInstruction(l,B,null!==(r=t.startSourceSpan)&&void 0!==r?r:t.sourceSpan),t.outputs.length>0){var te,ne=(0,E.default)(t.outputs);try{for(ne.s();!(te=ne.n()).done;){var re=te.value;this.creationInstruction(re.sourceSpan,Mt.listener,this.prepareListenerParameter(t.name,re,l))}}catch(t){ne.e(t)}finally{ne.f()}}d&&this.i18nStart(t.startSourceSpan,t.i18n,ee)}for(var ie=u.buildUpdateLevelInstructions(this._valueConverter),ae=ie.length-1,se=0;se<=ae;se++){var oe=ie[se];this._bindingSlots+=this.processStylingUpdateInstruction(l,oe)}var le=literal(void 0),ue=[],ce=[];O.forEach((function(t){var r=t.type;if(4===r){var i=t.value.visit(o._valueConverter),a=!(i instanceof Lr)||!!i.value;o.allocateBindingSlots(i),ue.push({span:t.sourceSpan,paramsOrFn:getBindingFunctionParams((function(){return a?o.convertPropertyBinding(i):le}),prepareSyntheticPropertyName(t.name))})}else{if(t.i18n)return;var u=t.value.visit(o._valueConverter);if(void 0!==u){var h=[],d=splitNsName(t.name),v=(0,p.default)(d,2),m=v[0],y=v[1],E=1===r,k=resolveSanitizationFn(t.securityContext,E);if(k&&h.push(k),m){var x=literal(m);k?h.push(x):h.push(literal(null),x)}if(o.allocateBindingSlots(u),0===r)u instanceof Or?o.interpolatedUpdateInstruction(getPropertyInterpolationExpression(u),l,y,t,u,h):ue.push({span:t.sourceSpan,paramsOrFn:getBindingFunctionParams((function(){return o.convertPropertyBinding(u)}),y,h)});else if(1===r)if(u instanceof Or&&getInterpolationArgsLength(u)>1)o.interpolatedUpdateInstruction(function getAttributeInterpolationExpression(t){switch(getInterpolationArgsLength(t)){case 3:return Mt.attributeInterpolate1;case 5:return Mt.attributeInterpolate2;case 7:return Mt.attributeInterpolate3;case 9:return Mt.attributeInterpolate4;case 11:return Mt.attributeInterpolate5;case 13:return Mt.attributeInterpolate6;case 15:return Mt.attributeInterpolate7;case 17:return Mt.attributeInterpolate8;default:return Mt.attributeInterpolateV}}(u),l,y,t,u,h);else{var _=u instanceof Or?u.expressions[0]:u;ce.push({span:t.sourceSpan,paramsOrFn:getBindingFunctionParams((function(){return o.convertPropertyBinding(_)}),y,h)})}else o.updateInstructionWithAdvance(l,t.sourceSpan,Mt.classProp,(function(){return[literal(l),literal(y),o.convertPropertyBinding(u)].concat(h)}))}}}));for(var pe=0,he=ue;pe<he.length;pe++){var fe=he[pe];this.updateInstructionWithAdvance(l,fe.span,Mt.property,fe.paramsOrFn)}for(var de=0,ve=ce;de<ve.length;de++){var me=ve[de];this.updateInstructionWithAdvance(l,me.span,Mt.attribute,me.paramsOrFn)}if(visitAll$1(this,t.children),!d&&this.i18n&&this.i18n.appendElement(t.i18n,l,!0),!G){var ge=null!==(i=t.endSourceSpan)&&void 0!==i?i:t.sourceSpan;d&&this.i18nEnd(ge,ee),h&&this.creationInstruction(ge,Mt.enableBindings),this.creationInstruction(ge,_?Mt.elementContainerEnd:Mt.elementEnd)}}},{key:"visitTemplate",value:function visitTemplate(t){var r,i=this,a="ng-template",o=this.allocateDataSlot();this.i18n&&this.i18n.appendTemplate(t.i18n,o);var l=t.tagName?splitNsName(t.tagName)[1]:t.tagName,u="".concat(this.contextName).concat(t.tagName?"_"+sanitizeIdentifier(t.tagName):"","_").concat(o),h="".concat(u,"_Template"),d=[literal(o),variable(h),literal(l)],v=this.getAttributeExpressions(a,t.attributes,t.inputs,t.outputs,void 0,t.templateAttrs);if(d.push(this.addAttrsToConsts(v)),t.references&&t.references.length){var m=this.prepareRefsArray(t.references);d.push(this.addToConsts(m)),d.push(importExpr(Mt.templateRefExtractor))}var y=new TemplateDefinitionBuilder(this.constantPool,this._bindingScope,this.level+1,u,this.i18n,o,h,this._namespace,this.fileBasedI18nSuffix,this.i18nUseExternalIds,this._constants);if(this._nestedTemplateFns.push((function(){var r,a=y.buildTemplateFunction(t.children,t.variables,i._ngContentReservedSlots.length+i._ngContentSelectorsOffset,t.i18n);(i.constantPool.statements.push(a.toDeclStmt(h)),y._ngContentReservedSlots.length)&&(r=i._ngContentReservedSlots).push.apply(r,(0,k.default)(y._ngContentReservedSlots))})),this.creationInstruction(t.sourceSpan,Mt.templateCreate,(function(){return d.splice(2,0,literal(y.getConstCount()),literal(y.getVarCount())),trimTrailingNulls(d)})),this.templatePropertyBindings(o,t.templateAttrs),l===a){var x=function partitionArray(t,r){var i,a=[],o=[],l=(0,E.default)(t);try{for(l.s();!(i=l.n()).done;){var u=i.value;(r(u)?a:o).push(u)}}catch(t){l.e(t)}finally{l.f()}return[a,o]}(t.inputs,hasI18nMeta),_=(0,p.default)(x,2),w=_[0],C=_[1];w.length>0&&this.i18nAttributesInstruction(o,w,null!==(r=t.startSourceSpan)&&void 0!==r?r:t.sourceSpan),C.length>0&&this.templatePropertyBindings(o,C);var I,A=(0,E.default)(t.outputs);try{for(A.s();!(I=A.n()).done;){var D=I.value;this.creationInstruction(D.sourceSpan,Mt.listener,this.prepareListenerParameter("ng_template",D,o))}}catch(t){A.e(t)}finally{A.f()}}}},{key:"visitBoundText",value:function visitBoundText(t){var r=this;if(this.i18n){var i=t.value.visit(this._valueConverter);return this.allocateBindingSlots(i),void(i instanceof Or&&(this.i18n.appendBoundText(t.i18n),this.i18nAppendBindings(i.expressions)))}var a=this.allocateDataSlot();this.creationInstruction(t.sourceSpan,Mt.text,[literal(a)]);var o=t.value.visit(this._valueConverter);this.allocateBindingSlots(o),o instanceof Or?this.updateInstructionWithAdvance(a,t.sourceSpan,function getTextInterpolationExpression(t){switch(getInterpolationArgsLength(t)){case 1:return Mt.textInterpolate;case 3:return Mt.textInterpolate1;case 5:return Mt.textInterpolate2;case 7:return Mt.textInterpolate3;case 9:return Mt.textInterpolate4;case 11:return Mt.textInterpolate5;case 13:return Mt.textInterpolate6;case 15:return Mt.textInterpolate7;case 17:return Mt.textInterpolate8;default:return Mt.textInterpolateV}}(o),(function(){return r.getUpdateInstructionArguments(o)})):error("Text nodes should be interpolated and never bound directly.")}},{key:"visitText",value:function visitText(t){this.i18n||this.creationInstruction(t.sourceSpan,Mt.text,[literal(this.allocateDataSlot()),literal(t.value)])}},{key:"visitIcu",value:function visitIcu(t){var r=!1;this.i18n||(r=!0,this.i18nStart(null,t.i18n,!0));var i=this.i18n,a=this.i18nBindProps(t.vars),o=this.i18nBindProps(t.placeholders),l=t.i18n,u=function transformFn(t){var r=formatI18nPlaceholderNamesInMap(Object.assign(Object.assign({},a),o),!1);return invokeInstruction(null,Mt.i18nPostprocess,[t,mapLiteral(r,!0)])};if(isSingleI18nIcu(i.meta))this.i18nTranslate(l,{},i.ref,u);else{var p=this.i18nTranslate(l,{},void 0,u);i.appendIcu(icuFromI18nMessage(l).name,p)}return r&&this.i18nEnd(null,!0),null}},{key:"allocateDataSlot",value:function allocateDataSlot(){return this._dataIndex++}},{key:"getConstCount",value:function getConstCount(){return this._dataIndex}},{key:"getVarCount",value:function getVarCount(){return this._pureFunctionSlots}},{key:"getConsts",value:function getConsts(){return this._constants}},{key:"getNgContentSelectors",value:function getNgContentSelectors(){return this._ngContentReservedSlots.length?this.constantPool.getConstLiteral(asLiteral(this._ngContentReservedSlots),!0):null}},{key:"bindingContext",value:function bindingContext(){return"".concat(this._bindingContext++)}},{key:"templatePropertyBindings",value:function templatePropertyBindings(t,r){var i,a=this,o=[],l=(0,E.default)(r);try{var u=function _loop2(){var r=i.value;if(!(r instanceof Kt))return"continue";var l=r.value.visit(a._valueConverter);if(void 0===l)return"continue";if(a.allocateBindingSlots(l),l instanceof Or){a.interpolatedUpdateInstruction(getPropertyInterpolationExpression(l),t,r.name,r,l,[])}else o.push({span:r.sourceSpan,paramsOrFn:getBindingFunctionParams((function(){return a.convertPropertyBinding(l)}),r.name)})};for(l.s();!(i=l.n()).done;)u()}catch(t){l.e(t)}finally{l.f()}for(var p=0,h=o;p<h.length;p++){var d=h[p];this.updateInstructionWithAdvance(t,d.span,Mt.property,d.paramsOrFn)}}},{key:"instructionFn",value:function instructionFn(t,r,i,a){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];t[o?"unshift":"push"]({span:r,reference:i,paramsOrFn:a})}},{key:"processStylingUpdateInstruction",value:function processStylingUpdateInstruction(t,r){var i=this,a=0;if(r){var o,l=(0,E.default)(r.calls);try{var u=function _loop3(){var l=o.value;a+=l.allocateBindingSlots,i.updateInstructionWithAdvance(t,l.sourceSpan,r.reference,(function(){return l.params((function(t){return l.supportsInterpolation&&t instanceof Or?i.getUpdateInstructionArguments(t):i.convertPropertyBinding(t)}))}))};for(l.s();!(o=l.n()).done;)u()}catch(t){l.e(t)}finally{l.f()}}return a}},{key:"creationInstruction",value:function creationInstruction(t,r,i,a){this.instructionFn(this._creationCodeFns,t,r,i||[],a)}},{key:"updateInstructionWithAdvance",value:function updateInstructionWithAdvance(t,r,i,a){this.addAdvanceInstructionIfNecessary(t,r),this.updateInstruction(r,i,a)}},{key:"updateInstruction",value:function updateInstruction(t,r,i){this.instructionFn(this._updateCodeFns,t,r,i||[])}},{key:"addAdvanceInstructionIfNecessary",value:function addAdvanceInstructionIfNecessary(t,r){if(t!==this._currentIndex){var i=t-this._currentIndex;if(i<1)throw new Error("advance instruction can only go forwards");this.instructionFn(this._updateCodeFns,r,Mt.advance,[literal(i)]),this._currentIndex=t}}},{key:"allocatePureFunctionSlots",value:function allocatePureFunctionSlots(t){var r=this._pureFunctionSlots;return this._pureFunctionSlots+=t,r}},{key:"allocateBindingSlots",value:function allocateBindingSlots(t){this._bindingSlots+=t instanceof Or?t.expressions.length:1}},{key:"getImplicitReceiverExpr",value:function getImplicitReceiverExpr(){return this._implicitReceiverExpr?this._implicitReceiverExpr:this._implicitReceiverExpr=0===this.level?variable(Ln):this._bindingScope.getOrCreateSharedContextVar(0)}},{key:"convertPropertyBinding",value:function convertPropertyBinding(t){var r,i=_convertPropertyBinding(this,this.getImplicitReceiverExpr(),t,this.bindingContext()),a=i.currValExpr;return(r=this._tempVariables).push.apply(r,(0,k.default)(i.stmts)),a}},{key:"getUpdateInstructionArguments",value:function getUpdateInstructionArguments(t){var r,i=function convertUpdateArguments(t,r,i,a){var o=new ii(t,r,a,!0),l=o.visitInterpolation(i,ti.Expression);return o.usesImplicitReceiver&&t.notifyImplicitReceiverUse(),{stmts:getStatementsFromVisitor(o,a),args:l.args}}(this,this.getImplicitReceiverExpr(),t,this.bindingContext()),a=i.args,o=i.stmts;return(r=this._tempVariables).push.apply(r,(0,k.default)(o)),a}},{key:"getAttributeExpressions",value:function getAttributeExpressions(t,r,i,a,o){var l,u,p=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],h=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],d=new Set,v=[],m=(0,E.default)(r);try{for(m.s();!(u=m.n()).done;){var y=u.value;if(y.name===Ss&&(l=y),y.i18n){var x=this._constants.i18nVarRefsCache,_=void 0;x.has(y.i18n)?_=x.get(y.i18n):(_=this.i18nTranslate(y.i18n),x.set(y.i18n,_)),v.push(literal(y.name),_)}else v.push.apply(v,(0,k.default)(getAttributeNameLiterals(y.name)).concat([trustedConstAttribute(t,y)]))}}catch(t){m.e(t)}finally{m.f()}function addAttrExpr(t,r){"string"==typeof t?d.has(t)||(v.push.apply(v,(0,k.default)(getAttributeNameLiterals(t))),void 0!==r&&v.push(r),d.add(t)):v.push(literal(t))}if(l&&v.push.apply(v,(0,k.default)(getNgProjectAsLiteral(l))),o&&o.populateInitialStylingAttrs(v),i.length||a.length){for(var w=v.length,C=0;C<i.length;C++){var I=i[C];4!==I.type&&1!==I.type&&addAttrExpr(I.name)}for(var A=0;A<a.length;A++){var D=a[A];1!==D.type&&addAttrExpr(D.name)}v.length!==w&&v.splice(w,0,literal(3))}return p.length&&(v.push(literal(4)),p.forEach((function(t){return addAttrExpr(t.name)}))),h.length&&(v.push(literal(6)),h.forEach((function(t){return addAttrExpr(t.name)}))),v}},{key:"addToConsts",value:function addToConsts(t){if(isNull(t))return vt;for(var r=this._constants.constExpressions,i=0;i<r.length;i++)if(r[i].isEquivalent(t))return literal(i);return literal(r.push(t)-1)}},{key:"addAttrsToConsts",value:function addAttrsToConsts(t){return t.length>0?this.addToConsts(literalArr(t)):vt}},{key:"prepareRefsArray",value:function prepareRefsArray(t){var r=this;return t&&0!==t.length?asLiteral(flatten(t.map((function(t){var i=r.allocateDataSlot(),a=r._bindingScope.freshReferenceName(),o=r.level,l=variable(a);return r._bindingScope.set(o,t.name,l,0,(function(t,r){var a=r>0?[generateNextContextExpr(r).toStmt()]:[],o=l.set(importExpr(Mt.reference).callFn([literal(i)]));return a.concat(o.toConstDecl())}),!0),[t.name,t.value]})))):vt}},{key:"prepareListenerParameter",value:function prepareListenerParameter(t,r,i){var a=this;return function(){var o=r.name,l=1===r.type?prepareSyntheticListenerFunctionName(o,r.phase):sanitizeIdentifier(o),u="".concat(a.templateName,"_").concat(t,"_").concat(l,"_").concat(i,"_listener"),p=a._bindingScope.nestedScope(a._bindingScope.bindingLevel,_s);return prepareEventListenerParameters(r,u,p)}}}]),TemplateDefinitionBuilder}(),Cs=function(t){(0,m.default)(ValueConverter,t);var r=(0,y.default)(ValueConverter);function ValueConverter(t,i,a,o){var l;return(0,x.default)(this,ValueConverter),(l=r.call(this)).constantPool=t,l.allocateSlot=i,l.allocatePureFunctionSlots=a,l.definePipe=o,l._pipeBindExprs=[],l}return(0,_.default)(ValueConverter,[{key:"visitPipe",value:function visitPipe(t,r){var i=this.allocateSlot(),a="PIPE:".concat(i),o=this.allocatePureFunctionSlots(2+t.args.length),l=new br(t.span,t.sourceSpan,t.nameSpan,new Sr(t.span,t.sourceSpan),a),u=function pipeBindingCallInfo(t){var r=Is[t.length];return{identifier:r||Mt.pipeBindV,isVarLength:!r}}(t.args),p=u.identifier,h=u.isVarLength;this.definePipe(t.name,a,i,importExpr(p));var d=[t.exp].concat((0,k.default)(t.args)),v=h?this.visitAll([new Rr(t.span,t.sourceSpan,d)]):this.visitAll(d),m=new jr(t.span,t.sourceSpan,l,[new Lr(t.span,t.sourceSpan,i),new Lr(t.span,t.sourceSpan,o)].concat((0,k.default)(v)),null);return this._pipeBindExprs.push(m),m}},{key:"updatePipeSlotOffsets",value:function updatePipeSlotOffsets(t){this._pipeBindExprs.forEach((function(r){r.args[1].value+=t}))}},{key:"visitLiteralArray",value:function visitLiteralArray(t,r){var i=this;return new oi(t.span,t.sourceSpan,this.visitAll(t.expressions),(function(t){var r=literalArr(t);return getLiteralFactory(i.constantPool,r,i.allocatePureFunctionSlots)}))}},{key:"visitLiteralMap",value:function visitLiteralMap(t,r){var i=this;return new oi(t.span,t.sourceSpan,this.visitAll(t.values),(function(r){var a=literalMap(r.map((function(r,i){return{key:t.keys[i].key,value:r,quoted:t.keys[i].quoted}})));return getLiteralFactory(i.constantPool,a,i.allocatePureFunctionSlots)}))}}]),ValueConverter}(Gr),Is=[Mt.pipeBind1,Mt.pipeBind2,Mt.pipeBind3,Mt.pipeBind4];var Ps=[Mt.pureFunction0,Mt.pureFunction1,Mt.pureFunction2,Mt.pureFunction3,Mt.pureFunction4,Mt.pureFunction5,Mt.pureFunction6,Mt.pureFunction7,Mt.pureFunction8];function generateNextContextExpr(t){return importExpr(Mt.nextContext).callFn(t>1?[literal(t)]:[])}function getLiteralFactory(t,r,i){var a=t.getLiteralFactory(r),o=a.literalFactory,l=a.literalFactoryArguments,u=i(1+l.length),p=function pureFunctionCallInfo(t){var r=Ps[t.length];return{identifier:r||Mt.pureFunctionV,isVarLength:!r}}(l),h=p.identifier,d=p.isVarLength,v=[literal(u),o];return d?v.push(literalArr(l)):v.push.apply(v,(0,k.default)(l)),importExpr(h).callFn(v)}function getAttributeNameLiterals(t){var r=splitNsName(t),i=(0,p.default)(r,2),a=i[0],o=literal(i[1]);return a?[literal(0),literal(a),o]:[o]}var As="$$shared_ctx$$",Ns=function(){function BindingScope(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2?arguments[2]:void 0;if((0,x.default)(this,BindingScope),this.bindingLevel=t,this.parent=r,this.globals=i,this.map=new Map,this.referenceNameIndex=0,this.restoreViewVariable=null,this.usesRestoredViewContext=!1,void 0!==i){var a,o=(0,E.default)(i);try{for(o.s();!(a=o.n()).done;){var l=a.value;this.set(0,l,variable(l))}}catch(t){o.e(t)}finally{o.f()}}}return(0,_.default)(BindingScope,[{key:"get",value:function get(t){for(var r=this;r;){var i=r.map.get(t);if(null!=i)return r!==this&&(i={retrievalLevel:i.retrievalLevel,lhs:i.lhs,declareLocalCallback:i.declareLocalCallback,declare:!1,priority:i.priority},this.map.set(t,i),this.maybeGenerateSharedContextVar(i),this.maybeRestoreView()),i.declareLocalCallback&&!i.declare&&(i.declare=!0),i.lhs;r=r.parent}return 0===this.bindingLevel?null:this.getComponentProperty(t)}},{key:"set",value:function set(t,r,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4?arguments[4]:void 0,l=arguments.length>5?arguments[5]:void 0;if(this.map.has(r)){if(l)return this;error("The name ".concat(r," is already defined in scope to be ").concat(this.map.get(r)))}return this.map.set(r,{retrievalLevel:t,lhs:i,declare:!1,declareLocalCallback:o,priority:a}),this}},{key:"getLocal",value:function getLocal(t){return this.get(t)}},{key:"notifyImplicitReceiverUse",value:function notifyImplicitReceiverUse(){0!==this.bindingLevel&&(this.map.get("$$shared_ctx$$0").declare=!0)}},{key:"nestedScope",value:function nestedScope(t,r){var i=new BindingScope(t,this,r);return t>0&&i.generateSharedContextVar(0),i}},{key:"getOrCreateSharedContextVar",value:function getOrCreateSharedContextVar(t){var r=As+t;return this.map.has(r)||this.generateSharedContextVar(t),this.map.get(r).lhs}},{key:"getSharedContextName",value:function getSharedContextName(t){var r=this.map.get(As+t);return r&&r.declare?r.lhs:null}},{key:"maybeGenerateSharedContextVar",value:function maybeGenerateSharedContextVar(t){if(1===t.priority&&t.retrievalLevel<this.bindingLevel){var r=this.map.get(As+t.retrievalLevel);r?r.declare=!0:this.generateSharedContextVar(t.retrievalLevel)}}},{key:"generateSharedContextVar",value:function generateSharedContextVar(t){var r=variable(Ln+this.freshReferenceName());this.map.set(As+t,{retrievalLevel:t,lhs:r,declareLocalCallback:function declareLocalCallback(t,i){return[r.set(generateNextContextExpr(i)).toConstDecl()]},declare:!1,priority:2})}},{key:"getComponentProperty",value:function getComponentProperty(t){var r=this.map.get("$$shared_ctx$$0");return r.declare=!0,this.maybeRestoreView(),r.lhs.prop(t)}},{key:"maybeRestoreView",value:function maybeRestoreView(){this.isListenerScope()&&(this.parent.restoreViewVariable||(this.parent.restoreViewVariable=variable(this.parent.freshReferenceName())),this.restoreViewVariable=this.parent.restoreViewVariable)}},{key:"restoreViewStatement",value:function restoreViewStatement(){if(this.restoreViewVariable){var t=invokeInstruction(null,Mt.restoreView,[this.restoreViewVariable]);return this.usesRestoredViewContext?variable(Dn).set(t).toConstDecl():t.toStmt()}return null}},{key:"viewSnapshotStatements",value:function viewSnapshotStatements(){return this.restoreViewVariable?[this.restoreViewVariable.set(invokeInstruction(null,Mt.getCurrentView,[])).toConstDecl()]:[]}},{key:"isListenerScope",value:function isListenerScope(){return this.parent&&this.parent.bindingLevel===this.bindingLevel}},{key:"variableDeclarations",value:function variableDeclarations(){var t=this,r=0;return Array.from(this.map.values()).filter((function(t){return t.declare})).sort((function(t,r){return r.retrievalLevel-t.retrievalLevel||r.priority-t.priority})).reduce((function(i,a){var o=t.bindingLevel-a.retrievalLevel,l=a.declareLocalCallback(t,o-r);return r=o,i.concat(l)}),[])}},{key:"freshReferenceName",value:function freshReferenceName(){for(var t=this;t.parent;)t=t.parent;return"".concat("_r").concat(t.referenceNameIndex++)}},{key:"hasRestoreViewVariable",value:function hasRestoreViewVariable(){return!!this.restoreViewVariable}},{key:"notifyRestoredViewContextUse",value:function notifyRestoredViewContextUse(){this.usesRestoredViewContext=!0}}],[{key:"createRootScope",value:function createRootScope(){return new BindingScope}}]),BindingScope}();function getNgProjectAsLiteral(t){var r=parseSelectorToR3Selector(t.value)[0];return[literal(5),asLiteral(r)]}function getPropertyInterpolationExpression(t){switch(getInterpolationArgsLength(t)){case 1:return Mt.propertyInterpolate;case 3:return Mt.propertyInterpolate1;case 5:return Mt.propertyInterpolate2;case 7:return Mt.propertyInterpolate3;case 9:return Mt.propertyInterpolate4;case 11:return Mt.propertyInterpolate5;case 13:return Mt.propertyInterpolate6;case 15:return Mt.propertyInterpolate7;case 17:return Mt.propertyInterpolate8;default:return Mt.propertyInterpolateV}}function parseTemplate(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=i.interpolationConfig,o=i.preserveWhitespaces,l=i.enableI18nLegacyMessageIdFormat,u=makeBindingParser(a),p=new _a,h=p.parse(t,r,Object.assign(Object.assign({leadingTriviaChars:Ts},i),{tokenizeExpansionForms:!0}));if(!i.alwaysAttemptHtmlToR3AstConversion&&h.errors&&h.errors.length>0){var d={interpolationConfig:a,preserveWhitespaces:o,errors:h.errors,nodes:[],styleUrls:[],styles:[],ngContentSelectors:[]};return i.collectCommentNodes&&(d.commentNodes=[]),d}var v=h.rootNodes,m=new ys(a,!o,l),y=m.visitAllWithErrors(v);if(!i.alwaysAttemptHtmlToR3AstConversion&&y.errors&&y.errors.length>0){var E={interpolationConfig:a,preserveWhitespaces:o,errors:y.errors,nodes:[],styleUrls:[],styles:[],ngContentSelectors:[]};return i.collectCommentNodes&&(E.commentNodes=[]),E}v=y.rootNodes,o||(v=visitAll(new La,v),m.hasI18nMeta&&(v=visitAll(new ys(a,!1),v)));var x=htmlAstToRender3Ast(v,u,{collectCommentNodes:!!i.collectCommentNodes}),_=x.nodes,w=x.errors,C=x.styleUrls,I=x.styles,A=x.ngContentSelectors,D=x.commentNodes;w.push.apply(w,(0,k.default)(h.errors).concat((0,k.default)(y.errors)));var O={interpolationConfig:a,preserveWhitespaces:o,errors:w.length>0?w:null,nodes:_,styleUrls:C,styles:I,ngContentSelectors:A};return i.collectCommentNodes&&(O.commentNodes=D),O}var Ms=new Ua;function makeBindingParser(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn;return new Qa(new Ki(new Vi),t,Ms,[])}function resolveSanitizationFn(t,r){switch(t){case G.HTML:return importExpr(Mt.sanitizeHtml);case G.SCRIPT:return importExpr(Mt.sanitizeScript);case G.STYLE:return r?importExpr(Mt.sanitizeStyle):null;case G.URL:return importExpr(Mt.sanitizeUrl);case G.RESOURCE_URL:return importExpr(Mt.sanitizeResourceUrl);default:return null}}function trustedConstAttribute(t,r){var i=asLiteral(r.value);if(!isTrustedTypesSink(t,r.name))return i;switch(Ms.securityContext(t,r.name,!0)){case G.HTML:return taggedTemplate(importExpr(Mt.trustConstantHtml),new We([new ze(r.value)],[]),void 0,r.valueSpan);case G.RESOURCE_URL:return taggedTemplate(importExpr(Mt.trustConstantResourceUrl),new We([new ze(r.value)],[]),void 0,r.valueSpan);default:return i}}function isSingleElementTemplate(t){return 1===t.length&&t[0]instanceof $t}function isTextNode(t){return t instanceof Ut||t instanceof Wt||t instanceof Yt}function hasTextChildrenOnly(t){return t.every(isTextNode)}function getBindingFunctionParams(t,r,i){return function(){var a=t(),o=Array.isArray(a)?a:[a];return i&&o.push.apply(o,(0,k.default)(i)),r&&o.unshift(literal(r)),o}}var Ls="ngI18nClosureMode";function getTranslationDeclStmts(t,r,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4?arguments[4]:void 0,l=[declareI18nVariable(r),ifStmt(createClosureModeGuard(),createGoogleGetMsgStatements(r,t,i,a),createLocalizeStatements(r,t,formatI18nPlaceholderNamesInMap(a,!1)))];return o&&l.push(new xt(r.set(o(r)))),l}function createClosureModeGuard(){return typeofExpr(variable(Ls)).notIdentical(literal("undefined",Ae)).and(variable(Ls))}function flatten(t){return t.reduce((function(t,r){var i=Array.isArray(r)?flatten(r):r;return t.concat(i)}),[])}var Rs=/attr\.([^\]]+)/,Ds="%COMP%",Os="_nghost-".concat(Ds),Fs="_ngcontent-".concat(Ds);function baseDirectiveFields(t,r,i){var a=new Fn,o=parseSelectorToR3Selector(t.selector);return a.set("type",t.internalType),o.length>0&&a.set("selectors",asLiteral(o)),t.queries.length>0&&a.set("contentQueries",function createContentQueriesFunction(t,r,i){var a,o=[],l=[],u=temporaryAllocator(l,Mn),p=(0,E.default)(t);try{for(p.s();!(a=p.n()).done;){var h=a.value;o.push(importExpr(Mt.contentQuery).callFn([variable("dirIndex")].concat((0,k.default)(prepareQueryParams(h,r)))).toStmt());var d=u(),v=importExpr(Mt.loadQuery).callFn([]),m=importExpr(Mt.queryRefresh).callFn([d.set(v)]),y=variable(Ln).prop(h.propertyName).set(h.first?d.prop("first"):d);l.push(m.and(y).toStmt())}}catch(t){p.e(t)}finally{p.f()}var x=i?"".concat(i,"_ContentQueries"):null;return fn([new it(Rn,Pe),new it(Ln,null),new it("dirIndex",null)],[renderFlagCheckIfStmt(1,o),renderFlagCheckIfStmt(2,l)],be,null,x)}(t.queries,r,t.name)),t.viewQueries.length&&a.set("viewQuery",function createViewQueriesFunction(t,r,i){var a=[],o=[],l=temporaryAllocator(o,Mn);t.forEach((function(t){var i=importExpr(Mt.viewQuery).callFn(prepareQueryParams(t,r));a.push(i.toStmt());var u=l(),p=importExpr(Mt.loadQuery).callFn([]),h=importExpr(Mt.queryRefresh).callFn([u.set(p)]),d=variable(Ln).prop(t.propertyName).set(t.first?u.prop("first"):u);o.push(h.and(d).toStmt())}));var u=i?"".concat(i,"_Query"):null;return fn([new it(Rn,Pe),new it(Ln,null)],[renderFlagCheckIfStmt(1,a),renderFlagCheckIfStmt(2,o)],be,null,u)}(t.viewQueries,r,t.name)),a.set("hostBindings",function createHostBindingsFunction(t,r,i,a,o,l,u){var p=variable(Ln),h=new Fi(p),d=t.specialAttributes,v=d.styleAttr,m=d.classAttr;void 0!==v&&h.registerStyleAttr(v);void 0!==m&&h.registerClassAttr(m);var y=[],x=[],_=[],w=r,C=i.createDirectiveHostEventAsts(t.listeners,w);C&&C.length&&y.push.apply(y,(0,k.default)(function createHostListeners(t,r){var i,a=[],o=[],l=[],u=(0,E.default)(t);try{for(u.s();!(i=u.n()).done;){var p=i.value,h=p.name&&sanitizeIdentifier(p.name),d=1===p.type?prepareSyntheticListenerFunctionName(h,p.targetOrPhase):h,v=r&&h?"".concat(r,"_").concat(d,"_HostBindingHandler"):null,m=prepareEventListenerParameters(Zt.fromParsedEvent(p),v);1==p.type?o.push(m):a.push(m)}}catch(t){u.e(t)}finally{u.f()}for(var y=0,k=o;y<k.length;y++){var x=k[y];l.push({reference:Mt.syntheticHostListener,paramsOrFn:x,span:null})}for(var _=0,w=a;_<w.length;_++){var C=w[_];l.push({reference:Mt.listener,paramsOrFn:C,span:null})}return l}(C,l)));var I,A=i.createBoundHostProperties(t.properties,w),D=[],O=0;A&&A.forEach((function(t){h.registerInputBasedOnName(t.name,t.expression,w)?O+=2:(D.push(t),O++)}));for(var B=function getValueConverter(){I||(I=new Cs(a,(function(){return error("Unexpected node")}),(function hostVarsCountFn(t){var r=O;return O+=t,r}),(function(){return error("Unexpected pipe")})));return I},q=[],j=[],H=[],z=0,$=D;z<$.length;z++){var ee=$[z],te=ee.expression.visit(B()),ne=bindingFn(p,te),re=getBindingNameAndInstruction(ee),ie=re.bindingName,ae=re.instruction,se=re.isAttribute,oe=i.calcPossibleSecurityContexts(o,ie,se).filter((function(t){return t!==G.NONE})),le=null;oe.length&&(le=2===oe.length&&oe.indexOf(G.URL)>-1&&oe.indexOf(G.RESOURCE_URL)>-1?importExpr(Mt.sanitizeUrlOrResourceUrl):resolveSanitizationFn(oe[0],se));var ue=[literal(ie),ne.currValExpr];le&&ue.push(le),_.push.apply(_,(0,k.default)(ne.stmts)),ae===Mt.hostProperty?q.push(ue):ae===Mt.attribute?j.push(ue):ae===Mt.syntheticHostProperty?H.push(ue):x.push({reference:ae,paramsOrFn:ue,span:null})}for(var ce=0,pe=q;ce<pe.length;ce++){var he=pe[ce];x.push({reference:Mt.hostProperty,paramsOrFn:he,span:null})}for(var fe=0,de=j;fe<de.length;fe++){var ve=de[fe];x.push({reference:Mt.attribute,paramsOrFn:ve,span:null})}for(var me=0,ge=H;me<ge.length;me++){var ye=ge[me];x.push({reference:Mt.syntheticHostProperty,paramsOrFn:ye,span:null})}var Ee=function convertAttributesToExpressions(t){var r,i=[],a=(0,E.default)(Object.getOwnPropertyNames(t));try{for(a.s();!(r=a.n()).done;){var o=r.value,l=t[o];i.push(literal(o),l)}}catch(t){a.e(t)}finally{a.f()}return i}(t.attributes);h.assignHostAttrs(Ee,u),h.hasBindings&&h.buildUpdateLevelInstructions(B()).forEach((function(t){var r,i=(0,E.default)(t.calls);try{for(i.s();!(r=i.n()).done;){var a=r.value;O+=Math.max(a.allocateBindingSlots-2,0),x.push({reference:t.reference,paramsOrFn:convertStylingCall(a,p,bindingFn),span:null})}}catch(t){i.e(t)}finally{i.f()}}));O&&u.set("hostVars",literal(O));if(y.length>0||x.length>0){var ke=l?"".concat(l,"_HostBindings"):null,xe=[];return y.length>0&&xe.push(renderFlagCheckIfStmt(1,getInstructionStatements(y))),x.length>0&&xe.push(renderFlagCheckIfStmt(2,_.concat(getInstructionStatements(x)))),fn([new it(Rn,Pe),new it(Ln,null)],xe,be,null,ke)}return null}(t.host,t.typeSourceSpan,i,r,t.selector||"",t.name,a)),a.set("inputs",conditionallyCreateMapObjectLiteral(t.inputs,!0)),a.set("outputs",conditionallyCreateMapObjectLiteral(t.outputs)),null!==t.exportAs&&a.set("exportAs",literalArr(t.exportAs.map((function(t){return literal(t)})))),t.isStandalone&&a.set("standalone",literal(!0)),a}function addFeatures(t,r){var i=[],a=r.providers,o=r.viewProviders;if(a||o){var l=[a||new ct([])];o&&l.push(o),i.push(importExpr(Mt.ProvidersFeature).callFn(l))}r.usesInheritance&&i.push(importExpr(Mt.InheritDefinitionFeature)),r.fullInheritance&&i.push(importExpr(Mt.CopyDefinitionFeature)),r.lifecycle.usesOnChanges&&i.push(importExpr(Mt.NgOnChangesFeature)),r.hasOwnProperty("template")&&r.isStandalone&&i.push(importExpr(Mt.StandaloneFeature)),i.length&&t.set("features",literalArr(i))}function compileDirectiveFromMetadata(t,r,i){var a=baseDirectiveFields(t,r,i);return addFeatures(a,t),{expression:importExpr(Mt.defineDirective).callFn([a.toLiteralMap()],void 0,!0),type:createDirectiveType(t),statements:[]}}function compileComponentFromMetadata(t,r,i){var a=baseDirectiveFields(t,r,i);addFeatures(a,t);var o=t.selector&&q.parse(t.selector),l=o&&o[0];if(l){var u=l.getAttrs();u.length&&a.set("attrs",r.getConstLiteral(literalArr(u.map((function(t){return literal(null!=t?t:void 0)}))),!0))}var p=t.name,h=p?"".concat(p,"_Template"):null,d=t.changeDetection,v=t.template,m=new bs(r,Ns.createRootScope(),0,p,null,null,h,Mt.namespaceHTML,t.relativeContextFilePath,t.i18nUseExternalIds),y=m.buildTemplateFunction(v.nodes,[]),E=m.getNgContentSelectors();E&&a.set("ngContentSelectors",E),a.set("decls",literal(m.getConstCount())),a.set("vars",literal(m.getVarCount()));var x=m.getConsts(),_=x.constExpressions,w=x.prepareStatements;if(_.length>0){var C=literalArr(_);w.length>0&&(C=fn([],[].concat((0,k.default)(w),[new St(C)]))),a.set("consts",C)}if(a.set("template",y),t.declarations.length>0&&a.set("dependencies",function compileDeclarationList(t,r){switch(r){case 0:return t;case 1:return fn([],[new St(t)]);case 2:var i=t.prop("map").callFn([importExpr(Mt.resolveForwardRef)]);return fn([],[new St(i)])}}(literalArr(t.declarations.map((function(t){return t.type}))),t.declarationListEmitMode)),null===t.encapsulation&&(t.encapsulation=D.Emulated),t.styles&&t.styles.length){var I=t.encapsulation==D.Emulated?function compileStyles(t,r,i){var a=new li;return t.map((function(t){return a.shimCssText(t,r,i)}))}(t.styles,Fs,Os):t.styles,A=I.reduce((function(t,i){return i.trim().length>0&&t.push(r.getConstLiteral(literal(i))),t}),[]);A.length>0&&a.set("styles",literalArr(A))}else t.encapsulation===D.Emulated&&(t.encapsulation=D.None);return t.encapsulation!==D.Emulated&&a.set("encapsulation",literal(t.encapsulation)),null!==t.animations&&a.set("data",literalMap([{key:"animation",value:t.animations,quoted:!1}])),null!=d&&d!==O.Default&&a.set("changeDetection",literal(d)),{expression:importExpr(Mt.defineComponent).callFn([a.toLiteralMap()],void 0,!0),type:createComponentType(t),statements:[]}}function createComponentType(t){var r=createBaseDirectiveTypeParams(t);return r.push(stringArrayAsType(t.template.ngContentSelectors)),r.push(expressionType(literal(t.isStandalone))),expressionType(importExpr(Mt.ComponentDeclaration,r))}function prepareQueryParams(t,r){var i=[getQueryPredicate(t,r),literal(toQueryFlags(t))];return t.read&&i.push(t.read),i}function toQueryFlags(t){return(t.descendants?1:0)|(t.static?2:0)|(t.emitDistinctChangesOnly?4:0)}function stringMapAsType(t){return expressionType(literalMap(Object.keys(t).map((function(r){return{key:r,value:literal(Array.isArray(t[r])?t[r][0]:t[r]),quoted:!0}}))))}function stringArrayAsType(t){return t.length>0?expressionType(literalArr(t.map((function(t){return literal(t)})))):Me}function createBaseDirectiveTypeParams(t){var r,i=null!==t.selector?t.selector.replace(/\n/g,""):null;return[typeWithParameters(t.type.type,t.typeArgumentCount),null!==i?(r=i,expressionType(literal(r))):Me,null!==t.exportAs?stringArrayAsType(t.exportAs):Me,stringMapAsType(t.inputs),stringMapAsType(t.outputs),stringArrayAsType(t.queries.map((function(t){return t.propertyName})))]}function createDirectiveType(t){var r=createBaseDirectiveTypeParams(t);return r.push(Me),r.push(expressionType(literal(t.isStandalone))),expressionType(importExpr(Mt.DirectiveDeclaration,r))}function bindingFn(t,r){return _convertPropertyBinding(null,t,r,"b")}function convertStylingCall(t,r,i){return t.params((function(t){return i(r,t).currValExpr}))}function getBindingNameAndInstruction(t){var r,i=t.name,a=i.match(Rs);return a?(i=a[1],r=Mt.attribute):t.isAnimation?(i=prepareSyntheticPropertyName(i),r=Mt.syntheticHostProperty):r=Mt.hostProperty,{bindingName:i,instruction:r,isAttribute:!!a}}var Bs=/^(?:\[([^\]]+)\])|(?:\(([^\)]+)\))$/;function parseHostBindings(t){for(var r={},i={},a={},o={},l=0,u=Object.keys(t);l<u.length;l++){var p=u[l],h=t[p],d=p.match(Bs);if(null===d)switch(p){case"class":if("string"!=typeof h)throw new Error("Class binding must be string");o.classAttr=h;break;case"style":if("string"!=typeof h)throw new Error("Style binding must be string");o.styleAttr=h;break;default:r[p]="string"==typeof h?literal(h):h}else if(null!=d[1]){if("string"!=typeof h)throw new Error("Property binding must be string");a[d[1]]=h}else if(null!=d[2]){if("string"!=typeof h)throw new Error("Event binding must be string");i[d[2]]=h}}return{attributes:r,listeners:i,properties:a,specialAttributes:o}}function verifyHostBindings(t,r){var i=makeBindingParser();return i.createDirectiveHostEventAsts(t.listeners,r),i.createBoundHostProperties(t.properties,r),i.errors}var Vs=(0,_.default)((function ResourceLoader(){(0,x.default)(this,ResourceLoader)})),qs=function(){function CompilerFacadeImpl(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new pr;(0,x.default)(this,CompilerFacadeImpl),this.jitEvaluator=t,this.FactoryTarget=jt,this.ResourceLoader=Vs,this.elementSchemaRegistry=new Ua}return(0,_.default)(CompilerFacadeImpl,[{key:"compilePipe",value:function compilePipe(t,r,i){var a=compilePipeFromMetadata({name:i.name,type:wrapReference(i.type),internalType:new Oe(i.type),typeArgumentCount:0,deps:null,pipeName:i.pipeName,pure:i.pure,isStandalone:i.isStandalone});return this.jitExpression(a.expression,t,r,[])}},{key:"compilePipeDeclaration",value:function compilePipeDeclaration(t,r,i){var a=function convertDeclarePipeFacadeToMetadata(t){var r,i;return{name:t.type.name,type:wrapReference(t.type),internalType:new Oe(t.type),typeArgumentCount:0,pipeName:t.name,deps:null,pure:null===(r=t.pure)||void 0===r||r,isStandalone:null!==(i=t.isStandalone)&&void 0!==i&&i}}(i),o=compilePipeFromMetadata(a);return this.jitExpression(o.expression,t,r,[])}},{key:"compileInjectable",value:function compileInjectable(t,r,i){var a,o=_compileInjectable({name:i.name,type:wrapReference(i.type),internalType:new Oe(i.type),typeArgumentCount:i.typeArgumentCount,providedIn:computeProvidedIn(i.providedIn),useClass:convertToProviderExpression(i,"useClass"),useFactory:wrapExpression(i,"useFactory"),useValue:convertToProviderExpression(i,"useValue"),useExisting:convertToProviderExpression(i,"useExisting"),deps:null===(a=i.deps)||void 0===a?void 0:a.map(convertR3DependencyMetadata)},!0),l=o.expression,u=o.statements;return this.jitExpression(l,t,r,u)}},{key:"compileInjectableDeclaration",value:function compileInjectableDeclaration(t,r,i){var a,o=_compileInjectable({name:i.type.name,type:wrapReference(i.type),internalType:new Oe(i.type),typeArgumentCount:0,providedIn:computeProvidedIn(i.providedIn),useClass:convertToProviderExpression(i,"useClass"),useFactory:wrapExpression(i,"useFactory"),useValue:convertToProviderExpression(i,"useValue"),useExisting:convertToProviderExpression(i,"useExisting"),deps:null===(a=i.deps)||void 0===a?void 0:a.map(convertR3DeclareDependencyMetadata)},!0),l=o.expression,u=o.statements;return this.jitExpression(l,t,r,u)}},{key:"compileInjector",value:function compileInjector(t,r,i){var a=_compileInjector({name:i.name,type:wrapReference(i.type),internalType:new Oe(i.type),providers:i.providers&&i.providers.length>0?new Oe(i.providers):null,imports:i.imports.map((function(t){return new Oe(t)}))});return this.jitExpression(a.expression,t,r,[])}},{key:"compileInjectorDeclaration",value:function compileInjectorDeclaration(t,r,i){var a=function convertDeclareInjectorFacadeToMetadata(t){return{name:t.type.name,type:wrapReference(t.type),internalType:new Oe(t.type),providers:void 0!==t.providers&&t.providers.length>0?new Oe(t.providers):null,imports:void 0!==t.imports?t.imports.map((function(t){return new Oe(t)})):[]}}(i),o=_compileInjector(a);return this.jitExpression(o.expression,t,r,[])}},{key:"compileNgModule",value:function compileNgModule(t,r,i){var a=_compileNgModule({type:wrapReference(i.type),internalType:new Oe(i.type),adjacentType:new Oe(i.type),bootstrap:i.bootstrap.map(wrapReference),declarations:i.declarations.map(wrapReference),imports:i.imports.map(wrapReference),exports:i.exports.map(wrapReference),selectorScopeMode:fr.Inline,containsForwardDecls:!1,schemas:i.schemas?i.schemas.map(wrapReference):null,id:i.id?new Oe(i.id):null});return this.jitExpression(a.expression,t,r,[])}},{key:"compileNgModuleDeclaration",value:function compileNgModuleDeclaration(t,r,i){var a=function compileNgModuleDeclarationExpression(t){var r=new Fn;return r.set("type",new Oe(t.type)),void 0!==t.bootstrap&&r.set("bootstrap",new Oe(t.bootstrap)),void 0!==t.declarations&&r.set("declarations",new Oe(t.declarations)),void 0!==t.imports&&r.set("imports",new Oe(t.imports)),void 0!==t.exports&&r.set("exports",new Oe(t.exports)),void 0!==t.schemas&&r.set("schemas",new Oe(t.schemas)),void 0!==t.id&&r.set("id",new Oe(t.id)),importExpr(Mt.defineNgModule).callFn([r.toLiteralMap()])}(i);return this.jitExpression(a,t,r,[])}},{key:"compileDirective",value:function compileDirective(t,r,i){var a=convertDirectiveFacadeToMetadata(i);return this.compileDirectiveFromMeta(t,r,a)}},{key:"compileDirectiveDeclaration",value:function compileDirectiveDeclaration(t,r,i){var a=convertDeclareDirectiveFacadeToMetadata(i,this.createParseSourceSpan("Directive",i.type.name,r));return this.compileDirectiveFromMeta(t,r,a)}},{key:"compileDirectiveFromMeta",value:function compileDirectiveFromMeta(t,r,i){var a=new Pt,o=compileDirectiveFromMetadata(i,a,makeBindingParser());return this.jitExpression(o.expression,t,r,a.statements)}},{key:"compileComponent",value:function compileComponent(t,r,i){var a=parseJitTemplate(i.template,i.name,r,i.preserveWhitespaces,i.interpolation),o=a.template,l=a.interpolation,u=Object.assign(Object.assign(Object.assign({},i),convertDirectiveFacadeToMetadata(i)),{selector:i.selector||this.elementSchemaRegistry.getDefaultComponentElementName(),template:o,declarations:i.declarations.map(convertDeclarationFacadeToMetadata),declarationListEmitMode:0,styles:[].concat((0,k.default)(i.styles),(0,k.default)(o.styles)),encapsulation:i.encapsulation,interpolation:l,changeDetection:i.changeDetection,animations:null!=i.animations?new Oe(i.animations):null,viewProviders:null!=i.viewProviders?new Oe(i.viewProviders):null,relativeContextFilePath:"",i18nUseExternalIds:!0}),p="ng:///".concat(i.name,".js");return this.compileComponentFromMeta(t,p,u)}},{key:"compileComponentDeclaration",value:function compileComponentDeclaration(t,r,i){var a=function convertDeclareComponentFacadeToMetadata(t,r,i){var a,o,l,u,p=parseJitTemplate(t.template,t.type.name,i,null!==(a=t.preserveWhitespaces)&&void 0!==a&&a,t.interpolation),h=p.template,d=p.interpolation,v=[];if(t.dependencies){var m,y=(0,E.default)(t.dependencies);try{for(y.s();!(m=y.n()).done;){var x=m.value;switch(x.kind){case"directive":case"component":v.push(convertDirectiveDeclarationToMetadata(x));break;case"pipe":v.push(convertPipeDeclarationToMetadata(x))}}}catch(t){y.e(t)}finally{y.f()}}else(t.components||t.directives||t.pipes)&&(t.components&&v.push.apply(v,(0,k.default)(t.components.map((function(t){return convertDirectiveDeclarationToMetadata(t,!0)})))),t.directives&&v.push.apply(v,(0,k.default)(t.directives.map((function(t){return convertDirectiveDeclarationToMetadata(t)})))),t.pipes&&v.push.apply(v,(0,k.default)(function convertPipeMapToMetadata(t){if(!t)return[];return Object.keys(t).map((function(r){return{kind:dr.Pipe,name:r,type:new Oe(t[r])}}))}(t.pipes))));return Object.assign(Object.assign({},convertDeclareDirectiveFacadeToMetadata(t,r)),{template:h,styles:null!==(o=t.styles)&&void 0!==o?o:[],declarations:v,viewProviders:void 0!==t.viewProviders?new Oe(t.viewProviders):null,animations:void 0!==t.animations?new Oe(t.animations):null,changeDetection:null!==(l=t.changeDetection)&&void 0!==l?l:O.Default,encapsulation:null!==(u=t.encapsulation)&&void 0!==u?u:D.Emulated,interpolation:d,declarationListEmitMode:2,relativeContextFilePath:"",i18nUseExternalIds:!0})}(i,this.createParseSourceSpan("Component",i.type.name,r),r);return this.compileComponentFromMeta(t,r,a)}},{key:"compileComponentFromMeta",value:function compileComponentFromMeta(t,r,i){var a=new Pt,o=compileComponentFromMetadata(i,a,makeBindingParser(i.interpolation));return this.jitExpression(o.expression,t,r,a.statements)}},{key:"compileFactory",value:function compileFactory(t,r,i){var a,o=compileFactoryFunction({name:i.name,type:wrapReference(i.type),internalType:new Oe(i.type),typeArgumentCount:i.typeArgumentCount,deps:(a=i.deps,null==a?null:a.map(convertR3DependencyMetadata)),target:i.target});return this.jitExpression(o.expression,t,r,o.statements)}},{key:"compileFactoryDeclaration",value:function compileFactoryDeclaration(t,r,i){var a=compileFactoryFunction({name:i.type.name,type:wrapReference(i.type),internalType:new Oe(i.type),typeArgumentCount:0,deps:Array.isArray(i.deps)?i.deps.map(convertR3DeclareDependencyMetadata):i.deps,target:i.target});return this.jitExpression(a.expression,t,r,a.statements)}},{key:"createParseSourceSpan",value:function createParseSourceSpan(t,r,i){return r3JitTypeSourceSpan(t,r,i)}},{key:"jitExpression",value:function jitExpression(t,r,i,a){var o=[].concat((0,k.default)(a),[new Et("$def",t,void 0,Ye.Exported)]);return this.jitEvaluator.evaluateStatements(i,o,new vr(r),!0).$def}}]),CompilerFacadeImpl}();function convertToR3QueryMetadata(t){return Object.assign(Object.assign({},t),{predicate:convertQueryPredicate(t.predicate),read:t.read?new Oe(t.read):null,static:t.static,emitDistinctChangesOnly:t.emitDistinctChangesOnly})}function convertQueryDeclarationToMetadata(t){var r,i,a,o;return{propertyName:t.propertyName,first:null!==(r=t.first)&&void 0!==r&&r,predicate:convertQueryPredicate(t.predicate),descendants:null!==(i=t.descendants)&&void 0!==i&&i,read:t.read?new Oe(t.read):null,static:null!==(a=t.static)&&void 0!==a&&a,emitDistinctChangesOnly:null===(o=t.emitDistinctChangesOnly)||void 0===o||o}}function convertQueryPredicate(t){return Array.isArray(t)?t:createMayBeForwardRefExpression(new Oe(t),1)}function convertDirectiveFacadeToMetadata(t){var r=parseInputOutputs(t.inputs||[]),i=parseInputOutputs(t.outputs||[]),a=t.propMetadata,o={},l={},u=function _loop4(t){a.hasOwnProperty(t)&&a[t].forEach((function(r){!function isInput(t){return"Input"===t.ngMetadataName}(r)?function isOutput(t){return"Output"===t.ngMetadataName}(r)&&(l[t]=r.bindingPropertyName||t):o[t]=r.bindingPropertyName?[r.bindingPropertyName,t]:t}))};for(var p in a)u(p);return Object.assign(Object.assign({},t),{typeArgumentCount:0,typeSourceSpan:t.typeSourceSpan,type:wrapReference(t.type),internalType:new Oe(t.type),deps:null,host:extractHostBindings(t.propMetadata,t.typeSourceSpan,t.host),inputs:Object.assign(Object.assign({},r),o),outputs:Object.assign(Object.assign({},i),l),queries:t.queries.map(convertToR3QueryMetadata),providers:null!=t.providers?new Oe(t.providers):null,viewQueries:t.viewQueries.map(convertToR3QueryMetadata),fullInheritance:!1})}function convertDeclareDirectiveFacadeToMetadata(t,r){var i,a,o,l,u,p,h,d,v;return{name:t.type.name,type:wrapReference(t.type),typeSourceSpan:r,internalType:new Oe(t.type),selector:null!==(i=t.selector)&&void 0!==i?i:null,inputs:null!==(a=t.inputs)&&void 0!==a?a:{},outputs:null!==(o=t.outputs)&&void 0!==o?o:{},host:convertHostDeclarationToMetadata(t.host),queries:(null!==(l=t.queries)&&void 0!==l?l:[]).map(convertQueryDeclarationToMetadata),viewQueries:(null!==(u=t.viewQueries)&&void 0!==u?u:[]).map(convertQueryDeclarationToMetadata),providers:void 0!==t.providers?new Oe(t.providers):null,exportAs:null!==(p=t.exportAs)&&void 0!==p?p:null,usesInheritance:null!==(h=t.usesInheritance)&&void 0!==h&&h,lifecycle:{usesOnChanges:null!==(d=t.usesOnChanges)&&void 0!==d&&d},deps:null,typeArgumentCount:0,fullInheritance:!1,isStandalone:null!==(v=t.isStandalone)&&void 0!==v&&v}}function convertHostDeclarationToMetadata(){var t,r,i,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{attributes:convertOpaqueValuesToExpressions(null!==(t=a.attributes)&&void 0!==t?t:{}),listeners:null!==(r=a.listeners)&&void 0!==r?r:{},properties:null!==(i=a.properties)&&void 0!==i?i:{},specialAttributes:{classAttr:a.classAttribute,styleAttr:a.styleAttribute}}}function convertOpaqueValuesToExpressions(t){for(var r={},i=0,a=Object.keys(t);i<a.length;i++){var o=a[i];r[o]=new Oe(t[o])}return r}function convertDeclarationFacadeToMetadata(t){return Object.assign(Object.assign({},t),{type:new Oe(t.type)})}function convertDirectiveDeclarationToMetadata(t){var r,i,a,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{kind:dr.Directive,isComponent:o||"component"===t.kind,selector:t.selector,type:new Oe(t.type),inputs:null!==(r=t.inputs)&&void 0!==r?r:[],outputs:null!==(i=t.outputs)&&void 0!==i?i:[],exportAs:null!==(a=t.exportAs)&&void 0!==a?a:null}}function convertPipeDeclarationToMetadata(t){return{kind:dr.Pipe,name:t.name,type:new Oe(t.type)}}function parseJitTemplate(t,r,i,a,o){var l=o?Vn.fromArray(o):qn,u=parseTemplate(t,i,{preserveWhitespaces:a,interpolationConfig:l});if(null!==u.errors){var p=u.errors.map((function(t){return t.toString()})).join(", ");throw new Error("Errors during JIT compilation of template for ".concat(r,": ").concat(p))}return{template:u,interpolation:l}}function convertToProviderExpression(t,r){return t.hasOwnProperty(r)?createMayBeForwardRefExpression(new Oe(t[r]),0):void 0}function wrapExpression(t,r){return t.hasOwnProperty(r)?new Oe(t[r]):void 0}function computeProvidedIn(t){return createMayBeForwardRefExpression("function"==typeof t?new Oe(t):new Ue(null!=t?t:null),0)}function convertR3DependencyMetadata(t){var r=null!=t.attribute,i=null===t.token?null:new Oe(t.token);return createR3DependencyMetadata(r?new Oe(t.attribute):i,r,t.host,t.optional,t.self,t.skipSelf)}function convertR3DeclareDependencyMetadata(t){var r,i,a,o,l,u=null!==(r=t.attribute)&&void 0!==r&&r;return createR3DependencyMetadata(null===t.token?null:new Oe(t.token),u,null!==(i=t.host)&&void 0!==i&&i,null!==(a=t.optional)&&void 0!==a&&a,null!==(o=t.self)&&void 0!==o&&o,null!==(l=t.skipSelf)&&void 0!==l&&l)}function createR3DependencyMetadata(t,r,i,a,o,l){return{token:t,attributeNameType:r?literal("unknown"):null,host:i,optional:a,self:o,skipSelf:l}}function extractHostBindings(t,r,i){var a=parseHostBindings(i||{}),o=verifyHostBindings(a,r);if(o.length)throw new Error(o.map((function(t){return t.msg})).join("\n"));var l=function _loop5(r){t.hasOwnProperty(r)&&t[r].forEach((function(t){!function isHostBinding(t){return"HostBinding"===t.ngMetadataName}(t)?function isHostListener(t){return"HostListener"===t.ngMetadataName}(t)&&(a.listeners[t.eventName||r]="".concat(r,"(").concat((t.args||[]).join(","),")")):a.properties[t.hostPropertyName||r]=getSafePropertyAccessString("this",r)}))};for(var u in t)l(u);return a}function parseInputOutputs(t){return t.reduce((function(t,r){var i=r.split(",").map((function(t){return t.trim()})),a=(0,p.default)(i,2),o=a[0],l=a[1];return t[o]=l||o,t}),{})}function publishFacade(t){(t.ng||(t.ng={})).compilerFacade=new qs}var js=new se("14.0.5"),Hs=(0,_.default)((function CompilerConfig(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.defaultEncapsulation,i=void 0===r?D.Emulated:r,a=t.useJit,o=void 0===a||a,l=t.jitDevMode,u=void 0!==l&&l,p=t.missingTranslation,h=void 0===p?null:p,d=t.preserveWhitespaces,v=t.strictInjectionParameters;(0,x.default)(this,CompilerConfig),this.defaultEncapsulation=i,this.useJit=!!o,this.jitDevMode=!!u,this.missingTranslation=h,this.preserveWhitespaces=preserveWhitespacesDefault(noUndefined(d)),this.strictInjectionParameters=!0===v}));function preserveWhitespacesDefault(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return null===t?r:t}var Us="i18n",Ws="i18n-",zs=/^i18n:?/,Ks=!1;function mergeTranslations(t,r,i,a,o){return new Gs(a,o).merge(t,r,i)}var Zs,$s=(0,_.default)((function ExtractionResult(t,r){(0,x.default)(this,ExtractionResult),this.messages=t,this.errors=r}));!function(t){t[t.Extract=0]="Extract",t[t.Merge=1]="Merge"}(Zs||(Zs={}));var Gs=function(){function _Visitor(t,r){(0,x.default)(this,_Visitor),this._implicitTags=t,this._implicitAttrs=r}return(0,_.default)(_Visitor,[{key:"extract",value:function extract(t,r){var i=this;return this._init(Zs.Extract,r),t.forEach((function(t){return t.visit(i,null)})),this._inI18nBlock&&this._reportError(t[t.length-1],"Unclosed block"),new $s(this._messages,this._errors)}},{key:"merge",value:function merge(t,r,i){this._init(Zs.Merge,i),this._translations=r;var a=new ea("wrapper",[],t,void 0,void 0,void 0).visit(this,null);return this._inI18nBlock&&this._reportError(t[t.length-1],"Unclosed block"),new Ea(a.children,this._errors)}},{key:"visitExpansionCase",value:function visitExpansionCase(t,r){var i=visitAll(this,t.expression,r);if(this._mode===Zs.Merge)return new Qi(t.value,i,t.sourceSpan,t.valueSourceSpan,t.expSourceSpan)}},{key:"visitExpansion",value:function visitExpansion(t,r){this._mayBeAddBlockChildren(t);var i=this._inIcu;this._inIcu||(this._isInTranslatableSection&&this._addMessage([t]),this._inIcu=!0);var a=visitAll(this,t.cases,r);return this._mode===Zs.Merge&&(t=new Ji(t.switchValue,t.type,a,t.sourceSpan,t.switchValueSourceSpan)),this._inIcu=i,t}},{key:"visitComment",value:function visitComment(t,r){var i=function _isOpeningComment(t){return!!(t instanceof na&&t.value&&t.value.startsWith("i18n"))}(t);if(i&&this._isInTranslatableSection)this._reportError(t,"Could not start a block inside a translatable section");else{var a=function _isClosingComment(t){return!!(t instanceof na&&t.value&&"/i18n"===t.value)}(t);if(!a||this._inI18nBlock){if(!this._inI18nNode&&!this._inIcu)if(this._inI18nBlock){if(a){if(this._depth==this._blockStartDepth){this._closeTranslatableSection(t,this._blockChildren),this._inI18nBlock=!1;var o=this._addMessage(this._blockChildren,this._blockMeaningAndDesc);return visitAll(this,this._translateMessage(t,o))}return void this._reportError(t,"I18N blocks should not cross element boundaries")}}else if(i){if(!Ks&&console&&console.warn){Ks=!0;var l=t.sourceSpan.details?", ".concat(t.sourceSpan.details):"";console.warn("I18n comments are deprecated, use an <ng-container> element instead (".concat(t.sourceSpan.start).concat(l,")"))}this._inI18nBlock=!0,this._blockStartDepth=this._depth,this._blockChildren=[],this._blockMeaningAndDesc=t.value.replace(zs,"").trim(),this._openTranslatableSection(t)}}else this._reportError(t,"Trying to close an unopened block")}}},{key:"visitText",value:function visitText(t,r){return this._isInTranslatableSection&&this._mayBeAddBlockChildren(t),t}},{key:"visitElement",value:function visitElement(t,r){var i=this;this._mayBeAddBlockChildren(t),this._depth++;var a=this._inI18nNode,o=this._inImplicitNode,l=[],u=void 0,p=function _getI18nAttr(t){return t.attrs.find((function(t){return t.name===Us}))||null}(t),h=p?p.value:"",d=this._implicitTags.some((function(r){return t.name===r}))&&!this._inIcu&&!this._isInTranslatableSection,v=!o&&d;if(this._inImplicitNode=o||d,this._isInTranslatableSection||this._inIcu)(p||v)&&this._reportError(t,"Could not mark an element as translatable inside a translatable section"),this._mode==Zs.Extract&&visitAll(this,t.children);else{if(p||v){this._inI18nNode=!0;var m=this._addMessage(t.children,h);u=this._translateMessage(t,m)}if(this._mode==Zs.Extract){var y=p||v;y&&this._openTranslatableSection(t),visitAll(this,t.children),y&&this._closeTranslatableSection(t,t.children)}}this._mode===Zs.Merge&&(u||t.children).forEach((function(t){var a=t.visit(i,r);a&&!i._isInTranslatableSection&&(l=l.concat(a))}));if(this._visitAttributesOf(t),this._depth--,this._inI18nNode=a,this._inImplicitNode=o,this._mode===Zs.Merge){var E=this._translateAttributes(t);return new ea(t.name,E,l,t.sourceSpan,t.startSourceSpan,t.endSourceSpan)}return null}},{key:"visitAttribute",value:function visitAttribute(t,r){throw new Error("unreachable code")}},{key:"_init",value:function _init(t,r){this._mode=t,this._inI18nBlock=!1,this._inI18nNode=!1,this._depth=0,this._inIcu=!1,this._msgCountAtSectionStart=void 0,this._errors=[],this._messages=[],this._inImplicitNode=!1,this._createI18nMessage=createI18nMessageFactory(r)}},{key:"_visitAttributesOf",value:function _visitAttributesOf(t){var r=this,i={},a=this._implicitAttrs[t.name]||[];t.attrs.filter((function(t){return t.name.startsWith(Ws)})).forEach((function(t){return i[t.name.slice(Ws.length)]=t.value})),t.attrs.forEach((function(t){t.name in i?r._addMessage([t],i[t.name]):a.some((function(r){return t.name===r}))&&r._addMessage([t])}))}},{key:"_addMessage",value:function _addMessage(t,r){if(0==t.length||1==t.length&&t[0]instanceof Yi&&!t[0].value)return null;var i=_parseMessageMeta(r),a=i.meaning,o=i.description,l=i.id,u=this._createI18nMessage(t,a,o,l);return this._messages.push(u),u}},{key:"_translateMessage",value:function _translateMessage(t,r){if(r&&this._mode===Zs.Merge){var i=this._translations.get(r);if(i)return i;this._reportError(t,'Translation unavailable for message id="'.concat(this._translations.digest(r),'"'))}return[]}},{key:"_translateAttributes",value:function _translateAttributes(t){var r=this,i=t.attrs,a={};i.forEach((function(t){t.name.startsWith(Ws)&&(a[t.name.slice(Ws.length)]=_parseMessageMeta(t.value))}));var o=[];return i.forEach((function(i){if(i.name!==Us&&!i.name.startsWith(Ws))if(i.value&&""!=i.value&&a.hasOwnProperty(i.name)){var l=a[i.name],u=l.meaning,p=l.description,h=l.id,d=r._createI18nMessage([i],u,p,h),v=r._translations.get(d);if(v)if(0==v.length)o.push(new Yi(i.name,"",i.sourceSpan,void 0,void 0,void 0,void 0));else if(v[0]instanceof Xi){var m=v[0].value;o.push(new Yi(i.name,m,i.sourceSpan,void 0,void 0,void 0,void 0))}else r._reportError(t,'Unexpected translation for attribute "'.concat(i.name,'" (id="').concat(h||r._translations.digest(d),'")'));else r._reportError(t,'Translation unavailable for attribute "'.concat(i.name,'" (id="').concat(h||r._translations.digest(d),'")'))}else o.push(i)})),o}},{key:"_mayBeAddBlockChildren",value:function _mayBeAddBlockChildren(t){this._inI18nBlock&&!this._inIcu&&this._depth==this._blockStartDepth&&this._blockChildren.push(t)}},{key:"_openTranslatableSection",value:function _openTranslatableSection(t){this._isInTranslatableSection?this._reportError(t,"Unexpected section start"):this._msgCountAtSectionStart=this._messages.length}},{key:"_isInTranslatableSection",get:function get(){return void 0!==this._msgCountAtSectionStart}},{key:"_closeTranslatableSection",value:function _closeTranslatableSection(t,r){if(this._isInTranslatableSection){var i=this._msgCountAtSectionStart,a=r.reduce((function(t,r){return t+(r instanceof na?0:1)}),0);if(1==a)for(var o=this._messages.length-1;o>=i;o--){var l=this._messages[o].nodes;if(!(1==l.length&&l[0]instanceof nn)){this._messages.splice(o,1);break}}this._msgCountAtSectionStart=void 0}else this._reportError(t,"Unexpected section end")}},{key:"_reportError",value:function _reportError(t,r){this._errors.push(new ms(t.sourceSpan,r))}}]),_Visitor}();function _parseMessageMeta(t){if(!t)return{meaning:"",description:"",id:""};var r=t.indexOf("@@"),i=t.indexOf("|"),a=r>-1?[t.slice(0,r),t.slice(r+2)]:[t,""],o=(0,p.default)(a,2),l=o[0],u=o[1],h=i>-1?[l.slice(0,i),l.slice(i+1)]:["",l],d=(0,p.default)(h,2);return{meaning:d[0],description:d[1],id:u.trim()}}var Xs=new(function(){function XmlTagDefinition(){(0,x.default)(this,XmlTagDefinition),this.closedByParent=!1,this.isVoid=!1,this.ignoreFirstLf=!1,this.canSelfClose=!0,this.preventNamespaceInheritance=!1}return(0,_.default)(XmlTagDefinition,[{key:"requireExtraParent",value:function requireExtraParent(t){return!1}},{key:"isClosedByChild",value:function isClosedByChild(t){return!1}},{key:"getContentType",value:function getContentType(){return a.PARSABLE_DATA}}]),XmlTagDefinition}());function getXmlTagDefinition(t){return Xs}var Js=function(t){(0,m.default)(XmlParser,t);var r=(0,y.default)(XmlParser);function XmlParser(){return(0,x.default)(this,XmlParser),r.call(this,getXmlTagDefinition)}return(0,_.default)(XmlParser,[{key:"parse",value:function parse(t,r,i){return(0,d.default)((0,v.default)(XmlParser.prototype),"parse",this).call(this,t,r,i)}}]),XmlParser}(ka),Qs="x",Ys="source",eo="trans-unit",to="context",no=function(t){(0,m.default)(Xliff,t);var r=(0,y.default)(Xliff);function Xliff(){return(0,x.default)(this,Xliff),r.apply(this,arguments)}return(0,_.default)(Xliff,[{key:"write",value:function write(t,r){var i=new ro,a=[];t.forEach((function(t){var r,o=[];t.sources.forEach((function(t){var r=new yn("context-group",{purpose:"location"});r.children.push(new kn(10),new yn(to,{"context-type":"sourcefile"},[new En(t.filePath)]),new kn(10),new yn(to,{"context-type":"linenumber"},[new En("".concat(t.startLine))]),new kn(8)),o.push(new kn(8),r)}));var l=new yn(eo,{id:t.id,datatype:"html"});(r=l.children).push.apply(r,[new kn(8),new yn(Ys,{},i.serialize(t.nodes))].concat(o)),t.description&&l.children.push(new kn(8),new yn("note",{priority:"1",from:"description"},[new En(t.description)])),t.meaning&&l.children.push(new kn(8),new yn("note",{priority:"1",from:"meaning"},[new En(t.meaning)])),l.children.push(new kn(6)),a.push(new kn(6),l)}));var o=new yn("body",{},[].concat(a,[new kn(4)])),l=new yn("file",{"source-language":r||"en",datatype:"plaintext",original:"ng2.template"},[new kn(4),o,new kn(2)]),u=new yn("xliff",{version:"1.2",xmlns:"urn:oasis:names:tc:xliff:document:1.2"},[new kn(2),l,new kn]);return serialize([new mn({version:"1.0",encoding:"UTF-8"}),new kn,u,new kn])}},{key:"load",value:function load(t,r){var i=(new io).parse(t,r),a=i.locale,o=i.msgIdToHtml,l=i.errors,u={},p=new ao;if(Object.keys(o).forEach((function(t){var i=p.convert(o[t],r),a=i.i18nNodes,h=i.errors;l.push.apply(l,(0,k.default)(h)),u[t]=a})),l.length)throw new Error("xliff parse errors:\n".concat(l.join("\n")));return{locale:a,i18nNodesByMsgId:u}}},{key:"digest",value:function digest(t){return digest$1(t)}}]),Xliff}(hn),ro=function(){function _WriteVisitor$1(){(0,x.default)(this,_WriteVisitor$1)}return(0,_.default)(_WriteVisitor$1,[{key:"visitText",value:function visitText(t,r){return[new En(t.value)]}},{key:"visitContainer",value:function visitContainer(t,r){var i=this,a=[];return t.children.forEach((function(t){return a.push.apply(a,(0,k.default)(t.visit(i)))})),a}},{key:"visitIcu",value:function visitIcu(t,r){var i=this,a=[new En("{".concat(t.expressionPlaceholder,", ").concat(t.type,", "))];return Object.keys(t.cases).forEach((function(r){a.push.apply(a,[new En("".concat(r," {"))].concat((0,k.default)(t.cases[r].visit(i)),[new En("} ")]))})),a.push(new En("}")),a}},{key:"visitTagPlaceholder",value:function visitTagPlaceholder(t,r){var i=function getCtypeForTag(t){switch(t.toLowerCase()){case"br":return"lb";case"img":return"image";default:return"x-".concat(t)}}(t.tag);if(t.isVoid)return[new yn(Qs,{id:t.startName,ctype:i,"equiv-text":"<".concat(t.tag,"/>")})];var a=new yn(Qs,{id:t.startName,ctype:i,"equiv-text":"<".concat(t.tag,">")}),o=new yn(Qs,{id:t.closeName,ctype:i,"equiv-text":"</".concat(t.tag,">")});return[a].concat((0,k.default)(this.serialize(t.children)),[o])}},{key:"visitPlaceholder",value:function visitPlaceholder(t,r){return[new yn(Qs,{id:t.name,"equiv-text":"{{".concat(t.value,"}}")})]}},{key:"visitIcuPlaceholder",value:function visitIcuPlaceholder(t,r){var i="{".concat(t.value.expression,", ").concat(t.value.type,", ").concat(Object.keys(t.value.cases).map((function(t){return t+" {...}"})).join(" "),"}");return[new yn(Qs,{id:t.name,"equiv-text":i})]}},{key:"serialize",value:function serialize(t){var r,i=this;return(r=[]).concat.apply(r,(0,k.default)(t.map((function(t){return t.visit(i)}))))}}]),_WriteVisitor$1}(),io=function(){function XliffParser(){(0,x.default)(this,XliffParser),this._locale=null}return(0,_.default)(XliffParser,[{key:"parse",value:function parse(t,r){this._unitMlString=null,this._msgIdToHtml={};var i=(new Js).parse(t,r);return this._errors=i.errors,visitAll(this,i.rootNodes,null),{msgIdToHtml:this._msgIdToHtml,errors:this._errors,locale:this._locale}}},{key:"visitElement",value:function visitElement(t,r){switch(t.name){case eo:this._unitMlString=null;var i=t.attrs.find((function(t){return"id"===t.name}));if(i){var a=i.value;this._msgIdToHtml.hasOwnProperty(a)?this._addError(t,"Duplicated translations for msg ".concat(a)):(visitAll(this,t.children,null),"string"==typeof this._unitMlString?this._msgIdToHtml[a]=this._unitMlString:this._addError(t,"Message ".concat(a," misses a translation")))}else this._addError(t,"<".concat(eo,'> misses the "id" attribute'));break;case Ys:case"seg-source":case"alt-trans":break;case"target":var o=t.startSourceSpan.end.offset,l=t.endSourceSpan.start.offset,u=t.startSourceSpan.start.file.content.slice(o,l);this._unitMlString=u;break;case"file":var p=t.attrs.find((function(t){return"target-language"===t.name}));p&&(this._locale=p.value),visitAll(this,t.children,null);break;default:visitAll(this,t.children,null)}}},{key:"visitAttribute",value:function visitAttribute(t,r){}},{key:"visitText",value:function visitText(t,r){}},{key:"visitComment",value:function visitComment(t,r){}},{key:"visitExpansion",value:function visitExpansion(t,r){}},{key:"visitExpansionCase",value:function visitExpansionCase(t,r){}},{key:"_addError",value:function _addError(t,r){this._errors.push(new ms(t.sourceSpan,r))}}]),XliffParser}(),ao=function(){function XmlToI18n$2(){(0,x.default)(this,XmlToI18n$2)}return(0,_.default)(XmlToI18n$2,[{key:"convert",value:function convert(t,r){var i,a=(new Js).parse(t,r,{tokenizeExpansionForms:!0});return this._errors=a.errors,{i18nNodes:this._errors.length>0||0==a.rootNodes.length?[]:(i=[]).concat.apply(i,(0,k.default)(visitAll(this,a.rootNodes))),errors:this._errors}}},{key:"visitText",value:function visitText(t,r){return new nn(t.value,t.sourceSpan)}},{key:"visitElement",value:function visitElement(t,r){if(t.name===Qs){var i=t.attrs.find((function(t){return"id"===t.name}));return i?new on("",i.value,t.sourceSpan):(this._addError(t,"<".concat(Qs,'> misses the "id" attribute')),null)}var a;return"mrk"===t.name?(a=[]).concat.apply(a,(0,k.default)(visitAll(this,t.children))):(this._addError(t,"Unexpected tag"),null)}},{key:"visitExpansion",value:function visitExpansion(t,r){var i={};return visitAll(this,t.cases).forEach((function(r){i[r.value]=new rn(r.nodes,t.sourceSpan)})),new an(t.switchValue,t.type,i,t.sourceSpan)}},{key:"visitExpansionCase",value:function visitExpansionCase(t,r){return{value:t.value,nodes:visitAll(this,t.expression)}}},{key:"visitComment",value:function visitComment(t,r){}},{key:"visitAttribute",value:function visitAttribute(t,r){}},{key:"_addError",value:function _addError(t,r){this._errors.push(new ms(t.sourceSpan,r))}}]),XmlToI18n$2}();var so="ph",oo="xliff",lo="source",uo="unit",co=function(t){(0,m.default)(Xliff2,t);var r=(0,y.default)(Xliff2);function Xliff2(){return(0,x.default)(this,Xliff2),r.apply(this,arguments)}return(0,_.default)(Xliff2,[{key:"write",value:function write(t,r){var i=new po,a=[];t.forEach((function(t){var r=new yn(uo,{id:t.id}),o=new yn("notes");(t.description||t.meaning)&&(t.description&&o.children.push(new kn(8),new yn("note",{category:"description"},[new En(t.description)])),t.meaning&&o.children.push(new kn(8),new yn("note",{category:"meaning"},[new En(t.meaning)]))),t.sources.forEach((function(t){o.children.push(new kn(8),new yn("note",{category:"location"},[new En("".concat(t.filePath,":").concat(t.startLine).concat(t.endLine!==t.startLine?","+t.endLine:""))]))})),o.children.push(new kn(6)),r.children.push(new kn(6),o);var l=new yn("segment");l.children.push(new kn(8),new yn(lo,{},i.serialize(t.nodes)),new kn(6)),r.children.push(new kn(6),l,new kn(4)),a.push(new kn(4),r)}));var o=new yn("file",{original:"ng.template",id:"ngi18n"},[].concat(a,[new kn(2)])),l=new yn(oo,{version:"2.0",xmlns:"urn:oasis:names:tc:xliff:document:2.0",srcLang:r||"en"},[new kn(2),o,new kn]);return serialize([new mn({version:"1.0",encoding:"UTF-8"}),new kn,l,new kn])}},{key:"load",value:function load(t,r){var i=(new ho).parse(t,r),a=i.locale,o=i.msgIdToHtml,l=i.errors,u={},p=new fo;if(Object.keys(o).forEach((function(t){var i=p.convert(o[t],r),a=i.i18nNodes,h=i.errors;l.push.apply(l,(0,k.default)(h)),u[t]=a})),l.length)throw new Error("xliff2 parse errors:\n".concat(l.join("\n")));return{locale:a,i18nNodesByMsgId:u}}},{key:"digest",value:function digest(t){return decimalDigest(t)}}]),Xliff2}(hn),po=function(){function _WriteVisitor(){(0,x.default)(this,_WriteVisitor)}return(0,_.default)(_WriteVisitor,[{key:"visitText",value:function visitText(t,r){return[new En(t.value)]}},{key:"visitContainer",value:function visitContainer(t,r){var i=this,a=[];return t.children.forEach((function(t){return a.push.apply(a,(0,k.default)(t.visit(i)))})),a}},{key:"visitIcu",value:function visitIcu(t,r){var i=this,a=[new En("{".concat(t.expressionPlaceholder,", ").concat(t.type,", "))];return Object.keys(t.cases).forEach((function(r){a.push.apply(a,[new En("".concat(r," {"))].concat((0,k.default)(t.cases[r].visit(i)),[new En("} ")]))})),a.push(new En("}")),a}},{key:"visitTagPlaceholder",value:function visitTagPlaceholder(t,r){var i,a=this,o=function getTypeForTag(t){switch(t.toLowerCase()){case"br":case"b":case"i":case"u":return"fmt";case"img":return"image";case"a":return"link";default:return"other"}}(t.tag);if(t.isVoid)return[new yn(so,{id:(this._nextPlaceholderId++).toString(),equiv:t.startName,type:o,disp:"<".concat(t.tag,"/>")})];var l=new yn("pc",{id:(this._nextPlaceholderId++).toString(),equivStart:t.startName,equivEnd:t.closeName,type:o,dispStart:"<".concat(t.tag,">"),dispEnd:"</".concat(t.tag,">")}),u=(i=[]).concat.apply(i,(0,k.default)(t.children.map((function(t){return t.visit(a)}))));return u.length?u.forEach((function(t){return l.children.push(t)})):l.children.push(new En("")),[l]}},{key:"visitPlaceholder",value:function visitPlaceholder(t,r){var i=(this._nextPlaceholderId++).toString();return[new yn(so,{id:i,equiv:t.name,disp:"{{".concat(t.value,"}}")})]}},{key:"visitIcuPlaceholder",value:function visitIcuPlaceholder(t,r){var i=Object.keys(t.value.cases).map((function(t){return t+" {...}"})).join(" "),a=(this._nextPlaceholderId++).toString();return[new yn(so,{id:a,equiv:t.name,disp:"{".concat(t.value.expression,", ").concat(t.value.type,", ").concat(i,"}")})]}},{key:"serialize",value:function serialize(t){var r,i=this;return this._nextPlaceholderId=0,(r=[]).concat.apply(r,(0,k.default)(t.map((function(t){return t.visit(i)}))))}}]),_WriteVisitor}(),ho=function(){function Xliff2Parser(){(0,x.default)(this,Xliff2Parser),this._locale=null}return(0,_.default)(Xliff2Parser,[{key:"parse",value:function parse(t,r){this._unitMlString=null,this._msgIdToHtml={};var i=(new Js).parse(t,r);return this._errors=i.errors,visitAll(this,i.rootNodes,null),{msgIdToHtml:this._msgIdToHtml,errors:this._errors,locale:this._locale}}},{key:"visitElement",value:function visitElement(t,r){switch(t.name){case uo:this._unitMlString=null;var i=t.attrs.find((function(t){return"id"===t.name}));if(i){var a=i.value;this._msgIdToHtml.hasOwnProperty(a)?this._addError(t,"Duplicated translations for msg ".concat(a)):(visitAll(this,t.children,null),"string"==typeof this._unitMlString?this._msgIdToHtml[a]=this._unitMlString:this._addError(t,"Message ".concat(a," misses a translation")))}else this._addError(t,"<".concat(uo,'> misses the "id" attribute'));break;case lo:break;case"target":var o=t.startSourceSpan.end.offset,l=t.endSourceSpan.start.offset,u=t.startSourceSpan.start.file.content.slice(o,l);this._unitMlString=u;break;case oo:var p=t.attrs.find((function(t){return"trgLang"===t.name}));p&&(this._locale=p.value);var h=t.attrs.find((function(t){return"version"===t.name}));if(h){var d=h.value;"2.0"!==d?this._addError(t,"The XLIFF file version ".concat(d," is not compatible with XLIFF 2.0 serializer")):visitAll(this,t.children,null)}break;default:visitAll(this,t.children,null)}}},{key:"visitAttribute",value:function visitAttribute(t,r){}},{key:"visitText",value:function visitText(t,r){}},{key:"visitComment",value:function visitComment(t,r){}},{key:"visitExpansion",value:function visitExpansion(t,r){}},{key:"visitExpansionCase",value:function visitExpansionCase(t,r){}},{key:"_addError",value:function _addError(t,r){this._errors.push(new ms(t.sourceSpan,r))}}]),Xliff2Parser}(),fo=function(){function XmlToI18n$1(){(0,x.default)(this,XmlToI18n$1)}return(0,_.default)(XmlToI18n$1,[{key:"convert",value:function convert(t,r){var i,a=(new Js).parse(t,r,{tokenizeExpansionForms:!0});return this._errors=a.errors,{i18nNodes:this._errors.length>0||0==a.rootNodes.length?[]:(i=[]).concat.apply(i,(0,k.default)(visitAll(this,a.rootNodes))),errors:this._errors}}},{key:"visitText",value:function visitText(t,r){return new nn(t.value,t.sourceSpan)}},{key:"visitElement",value:function visitElement(t,r){var i,a=this;switch(t.name){case so:var o=t.attrs.find((function(t){return"equiv"===t.name}));if(o)return[new on("",o.value,t.sourceSpan)];this._addError(t,"<".concat(so,'> misses the "equiv" attribute'));break;case"pc":var l=t.attrs.find((function(t){return"equivStart"===t.name})),u=t.attrs.find((function(t){return"equivEnd"===t.name}));if(l){if(u){var p=l.value,h=u.value,d=[];return d.concat.apply(d,[new on("",p,t.sourceSpan)].concat((0,k.default)(t.children.map((function(t){return t.visit(a,null)}))),[new on("",h,t.sourceSpan)]))}this._addError(t,"<".concat(so,'> misses the "equivEnd" attribute'))}else this._addError(t,"<".concat(so,'> misses the "equivStart" attribute'));break;case"mrk":return(i=[]).concat.apply(i,(0,k.default)(visitAll(this,t.children)));default:this._addError(t,"Unexpected tag")}return null}},{key:"visitExpansion",value:function visitExpansion(t,r){var i={};return visitAll(this,t.cases).forEach((function(r){i[r.value]=new rn(r.nodes,t.sourceSpan)})),new an(t.switchValue,t.type,i,t.sourceSpan)}},{key:"visitExpansionCase",value:function visitExpansionCase(t,r){var i;return{value:t.value,nodes:(i=[]).concat.apply(i,(0,k.default)(visitAll(this,t.expression)))}}},{key:"visitComment",value:function visitComment(t,r){}},{key:"visitAttribute",value:function visitAttribute(t,r){}},{key:"_addError",value:function _addError(t,r){this._errors.push(new ms(t.sourceSpan,r))}}]),XmlToI18n$1}();var vo="translationbundle",mo="translation",go=function(t){(0,m.default)(Xtb,t);var r=(0,y.default)(Xtb);function Xtb(){return(0,x.default)(this,Xtb),r.apply(this,arguments)}return(0,_.default)(Xtb,[{key:"write",value:function write(t,r){throw new Error("Unsupported")}},{key:"load",value:function load(t,r){var i=(new yo).parse(t,r),a=i.locale,o=i.msgIdToHtml,l=i.errors,u={},p=new Eo;if(Object.keys(o).forEach((function(t){!function createLazyProperty(t,r,i){Object.defineProperty(t,r,{configurable:!0,enumerable:!0,get:function get(){var a=i();return Object.defineProperty(t,r,{enumerable:!0,value:a}),a},set:function set(t){throw new Error("Could not overwrite an XTB translation")}})}(u,t,(function valueFn(){var i=p.convert(o[t],r),a=i.i18nNodes,l=i.errors;if(l.length)throw new Error("xtb parse errors:\n".concat(l.join("\n")));return a}))})),l.length)throw new Error("xtb parse errors:\n".concat(l.join("\n")));return{locale:a,i18nNodesByMsgId:u}}},{key:"digest",value:function digest(t){return _digest2(t)}},{key:"createNameMapper",value:function createNameMapper(t){return new dn(t,toPublicName)}}]),Xtb}(hn);var yo=function(){function XtbParser(){(0,x.default)(this,XtbParser),this._locale=null}return(0,_.default)(XtbParser,[{key:"parse",value:function parse(t,r){this._bundleDepth=0,this._msgIdToHtml={};var i=(new Js).parse(t,r);return this._errors=i.errors,visitAll(this,i.rootNodes),{msgIdToHtml:this._msgIdToHtml,errors:this._errors,locale:this._locale}}},{key:"visitElement",value:function visitElement(t,r){switch(t.name){case vo:this._bundleDepth++,this._bundleDepth>1&&this._addError(t,"<".concat(vo,"> elements can not be nested"));var i=t.attrs.find((function(t){return"lang"===t.name}));i&&(this._locale=i.value),visitAll(this,t.children,null),this._bundleDepth--;break;case mo:var a=t.attrs.find((function(t){return"id"===t.name}));if(a){var o=a.value;if(this._msgIdToHtml.hasOwnProperty(o))this._addError(t,"Duplicated translations for msg ".concat(o));else{var l=t.startSourceSpan.end.offset,u=t.endSourceSpan.start.offset,p=t.startSourceSpan.start.file.content.slice(l,u);this._msgIdToHtml[o]=p}}else this._addError(t,"<".concat(mo,'> misses the "id" attribute'));break;default:this._addError(t,"Unexpected tag")}}},{key:"visitAttribute",value:function visitAttribute(t,r){}},{key:"visitText",value:function visitText(t,r){}},{key:"visitComment",value:function visitComment(t,r){}},{key:"visitExpansion",value:function visitExpansion(t,r){}},{key:"visitExpansionCase",value:function visitExpansionCase(t,r){}},{key:"_addError",value:function _addError(t,r){this._errors.push(new ms(t.sourceSpan,r))}}]),XtbParser}(),Eo=function(){function XmlToI18n(){(0,x.default)(this,XmlToI18n)}return(0,_.default)(XmlToI18n,[{key:"convert",value:function convert(t,r){var i=(new Js).parse(t,r,{tokenizeExpansionForms:!0});return this._errors=i.errors,{i18nNodes:this._errors.length>0||0==i.rootNodes.length?[]:visitAll(this,i.rootNodes),errors:this._errors}}},{key:"visitText",value:function visitText(t,r){return new nn(t.value,t.sourceSpan)}},{key:"visitExpansion",value:function visitExpansion(t,r){var i={};return visitAll(this,t.cases).forEach((function(r){i[r.value]=new rn(r.nodes,t.sourceSpan)})),new an(t.switchValue,t.type,i,t.sourceSpan)}},{key:"visitExpansionCase",value:function visitExpansionCase(t,r){return{value:t.value,nodes:visitAll(this,t.expression)}}},{key:"visitElement",value:function visitElement(t,r){if("ph"===t.name){var i=t.attrs.find((function(t){return"name"===t.name}));if(i)return new on("",i.value,t.sourceSpan);this._addError(t,"<".concat("ph",'> misses the "name" attribute'))}else this._addError(t,"Unexpected tag");return null}},{key:"visitComment",value:function visitComment(t,r){}},{key:"visitAttribute",value:function visitAttribute(t,r){}},{key:"_addError",value:function _addError(t,r){this._errors.push(new ms(t.sourceSpan,r))}}]),XmlToI18n}(),ko=function(){function TranslationBundle(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ee.Warning,l=arguments.length>5?arguments[5]:void 0;(0,x.default)(this,TranslationBundle),this._i18nNodesByMsgId=t,this.digest=i,this.mapperFactory=a,this._i18nToHtml=new xo(t,r,i,a,o,l)}return(0,_.default)(TranslationBundle,[{key:"get",value:function get(t){var r=this._i18nToHtml.convert(t);if(r.errors.length)throw new Error(r.errors.join("\n"));return r.nodes}},{key:"has",value:function has(t){return this.digest(t)in this._i18nNodesByMsgId}}],[{key:"load",value:function load(t,r,i,a,o){var l=i.load(t,r),u=l.locale;return new TranslationBundle(l.i18nNodesByMsgId,u,(function digestFn(t){return i.digest(t)}),(function mapperFactory(t){return i.createNameMapper(t)}),a,o)}}]),TranslationBundle}(),xo=function(){function I18nToHtmlVisitor(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,l=arguments.length>5?arguments[5]:void 0;(0,x.default)(this,I18nToHtmlVisitor),this._i18nNodesByMsgId=t,this._locale=r,this._digest=i,this._mapperFactory=a,this._missingTranslationStrategy=o,this._console=l,this._contextStack=[],this._errors=[]}return(0,_.default)(I18nToHtmlVisitor,[{key:"convert",value:function convert(t){this._contextStack.length=0,this._errors.length=0;var r=this._convertToText(t),i=t.nodes[0].sourceSpan.start.file.url,a=(new _a).parse(r,i,{tokenizeExpansionForms:!0});return{nodes:a.rootNodes,errors:[].concat((0,k.default)(this._errors),(0,k.default)(a.errors))}}},{key:"visitText",value:function visitText(t,r){return escapeXml(t.value)}},{key:"visitContainer",value:function visitContainer(t,r){var i=this;return t.children.map((function(t){return t.visit(i)})).join("")}},{key:"visitIcu",value:function visitIcu(t,r){var i=this,a=Object.keys(t.cases).map((function(r){return"".concat(r," {").concat(t.cases[r].visit(i),"}")})),o=this._srcMsg.placeholders.hasOwnProperty(t.expression)?this._srcMsg.placeholders[t.expression].text:t.expression;return"{".concat(o,", ").concat(t.type,", ").concat(a.join(" "),"}")}},{key:"visitPlaceholder",value:function visitPlaceholder(t,r){var i=this._mapper(t.name);return this._srcMsg.placeholders.hasOwnProperty(i)?this._srcMsg.placeholders[i].text:this._srcMsg.placeholderToMessage.hasOwnProperty(i)?this._convertToText(this._srcMsg.placeholderToMessage[i]):(this._addError(t,'Unknown placeholder "'.concat(t.name,'"')),"")}},{key:"visitTagPlaceholder",value:function visitTagPlaceholder(t,r){var i=this,a="".concat(t.tag),o=Object.keys(t.attrs).map((function(r){return"".concat(r,'="').concat(t.attrs[r],'"')})).join(" ");if(t.isVoid)return"<".concat(a," ").concat(o,"/>");var l=t.children.map((function(t){return t.visit(i)})).join("");return"<".concat(a," ").concat(o,">").concat(l,"</").concat(a,">")}},{key:"visitIcuPlaceholder",value:function visitIcuPlaceholder(t,r){return this._convertToText(this._srcMsg.placeholderToMessage[t.name])}},{key:"_convertToText",value:function _convertToText(t){var r,i=this,a=this._digest(t),o=this._mapperFactory?this._mapperFactory(t):null;if(this._contextStack.push({msg:this._srcMsg,mapper:this._mapper}),this._srcMsg=t,this._i18nNodesByMsgId.hasOwnProperty(a))r=this._i18nNodesByMsgId[a],this._mapper=function(t){return o?o.toInternalName(t):t};else{if(this._missingTranslationStrategy===ee.Error){var l=this._locale?' for locale "'.concat(this._locale,'"'):"";this._addError(t.nodes[0],'Missing translation for message "'.concat(a,'"').concat(l))}else if(this._console&&this._missingTranslationStrategy===ee.Warning){var u=this._locale?' for locale "'.concat(this._locale,'"'):"";this._console.warn('Missing translation for message "'.concat(a,'"').concat(u))}r=t.nodes,this._mapper=function(t){return t}}var p=r.map((function(t){return t.visit(i)})).join(""),h=this._contextStack.pop();return this._srcMsg=h.msg,this._mapper=h.mapper,p}},{key:"_addError",value:function _addError(t,r){this._errors.push(new ms(t.sourceSpan,r))}}]),I18nToHtmlVisitor}(),So=function(){function I18NHtmlParser(t,r,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ee.Warning,o=arguments.length>4?arguments[4]:void 0;if((0,x.default)(this,I18NHtmlParser),this._htmlParser=t,r){var l=createSerializer(i);this._translationBundle=ko.load(r,"i18n",l,a,o)}else this._translationBundle=new ko({},null,digest$1,void 0,a,o)}return(0,_.default)(I18NHtmlParser,[{key:"parse",value:function parse(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=i.interpolationConfig||qn,o=this._htmlParser.parse(t,r,Object.assign({interpolationConfig:a},i));return o.errors.length?new Ea(o.rootNodes,o.errors):mergeTranslations(o.rootNodes,this._translationBundle,a,[],{})}}]),I18NHtmlParser}();function createSerializer(t){switch(t=(t||"xlf").toLowerCase()){case"xmb":return new Tn;case"xtb":return new go;case"xliff2":case"xlf2":return new co;default:return new no}}var _o,wo=function(){function MessageBundle(t,r,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;(0,x.default)(this,MessageBundle),this._htmlParser=t,this._implicitTags=r,this._implicitAttrs=i,this._locale=a,this._messages=[]}return(0,_.default)(MessageBundle,[{key:"updateFromTemplate",value:function updateFromTemplate(t,r,i){var a,o=this._htmlParser.parse(t,r,{tokenizeExpansionForms:!0,interpolationConfig:i});if(o.errors.length)return o.errors;var l=function extractMessages(t,r,i,a){return new Gs(i,a).extract(t,r)}(o.rootNodes,i,this._implicitTags,this._implicitAttrs);return l.errors.length?l.errors:((a=this._messages).push.apply(a,(0,k.default)(l.messages)),[])}},{key:"getMessages",value:function getMessages(){return this._messages}},{key:"write",value:function write(t,r){var i={},a=new To;this._messages.forEach((function(r){var a,o=t.digest(r);i.hasOwnProperty(o)?(a=i[o].sources).push.apply(a,(0,k.default)(r.sources)):i[o]=r}));var o=Object.keys(i).map((function(o){var l=t.createNameMapper(i[o]),u=i[o],p=l?a.convert(u.nodes,l):u.nodes,h=new tn(p,{},{},u.meaning,u.description,o);return h.sources=u.sources,r&&h.sources.forEach((function(t){return t.filePath=r(t.filePath)})),h}));return t.write(o,this._locale)}}]),MessageBundle}(),To=function(t){(0,m.default)(MapPlaceholderNames,t);var r=(0,y.default)(MapPlaceholderNames);function MapPlaceholderNames(){return(0,x.default)(this,MapPlaceholderNames),r.apply(this,arguments)}return(0,_.default)(MapPlaceholderNames,[{key:"convert",value:function convert(t,r){var i=this;return r?t.map((function(t){return t.visit(i,r)})):t}},{key:"visitTagPlaceholder",value:function visitTagPlaceholder(t,r){var i=this,a=r.toPublicName(t.startName),o=t.closeName?r.toPublicName(t.closeName):t.closeName,l=t.children.map((function(t){return t.visit(i,r)}));return new sn(t.tag,t.attrs,a,o,l,t.isVoid,t.sourceSpan,t.startSourceSpan,t.endSourceSpan)}},{key:"visitPlaceholder",value:function visitPlaceholder(t,r){return new on(t.value,r.toPublicName(t.name),t.sourceSpan)}},{key:"visitIcuPlaceholder",value:function visitIcuPlaceholder(t,r){return new ln(t.value,r.toPublicName(t.name),t.sourceSpan)}}]),MapPlaceholderNames}(un);!function(t){t[t.Directive=0]="Directive",t[t.Component=1]="Component",t[t.Injectable=2]="Injectable",t[t.Pipe=3]="Pipe",t[t.NgModule=4]="NgModule"}(_o||(_o={}));var bo=function(){function R3TargetBinder(t){(0,x.default)(this,R3TargetBinder),this.directiveMatcher=t}return(0,_.default)(R3TargetBinder,[{key:"bind",value:function bind(t){if(!t.template)throw new Error("Binding without a template not yet supported");var r=Co.apply(t.template),i=function extractTemplateEntities(t){var r=new Map;function extractScopeEntities(t){if(r.has(t.template))return r.get(t.template);var i,a=t.namedEntities;return i=null!==t.parentScope?new Map([].concat((0,k.default)(extractScopeEntities(t.parentScope)),(0,k.default)(a))):new Map(a),r.set(t.template,i),i}var i=[t];for(;i.length>0;){var a,o=i.pop(),l=(0,E.default)(o.childScopes.values());try{for(l.s();!(a=l.n()).done;){var u=a.value;i.push(u)}}catch(t){l.e(t)}finally{l.f()}extractScopeEntities(o)}var h,d=new Map,v=(0,E.default)(r);try{for(v.s();!(h=v.n()).done;){var m=(0,p.default)(h.value,2),y=m[0],x=m[1];d.set(y,new Set(x.values()))}}catch(t){v.e(t)}finally{v.f()}return d}(r),a=Io.apply(t.template,this.directiveMatcher),o=a.directives,l=a.bindings,u=a.references,h=Po.applyWithScope(t.template,r),d=h.expressions,v=h.symbols,m=h.nestingLevel,y=h.usedPipes;return new Ao(t,o,l,u,d,v,m,i,y)}}]),R3TargetBinder}(),Co=function(){function Scope(t,r){(0,x.default)(this,Scope),this.parentScope=t,this.template=r,this.namedEntities=new Map,this.childScopes=new Map}return(0,_.default)(Scope,[{key:"ingest",value:function ingest(t){var r=this;t instanceof Gt?(t.variables.forEach((function(t){return r.visitVariable(t)})),t.children.forEach((function(t){return t.visit(r)}))):t.forEach((function(t){return t.visit(r)}))}},{key:"visitElement",value:function visitElement(t){var r=this;t.references.forEach((function(t){return r.visitReference(t)})),t.children.forEach((function(t){return t.visit(r)}))}},{key:"visitTemplate",value:function visitTemplate(t){var r=this;t.references.forEach((function(t){return r.visitReference(t)}));var i=new Scope(this,t);i.ingest(t),this.childScopes.set(t,i)}},{key:"visitVariable",value:function visitVariable(t){this.maybeDeclare(t)}},{key:"visitReference",value:function visitReference(t){this.maybeDeclare(t)}},{key:"visitContent",value:function visitContent(t){}},{key:"visitBoundAttribute",value:function visitBoundAttribute(t){}},{key:"visitBoundEvent",value:function visitBoundEvent(t){}},{key:"visitBoundText",value:function visitBoundText(t){}},{key:"visitText",value:function visitText(t){}},{key:"visitTextAttribute",value:function visitTextAttribute(t){}},{key:"visitIcu",value:function visitIcu(t){}},{key:"maybeDeclare",value:function maybeDeclare(t){this.namedEntities.has(t.name)||this.namedEntities.set(t.name,t)}},{key:"lookup",value:function lookup(t){return this.namedEntities.has(t)?this.namedEntities.get(t):null!==this.parentScope?this.parentScope.lookup(t):null}},{key:"getChildScope",value:function getChildScope(t){var r=this.childScopes.get(t);if(void 0===r)throw new Error("Assertion error: child scope for ".concat(t," not found"));return r}}],[{key:"newRootScope",value:function newRootScope(){return new Scope(null,null)}},{key:"apply",value:function apply(t){var r=Scope.newRootScope();return r.ingest(t),r}}]),Scope}(),Io=function(){function DirectiveBinder(t,r,i,a){(0,x.default)(this,DirectiveBinder),this.matcher=t,this.directives=r,this.bindings=i,this.references=a}return(0,_.default)(DirectiveBinder,[{key:"ingest",value:function ingest(t){var r=this;t.forEach((function(t){return t.visit(r)}))}},{key:"visitElement",value:function visitElement(t){this.visitElementOrTemplate(t.name,t)}},{key:"visitTemplate",value:function visitTemplate(t){this.visitElementOrTemplate("ng-template",t)}},{key:"visitElementOrTemplate",value:function visitElementOrTemplate(t,r){var i=this,a=function createCssSelector(t,r){var i=new q,a=splitNsName(t)[1];return i.setElement(a),Object.getOwnPropertyNames(r).forEach((function(t){var a=splitNsName(t)[1],o=r[t];i.addAttribute(a,o),"class"===t.toLowerCase()&&o.trim().split(/\s+/).forEach((function(t){return i.addClassName(t)}))})),i}(t,function getAttrsForDirectiveMatching(t){var r={};return t instanceof Gt&&"ng-template"!==t.tagName?t.templateAttrs.forEach((function(t){return r[t.name]=""})):(t.attributes.forEach((function(t){isI18nAttribute(t.name)||(r[t.name]=t.value)})),t.inputs.forEach((function(t){r[t.name]=""})),t.outputs.forEach((function(t){r[t.name]=""}))),r}(r)),o=[];this.matcher.match(a,(function(t,r){return o.push(r)})),o.length>0&&this.directives.set(r,o),r.references.forEach((function(t){var a=null;if(""===t.value.trim())a=o.find((function(t){return t.isComponent}))||null;else if(null===(a=o.find((function(r){return null!==r.exportAs&&r.exportAs.some((function(r){return r===t.value}))}))||null))return;null!==a?i.references.set(t,{directive:a,node:r}):i.references.set(t,r)}));var l=function setAttributeBinding(t,a){var l=o.find((function(r){return r[a].hasBindingPropertyName(t.name)})),u=void 0!==l?l:r;i.bindings.set(t,u)};r.inputs.forEach((function(t){return l(t,"inputs")})),r.attributes.forEach((function(t){return l(t,"inputs")})),r instanceof Gt&&r.templateAttrs.forEach((function(t){return l(t,"inputs")})),r.outputs.forEach((function(t){return l(t,"outputs")})),r.children.forEach((function(t){return t.visit(i)}))}},{key:"visitContent",value:function visitContent(t){}},{key:"visitVariable",value:function visitVariable(t){}},{key:"visitReference",value:function visitReference(t){}},{key:"visitTextAttribute",value:function visitTextAttribute(t){}},{key:"visitBoundAttribute",value:function visitBoundAttribute(t){}},{key:"visitBoundEvent",value:function visitBoundEvent(t){}},{key:"visitBoundAttributeOrEvent",value:function visitBoundAttributeOrEvent(t){}},{key:"visitText",value:function visitText(t){}},{key:"visitBoundText",value:function visitBoundText(t){}},{key:"visitIcu",value:function visitIcu(t){}}],[{key:"apply",value:function apply(t,r){var i=new Map,a=new Map,o=new Map;return new DirectiveBinder(r,i,a,o).ingest(t),{directives:i,bindings:a,references:o}}}]),DirectiveBinder}(),Po=function(t){(0,m.default)(TemplateBinder,t);var r=(0,y.default)(TemplateBinder);function TemplateBinder(t,i,a,o,l,u,p){var d;return(0,x.default)(this,TemplateBinder),(d=r.call(this)).bindings=t,d.symbols=i,d.usedPipes=a,d.nestingLevel=o,d.scope=l,d.template=u,d.level=p,d.pipesUsed=[],d.visitNode=function(t){return t.visit((0,h.default)(d))},d}return(0,_.default)(TemplateBinder,[{key:"visit",value:function visit(t,r){t instanceof Er?t.visit(this,r):t.visit(this)}},{key:"ingest",value:function ingest(t){t instanceof Gt?(t.variables.forEach(this.visitNode),t.children.forEach(this.visitNode),this.nestingLevel.set(t,this.level)):t.forEach(this.visitNode)}},{key:"visitElement",value:function visitElement(t){t.inputs.forEach(this.visitNode),t.outputs.forEach(this.visitNode),t.children.forEach(this.visitNode)}},{key:"visitTemplate",value:function visitTemplate(t){t.inputs.forEach(this.visitNode),t.outputs.forEach(this.visitNode),t.templateAttrs.forEach(this.visitNode),t.references.forEach(this.visitNode);var r=this.scope.getChildScope(t);new TemplateBinder(this.bindings,this.symbols,this.usedPipes,this.nestingLevel,r,t,this.level+1).ingest(t)}},{key:"visitVariable",value:function visitVariable(t){null!==this.template&&this.symbols.set(t,this.template)}},{key:"visitReference",value:function visitReference(t){null!==this.template&&this.symbols.set(t,this.template)}},{key:"visitText",value:function visitText(t){}},{key:"visitContent",value:function visitContent(t){}},{key:"visitTextAttribute",value:function visitTextAttribute(t){}},{key:"visitIcu",value:function visitIcu(t){var r=this;Object.keys(t.vars).forEach((function(i){return t.vars[i].visit(r)})),Object.keys(t.placeholders).forEach((function(i){return t.placeholders[i].visit(r)}))}},{key:"visitBoundAttribute",value:function visitBoundAttribute(t){t.value.visit(this)}},{key:"visitBoundEvent",value:function visitBoundEvent(t){t.handler.visit(this)}},{key:"visitBoundText",value:function visitBoundText(t){t.value.visit(this)}},{key:"visitPipe",value:function visitPipe(t,r){return this.usedPipes.add(t.name),(0,d.default)((0,v.default)(TemplateBinder.prototype),"visitPipe",this).call(this,t,r)}},{key:"visitPropertyRead",value:function visitPropertyRead(t,r){return this.maybeMap(r,t,t.name),(0,d.default)((0,v.default)(TemplateBinder.prototype),"visitPropertyRead",this).call(this,t,r)}},{key:"visitSafePropertyRead",value:function visitSafePropertyRead(t,r){return this.maybeMap(r,t,t.name),(0,d.default)((0,v.default)(TemplateBinder.prototype),"visitSafePropertyRead",this).call(this,t,r)}},{key:"visitPropertyWrite",value:function visitPropertyWrite(t,r){return this.maybeMap(r,t,t.name),(0,d.default)((0,v.default)(TemplateBinder.prototype),"visitPropertyWrite",this).call(this,t,r)}},{key:"maybeMap",value:function maybeMap(t,r,i){if(r.receiver instanceof Sr){var a=this.scope.lookup(i);null!==a&&this.bindings.set(r,a)}}}],[{key:"applyWithScope",value:function applyWithScope(t,r){var i=new Map,a=new Map,o=new Map,l=new Set;return new TemplateBinder(i,a,l,o,r,t instanceof Gt?t:null,0).ingest(t),{expressions:i,symbols:a,nestingLevel:o,usedPipes:l}}}]),TemplateBinder}(Zr),Ao=function(){function R3BoundTarget(t,r,i,a,o,l,u,p,h){(0,x.default)(this,R3BoundTarget),this.target=t,this.directives=r,this.bindings=i,this.references=a,this.exprTargets=o,this.symbols=l,this.nestingLevel=u,this.templateEntities=p,this.usedPipes=h}return(0,_.default)(R3BoundTarget,[{key:"getEntitiesInTemplateScope",value:function getEntitiesInTemplateScope(t){var r;return null!==(r=this.templateEntities.get(t))&&void 0!==r?r:new Set}},{key:"getDirectivesOfNode",value:function getDirectivesOfNode(t){return this.directives.get(t)||null}},{key:"getReferenceTarget",value:function getReferenceTarget(t){return this.references.get(t)||null}},{key:"getConsumerOfBinding",value:function getConsumerOfBinding(t){return this.bindings.get(t)||null}},{key:"getExpressionTarget",value:function getExpressionTarget(t){return this.exprTargets.get(t)||null}},{key:"getTemplateOfSymbol",value:function getTemplateOfSymbol(t){return this.symbols.get(t)||null}},{key:"getNestingLevel",value:function getNestingLevel(t){return this.nestingLevel.get(t)||0}},{key:"getUsedDirectives",value:function getUsedDirectives(){var t=new Set;return this.directives.forEach((function(r){return r.forEach((function(r){return t.add(r)}))})),Array.from(t.values())}},{key:"getUsedPipes",value:function getUsedPipes(){return Array.from(this.usedPipes)}}]),R3BoundTarget}();function compileClassMetadata(t){var r,i;return fn([],[devOnlyGuardedExpression(importExpr(Mt.setClassMetadata).callFn([t.type,t.decorators,null!==(r=t.ctorParameters)&&void 0!==r?r:literal(null),null!==(i=t.propDecorators)&&void 0!==i?i:literal(null)])).toStmt()]).callFn([])}function compileDeclareClassMetadata(t){var r=new Fn;return r.set("minVersion",literal("12.0.0")),r.set("version",literal("14.0.5")),r.set("ngImport",importExpr(Mt.core)),r.set("type",t.type),r.set("decorators",t.decorators),r.set("ctorParameters",t.ctorParameters),r.set("propDecorators",t.propDecorators),importExpr(Mt.declareClassMetadata).callFn([r.toLiteralMap()])}function toOptionalLiteralArray(t,r){return null===t||0===t.length?null:literalArr(t.map((function(t){return r(t)})))}function toOptionalLiteralMap(t,r){var i=Object.keys(t).map((function(i){var a=t[i];return{key:i,value:r(a),quoted:!0}}));return i.length>0?literalMap(i):null}function compileDependency(t){var r=new Fn;return r.set("token",t.token),null!==t.attributeNameType&&r.set("attribute",literal(!0)),t.host&&r.set("host",literal(!0)),t.optional&&r.set("optional",literal(!0)),t.self&&r.set("self",literal(!0)),t.skipSelf&&r.set("skipSelf",literal(!0)),r.toLiteralMap()}function compileDeclareDirectiveFromMetadata(t){var r=createDirectiveDefinitionMap(t);return{expression:importExpr(Mt.declareDirective).callFn([r.toLiteralMap()]),type:createDirectiveType(t),statements:[]}}function createDirectiveDefinitionMap(t){var r=new Fn;return r.set("minVersion",literal("14.0.0")),r.set("version",literal("14.0.5")),r.set("type",t.internalType),t.isStandalone&&r.set("isStandalone",literal(t.isStandalone)),null!==t.selector&&r.set("selector",literal(t.selector)),r.set("inputs",conditionallyCreateMapObjectLiteral(t.inputs,!0)),r.set("outputs",conditionallyCreateMapObjectLiteral(t.outputs)),r.set("host",function compileHostMetadata(t){var r=new Fn;r.set("attributes",toOptionalLiteralMap(t.attributes,(function(t){return t}))),r.set("listeners",toOptionalLiteralMap(t.listeners,literal)),r.set("properties",toOptionalLiteralMap(t.properties,literal)),t.specialAttributes.styleAttr&&r.set("styleAttribute",literal(t.specialAttributes.styleAttr));t.specialAttributes.classAttr&&r.set("classAttribute",literal(t.specialAttributes.classAttr));return r.values.length>0?r.toLiteralMap():null}(t.host)),r.set("providers",t.providers),t.queries.length>0&&r.set("queries",literalArr(t.queries.map(compileQuery))),t.viewQueries.length>0&&r.set("viewQueries",literalArr(t.viewQueries.map(compileQuery))),null!==t.exportAs&&r.set("exportAs",asLiteral(t.exportAs)),t.usesInheritance&&r.set("usesInheritance",literal(!0)),t.lifecycle.usesOnChanges&&r.set("usesOnChanges",literal(!0)),r.set("ngImport",importExpr(Mt.core)),r}function compileQuery(t){var r=new Fn;return r.set("propertyName",literal(t.propertyName)),t.first&&r.set("first",literal(!0)),r.set("predicate",Array.isArray(t.predicate)?asLiteral(t.predicate):convertFromMaybeForwardRefExpression(t.predicate)),t.emitDistinctChangesOnly||r.set("emitDistinctChangesOnly",literal(!1)),t.descendants&&r.set("descendants",literal(!0)),r.set("read",t.read),t.static&&r.set("static",literal(!0)),r.toLiteralMap()}function compileDeclareComponentFromMetadata(t,r,i){var a=function createComponentDefinitionMap(t,r,i){var a=createDirectiveDefinitionMap(t);a.set("template",function getTemplateExpression(t,r){if(null!==r.inlineTemplateLiteralExpression)return r.inlineTemplateLiteralExpression;if(r.isInline)return literal(r.content,null,null);var i=r.content,a=new rr(i,r.sourceUrl),o=new nr(a,0,0,0),l=function computeEndLocation(t,r){var i=r.length,a=0,o=0,l=0;do{-1!==(a=r.indexOf("\n",o))&&(o=a+1,l++)}while(-1!==a);return new nr(t,i,l,i-o)}(a,i),u=new ir(o,l);return literal(i,null,u)}(0,i)),i.isInline&&a.set("isInline",literal(!0));a.set("styles",toOptionalLiteralArray(t.styles,literal)),a.set("dependencies",function compileUsedDependenciesMetadata(t){var r=0!==t.declarationListEmitMode?generateForwardRef:function(t){return t};return toOptionalLiteralArray(t.declarations,(function(t){switch(t.kind){case dr.Directive:var i=new Fn;return i.set("kind",literal(t.isComponent?"component":"directive")),i.set("type",r(t.type)),i.set("selector",literal(t.selector)),i.set("inputs",toOptionalLiteralArray(t.inputs,literal)),i.set("outputs",toOptionalLiteralArray(t.outputs,literal)),i.set("exportAs",toOptionalLiteralArray(t.exportAs,literal)),i.toLiteralMap();case dr.Pipe:var a=new Fn;return a.set("kind",literal("pipe")),a.set("type",r(t.type)),a.set("name",literal(t.name)),a.toLiteralMap();case dr.NgModule:var o=new Fn;return o.set("kind",literal("ngmodule")),o.set("type",r(t.type)),o.toLiteralMap()}}))}(t)),a.set("viewProviders",t.viewProviders),a.set("animations",t.animations),void 0!==t.changeDetection&&a.set("changeDetection",importExpr(Mt.ChangeDetectionStrategy).prop(O[t.changeDetection]));t.encapsulation!==D.Emulated&&a.set("encapsulation",importExpr(Mt.ViewEncapsulation).prop(D[t.encapsulation]));t.interpolation!==qn&&a.set("interpolation",literalArr([literal(t.interpolation.start),literal(t.interpolation.end)]));!0===r.preserveWhitespaces&&a.set("preserveWhitespaces",literal(!0));return a}(t,r,i);return{expression:importExpr(Mt.declareComponent).callFn([a.toLiteralMap()]),type:createComponentType(t),statements:[]}}function compileDeclareFactoryFunction(t){var r=new Fn;return r.set("minVersion",literal("12.0.0")),r.set("version",literal("14.0.5")),r.set("ngImport",importExpr(Mt.core)),r.set("type",t.internalType),r.set("deps",function compileDependencies(t){return"invalid"===t?literal("invalid"):null===t?literal(null):literalArr(t.map(compileDependency))}(t.deps)),r.set("target",importExpr(Mt.FactoryTarget).prop(jt[t.target])),{expression:importExpr(Mt.declareFactory).callFn([r.toLiteralMap()]),statements:[],type:createFactoryType(t)}}var No="12.0.0";function compileDeclareInjectableFromMetadata(t){var r=function createInjectableDefinitionMap(t){var r=new Fn;if(r.set("minVersion",literal(No)),r.set("version",literal("14.0.5")),r.set("ngImport",importExpr(Mt.core)),r.set("type",t.internalType),void 0!==t.providedIn){var i=convertFromMaybeForwardRefExpression(t.providedIn);null!==i.value&&r.set("providedIn",i)}void 0!==t.useClass&&r.set("useClass",convertFromMaybeForwardRefExpression(t.useClass));void 0!==t.useExisting&&r.set("useExisting",convertFromMaybeForwardRefExpression(t.useExisting));void 0!==t.useValue&&r.set("useValue",convertFromMaybeForwardRefExpression(t.useValue));void 0!==t.useFactory&&r.set("useFactory",t.useFactory);void 0!==t.deps&&r.set("deps",literalArr(t.deps.map(compileDependency)));return r}(t);return{expression:importExpr(Mt.declareInjectable).callFn([r.toLiteralMap()]),type:createInjectableType(t),statements:[]}}var Mo="12.0.0";function compileDeclareInjectorFromMetadata(t){var r=function createInjectorDefinitionMap(t){var r=new Fn;r.set("minVersion",literal(Mo)),r.set("version",literal("14.0.5")),r.set("ngImport",importExpr(Mt.core)),r.set("type",t.internalType),r.set("providers",t.providers),t.imports.length>0&&r.set("imports",literalArr(t.imports));return r}(t);return{expression:importExpr(Mt.declareInjector).callFn([r.toLiteralMap()]),type:createInjectorType(t),statements:[]}}var Lo="14.0.0";function compileDeclareNgModuleFromMetadata(t){var r=function createNgModuleDefinitionMap(t){var r=new Fn;r.set("minVersion",literal(Lo)),r.set("version",literal("14.0.5")),r.set("ngImport",importExpr(Mt.core)),r.set("type",t.internalType),t.bootstrap.length>0&&r.set("bootstrap",refsToArray(t.bootstrap,t.containsForwardDecls));t.declarations.length>0&&r.set("declarations",refsToArray(t.declarations,t.containsForwardDecls));t.imports.length>0&&r.set("imports",refsToArray(t.imports,t.containsForwardDecls));t.exports.length>0&&r.set("exports",refsToArray(t.exports,t.containsForwardDecls));null!==t.schemas&&t.schemas.length>0&&r.set("schemas",literalArr(t.schemas.map((function(t){return t.value}))));null!==t.id&&r.set("id",t.id);return r}(t);return{expression:importExpr(Mt.declareNgModule).callFn([r.toLiteralMap()]),type:createNgModuleType(t),statements:[]}}var Ro="14.0.0";function compileDeclarePipeFromMetadata(t){var r=function createPipeDefinitionMap(t){var r=new Fn;r.set("minVersion",literal(Ro)),r.set("version",literal("14.0.5")),r.set("ngImport",importExpr(Mt.core)),r.set("type",t.internalType),t.isStandalone&&r.set("isStandalone",literal(t.isStandalone));r.set("name",literal(t.pipeName)),!1===t.pure&&r.set("pure",literal(t.pure));return r}(t);return{expression:importExpr(Mt.declarePipe).callFn([r.toLiteralMap()]),type:createPipeType(t),statements:[]}}publishFacade(oe)},2844:function(t,r,i){"use strict";i.r(r),i.d(r,{$localize:function(){return a["$localize"]}});var a=i(2845);a["_global"].$localize=a["$localize"]},2845:function(t,r,i){"use strict";i.r(r),i.d(r,{clearTranslations:function(){return clearTranslations},loadTranslations:function(){return loadTranslations},"$localize":function(){return E},"MissingTranslationError":function(){return m},"_global":function(){return y},"computeMsgId":function(){return v.computeMsgId},"findEndOfBlock":function(){return findEndOfBlock},"isMissingTranslationError":function(){return isMissingTranslationError},"makeParsedTranslation":function(){return makeParsedTranslation},"makeTemplateObject":function(){return makeTemplateObject},"parseMessage":function(){return parseMessage},"parseMetadata":function(){return parseMetadata},"parseTranslation":function(){return parseTranslation},"splitBlock":function(){return splitBlock},"translate":function(){return translate$1}});var a=i(9),o=i(8),l=i(34),u=i(35),p=i(38),h=i(17),d=i(25),v=i(427);function parseMessage(t,r,i,a){for(var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],l={},u={},p={},h=parseMetadata(t[0],t.raw[0]),d=[h.text],m=[],y=h.text,E=1;E<t.length;E++){var k=parsePlaceholder(t[E],t.raw[E]),x=k.messagePart,_=k.placeholderName,w=void 0===_?computePlaceholderName(E):_,C=k.associatedMessageId;y+="{$".concat(w,"}").concat(x),void 0!==r&&(l[w]=r[E-1],u[w]=o[E-1]),m.push(w),void 0!==C&&(p[w]=C),d.push(x)}var I=h.customId||(0,v.computeMsgId)(y,h.meaning||""),A=h.legacyIds?h.legacyIds.filter((function(t){return t!==I})):[];return{id:I,legacyIds:A,substitutions:l,substitutionLocations:u,text:y,customId:h.customId,meaning:h.meaning||"",description:h.description||"",messageParts:d,messagePartLocations:a,placeholderNames:m,associatedMessageIds:p,location:i}}function parseMetadata(t,r){var i=splitBlock(t,r),a=i.text,o=i.block;if(void 0===o)return{text:a};var l=o.split(""),u=(0,d.default)(l),p=u[0],v=u.slice(1),m=p.split("@@",2),y=(0,h.default)(m,2),E=y[0],k=y[1],x=E.split("|",2),_=(0,h.default)(x,2),w=_[0],C=_[1];return void 0===C&&(C=w,w=void 0),""===C&&(C=void 0),{text:a,meaning:w,description:C,customId:k,legacyIds:v}}function parsePlaceholder(t,r){var i=splitBlock(t,r),a=i.text,o=i.block;if(void 0===o)return{messagePart:a};var l=o.split("@@"),u=(0,h.default)(l,2);return{messagePart:a,placeholderName:u[0],associatedMessageId:u[1]}}function splitBlock(t,r){if(":"!==r.charAt(0))return{text:t};var i=findEndOfBlock(t,r);return{block:t.substring(1,i),text:t.substring(i+1)}}function computePlaceholderName(t){return 1===t?"PH":"PH_".concat(t-1)}function findEndOfBlock(t,r){for(var i=1,a=1;i<t.length;i++,a++)if("\\"===r[a])a++;else if(":"===t[i])return i;throw new Error('Unterminated $localize metadata block in "'.concat(r,'".'))}var m=function(t){(0,l.default)(MissingTranslationError,t);var r=(0,u.default)(MissingTranslationError);function MissingTranslationError(t){var i;return(0,o.default)(this,MissingTranslationError),(i=r.call(this,"No translation found for ".concat(describeMessage(t),"."))).parsedMessage=t,i.type="MissingTranslationError",i}return(0,a.default)(MissingTranslationError)}((0,p.default)(Error));function isMissingTranslationError(t){return"MissingTranslationError"===t.type}function translate$1(t,r,i){var a=parseMessage(r,i),o=t[a.id];if(void 0!==a.legacyIds)for(var l=0;l<a.legacyIds.length&&void 0===o;l++)o=t[a.legacyIds[l]];if(void 0===o)throw new m(a);return[o.messageParts,o.placeholderNames.map((function(t){if(a.substitutions.hasOwnProperty(t))return a.substitutions[t];throw new Error("There is a placeholder name mismatch with the translation provided for the message ".concat(describeMessage(a),".\n")+"The translation contains a placeholder with name ".concat(t,", which does not exist in the message."))}))]}function parseTranslation(t){for(var r=t.split(/{\$([^}]*)}/),i=[r[0]],a=[],o=1;o<r.length-1;o+=2)a.push(r[o]),i.push("".concat(r[o+1]));var l=i.map((function(t){return":"===t.charAt(0)?"\\"+t:t}));return{text:t,messageParts:makeTemplateObject(i,l),placeholderNames:a}}function makeParsedTranslation(t){for(var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=t[0],a=0;a<r.length;a++)i+="{$".concat(r[a],"}").concat(t[a+1]);return{text:i,messageParts:makeTemplateObject(t,t),placeholderNames:r}}function makeTemplateObject(t,r){return Object.defineProperty(t,"raw",{value:r}),t}function describeMessage(t){var r=t.meaning&&' - "'.concat(t.meaning,'"'),i=t.legacyIds&&t.legacyIds.length>0?" [".concat(t.legacyIds.map((function(t){return'"'.concat(t,'"')})).join(", "),"]"):"";return'"'.concat(t.id,'"').concat(i,' ("').concat(t.text,'"').concat(r,")")}function loadTranslations(t){$localize.translate||($localize.translate=translate),$localize.TRANSLATIONS||($localize.TRANSLATIONS={}),Object.keys(t).forEach((function(r){$localize.TRANSLATIONS[r]=parseTranslation(t[r])}))}function clearTranslations(){$localize.translate=void 0,$localize.TRANSLATIONS={}}function translate(t,r){try{return translate$1($localize.TRANSLATIONS,t,r)}catch(i){return console.warn(i.message),[t,r]}}var y=function(){return"undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof global&&global||"undefined"!=typeof window&&window||"undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self}(),E=function $localize$1(t){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];if($localize$1.translate){var o=$localize$1.translate(t,i);t=o[0],i=o[1]}for(var l=stripBlock(t[0],t.raw[0]),u=1;u<t.length;u++)l+=i[u-1]+stripBlock(t[u],t.raw[u]);return l};function stripBlock(t,r){return":"===r.charAt(0)?t.substring(findEndOfBlock(t,r)+1):t}},21:function(t,r,i){"use strict";function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,a=new Array(r);i<r;i++)a[i]=t[i];return a}i.r(r),i.d(r,{default:function(){return _arrayLikeToArray}})},18:function(t,r,i){"use strict";function _arrayWithHoles(t){if(Array.isArray(t))return t}i.r(r),i.d(r,{default:function(){return _arrayWithHoles}})},29:function(t,r,i){"use strict";i.r(r),i.d(r,{default:function(){return _arrayWithoutHoles}});var a=i(21);function _arrayWithoutHoles(t){if(Array.isArray(t))return(0,a.default)(t)}},24:function(t,r,i){"use strict";function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}i.r(r),i.d(r,{default:function(){return _assertThisInitialized}})},8:function(t,r,i){"use strict";function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}i.r(r),i.d(r,{default:function(){return _classCallCheck}})},31:function(t,r,i){"use strict";i.r(r),i.d(r,{default:function(){return _construct}});var a=i(32),o=i(33);function _construct(t,r,i){return _construct=(0,o.default)()?Reflect.construct:function _construct(t,r,i){var o=[null];o.push.apply(o,r);var l=new(Function.bind.apply(t,o));return i&&(0,a.default)(l,i.prototype),l},_construct.apply(null,arguments)}},9:function(t,r,i){"use strict";function _defineProperties(t,r){for(var i=0;i<r.length;i++){var a=r[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function _createClass(t,r,i){return r&&_defineProperties(t.prototype,r),i&&_defineProperties(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}i.r(r),i.d(r,{default:function(){return _createClass}})},27:function(t,r,i){"use strict";i.r(r),i.d(r,{default:function(){return _createForOfIteratorHelper}});var a=i(20);function _createForOfIteratorHelper(t,r){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=(0,a.default)(t))||r&&t&&"number"==typeof t.length){i&&(t=i);var o=0,l=function F(){};return{s:l,n:function n(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function e(t){throw t},f:l}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,p=!0,h=!1;return{s:function s(){i=i.call(t)},n:function n(){var t=i.next();return p=t.done,t},e:function e(t){h=!0,u=t},f:function f(){try{p||null==i.return||i.return()}finally{if(h)throw u}}}}},35:function(t,r,i){"use strict";i.r(r),i.d(r,{default:function(){return _createSuper}});var a=i(16),o=i(33),l=i(36);function _createSuper(t){var r=(0,o.default)();return function _createSuperInternal(){var i,o=(0,a.default)(t);if(r){var u=(0,a.default)(this).constructor;i=Reflect.construct(o,arguments,u)}else i=o.apply(this,arguments);return(0,l.default)(this,i)}}},14:function(t,r,i){"use strict";i.r(r),i.d(r,{default:function(){return _get}});var a=i(15);function _get(){return _get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(t,r,i){var o=(0,a.default)(t,r);if(o){var l=Object.getOwnPropertyDescriptor(o,r);return l.get?l.get.call(arguments.length<3?t:i):l.value}},_get.apply(this,arguments)}},16:function(t,r,i){"use strict";function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}i.r(r),i.d(r,{default:function(){return _getPrototypeOf}})},34:function(t,r,i){"use strict";i.r(r),i.d(r,{default:function(){return _inherits}});var a=i(32);function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&(0,a.default)(t,r)}},39:function(t,r,i){"use strict";function _isNativeFunction(t){return-1!==Function.toString.call(t).indexOf("[native code]")}i.r(r),i.d(r,{default:function(){return _isNativeFunction}})},33:function(t,r,i){"use strict";function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}i.r(r),i.d(r,{default:function(){return _isNativeReflectConstruct}})},26:function(t,r,i){"use strict";function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}i.r(r),i.d(r,{default:function(){return _iterableToArray}})},19:function(t,r,i){"use strict";function _iterableToArrayLimit(t,r){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var a,o,l=[],u=!0,p=!1;try{for(i=i.call(t);!(u=(a=i.next()).done)&&(l.push(a.value),!r||l.length!==r);u=!0);}catch(t){p=!0,o=t}finally{try{u||null==i.return||i.return()}finally{if(p)throw o}}return l}}i.r(r),i.d(r,{default:function(){return _iterableToArrayLimit}})},22:function(t,r,i){"use strict";function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}i.r(r),i.d(r,{default:function(){return _nonIterableRest}})},30:function(t,r,i){"use strict";function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}i.r(r),i.d(r,{default:function(){return _nonIterableSpread}})},36:function(t,r,i){"use strict";i.r(r),i.d(r,{default:function(){return _possibleConstructorReturn}});var a=i(37),o=i(24);function _possibleConstructorReturn(t,r){if(r&&("object"===(0,a.default)(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return(0,o.default)(t)}},32:function(t,r,i){"use strict";function _setPrototypeOf(t,r){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(t,r){return t.__proto__=r,t},_setPrototypeOf(t,r)}i.r(r),i.d(r,{default:function(){return _setPrototypeOf}})},17:function(t,r,i){"use strict";i.r(r),i.d(r,{default:function(){return _slicedToArray}});var a=i(18),o=i(19),l=i(20),u=i(22);function _slicedToArray(t,r){return(0,a.default)(t)||(0,o.default)(t,r)||(0,l.default)(t,r)||(0,u.default)()}},15:function(t,r,i){"use strict";i.r(r),i.d(r,{default:function(){return _superPropBase}});var a=i(16);function _superPropBase(t,r){for(;!Object.prototype.hasOwnProperty.call(t,r)&&null!==(t=(0,a.default)(t)););return t}},25:function(t,r,i){"use strict";i.r(r),i.d(r,{default:function(){return _toArray}});var a=i(18),o=i(26),l=i(20),u=i(22);function _toArray(t){return(0,a.default)(t)||(0,o.default)(t)||(0,l.default)(t)||(0,u.default)()}},28:function(t,r,i){"use strict";i.r(r),i.d(r,{default:function(){return _toConsumableArray}});var a=i(29),o=i(26),l=i(20),u=i(30);function _toConsumableArray(t){return(0,a.default)(t)||(0,o.default)(t)||(0,l.default)(t)||(0,u.default)()}},37:function(t,r,i){"use strict";function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}i.r(r),i.d(r,{default:function(){return _typeof}})},20:function(t,r,i){"use strict";i.r(r),i.d(r,{default:function(){return _unsupportedIterableToArray}});var a=i(21);function _unsupportedIterableToArray(t,r){if(t){if("string"==typeof t)return(0,a.default)(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?(0,a.default)(t,r):void 0}}},38:function(t,r,i){"use strict";i.r(r),i.d(r,{default:function(){return _wrapNativeSuper}});var a=i(16),o=i(32),l=i(39),u=i(31);function _wrapNativeSuper(t){var r="function"==typeof Map?new Map:void 0;return _wrapNativeSuper=function _wrapNativeSuper(t){if(null===t||!(0,l.default)(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(t))return r.get(t);r.set(t,Wrapper)}function Wrapper(){return(0,u.default)(t,arguments,(0,a.default)(this).constructor)}return Wrapper.prototype=Object.create(t.prototype,{constructor:{value:Wrapper,enumerable:!1,writable:!0,configurable:!0}}),(0,o.default)(Wrapper,t)},_wrapNativeSuper(t)}}},function(t){var r;r=2843,t(t.s=r)}]);